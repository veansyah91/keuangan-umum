import{r as A,j as s,Y as y,a as c}from"./app-a7ce059d.js";import{A as _}from"./AuthenticatedLayout-76fda790.js";import{H as T}from"./Header-0da6650e.js";import{c as Y}from"./index.esm-9ab17142.js";import{d as n}from"./dayjs.min-4bdbfd9d.js";import{F as j,d as u}from"./index.esm-2a224615.js";import{S as N}from"./SecondaryButton-1129a0a6.js";import{f as r}from"./formatNumber-b542c689.js";import{k as g,Q as v}from"./react-toastify.esm-2e3bc2c6.js";import"./ApplicationLogo-02651b1a.js";import"./iconBase-9a3ee22c.js";import"./transition-b97dbf58.js";/* empty css                      */function M({organization:e,payment:a,ledgers:x,contact:i,user:f}){const[p]=A.useState("https://web.whatsapp.com/send"),t=x.reduce((l,d)=>l+d.credit,0),o=()=>{window.print()},m=()=>{let l=i.phone;if(!l){v.error(`No Handphone ${i.name} tidak ditemukan`,{position:v.POSITION.TOP_CENTER});return}l[0]!=="6"&&l[1]!=="2"&&(l="62"+l.slice(1));let d="";x.forEach(h=>{d+=`%0ATanggal: ${n(h.date).locale("id").format("MMMM DD, YYYY")}%0ANo_Ref: ${h.no_ref}%0AJumlah: IDR ${r(h.credit)}%0A`}),d+=d?`%0A*Total: ${r(a.value-a.receivable_value+t)}*`:"%0A%0A%0A_Belum Dilakukan Pembayaran_";let w=`*RINCIAN PEMBAYARAN IURAN Tahunan*%0A-------------------------------------------------------%0A*Nama*: ${i.name}%0A*No. Siswa*: ${i.student.no_ref??"-"}%0A*Kelas Sekarang*: ${i.last_level.level}%0A-------------------------------------------------------%0A*FAKTUR PEMBAYARAN*%0A*Tanggal*: ${n(a.date).locale("id").format("MMMM DD, YYYY")}%0A*No Ref*: ${a.no_ref}%0A*Tahun Ajaran*: ${a.study_year}%0A*Nilai*: ${r(a.value)}%0A*Jumlah Bayar Tunai*: IDR. ${r(a.value-a.receivable_value+t)}${d}%0A%0A%0ATtd,%0A%0A%0A*${e.name}*`,b=`${p}?phone=${l}&text=${w}`;window.open(b,"_blank")};return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:`Tagihan Iuran Tahunan ${i.name} (${i.student.no_ref})`}),s.jsx(g,{}),s.jsx("div",{className:"sm:pt-0 pb-16 pt-12",children:s.jsxs("div",{className:"bg-white py-2 sm:pt-0 px-5",children:[s.jsxs("div",{className:"flex sm:flex-row justify-between gap-2 print:hidden",children:[s.jsx("div",{className:"px-3 my-auto flex gap-3"}),s.jsxs("div",{className:"text-end px-3 hidden sm:block space-x-5",children:[s.jsx(N,{onClick:m,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(j,{})}),s.jsx("div",{className:"my-auto",children:"Kirim WA"})]})}),s.jsx(N,{onClick:o,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(u,{})}),s.jsx("div",{className:"my-auto",children:"Print"})]})})]}),s.jsxs("div",{className:"fixed sm:hidden bottom-2 right-2 space-x-1",children:[s.jsx("button",{onClick:m,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(j,{})})})}),s.jsx("button",{onClick:o,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(u,{})})})})]})]}),s.jsxs("div",{className:"uppercase pt-9 pb-3 border-b hidden print:flex print:justify-between",children:[s.jsx("div",{className:"w-1/2 text-2xl my-auto",children:"Tagihan Iuran Tahunan"}),s.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[s.jsx("div",{children:e.name}),s.jsx("div",{className:"text-xs",children:e.address}),s.jsxs("div",{className:"text-xs",children:[e.village,", ",e.district,", ",e.regency,","," ",e.province]})]})]}),s.jsx("div",{className:"my-2 space-y-3 mx-3 print:font-['Open_Sans'] overflow-auto",children:s.jsxs("div",{className:"sm:w-3/4 w-[550px] print:w-full",children:[s.jsx("div",{className:"flex justify-between",children:s.jsx("div",{className:"w-1/2 font-bold uppercase",children:"Faktur Pembayaran"})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"w-1/2 space-y-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Tanggal"}),s.jsxs("div",{className:"w-2/3",children:[": ",n(a.date).locale("id").format("MMMM DD, YYYY")]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"No Ref"}),s.jsxs("div",{className:"w-2/3",children:[": ",a.no_ref]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Tahun Ajaran"}),s.jsxs("div",{className:"w-2/3",children:[": ",a.study_year]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Nilai"}),s.jsxs("div",{className:"w-2/3",children:[": IDR. ",r(a.value)]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Jumlah Bayar Tunai"}),s.jsxs("div",{className:"w-2/3",children:[": IDR. ",r(a.value-a.receivable_value+t)]})]})]}),s.jsxs("div",{className:"w-1/2 space-y-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Nama"}),s.jsxs("div",{className:"w-2/3",children:[": ",i.name]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"No. Siswa"}),s.jsxs("div",{className:"w-2/3",children:[": ",i.student.no_ref??"-"]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/3",children:"Kelas Sekarang"}),s.jsxs("div",{className:"w-2/3",children:[": ",i.last_level.level]})]})]})]}),s.jsxs("table",{className:"mt-10 w-full table text-base",children:[s.jsx("thead",{className:"text-base text-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-start",children:"Tanggal"}),s.jsx("th",{className:"text-start",children:"No Ref"}),s.jsx("th",{className:"text-end",children:"Jumlah"})]})}),s.jsx("tbody",{children:x.map(l=>s.jsxs("tr",{children:[s.jsx("td",{children:n(l.date).locale("id").format("MMMM DD, YYYY")}),s.jsx("td",{children:l.no_ref}),s.jsxs("td",{className:"text-end",children:["IDR. ",r(l.credit)]})]},l.id))}),s.jsx("tfoot",{className:"text-base text-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-start",colSpan:2,children:"Total"}),s.jsxs("th",{className:"text-end",children:["IDR. ",r(t)]})]})})]}),s.jsx("div",{className:"mt-20 w-full hidden justify-end print:flex",children:s.jsxs("div",{className:"",children:[s.jsxs("div",{children:[e.address,", ",n().locale("id").format("DD MMMM YYYY")," "]}),s.jsx("div",{className:"uppercase font-bold mt-20",children:f.name})]})})]})})]})})]})}M.layout=e=>s.jsx(_,{header:s.jsxs(T,{children:["Print Piutang ",e.props.contact.name]}),children:e,user:e.props.auth.user,organization:e.props.organization,title:"Print Piutang",backLink:s.jsx(c,{href:route("cashflow.student-entry-receivable.show",{organization:e.props.organization.id,studentEntryReceivable:e.props.contact.student_entry_receivable.id}),children:s.jsx(Y,{})}),breadcrumbs:s.jsx("div",{className:"text-sm breadcrumbs",children:s.jsxs("ul",{children:[s.jsx("li",{className:"font-bold",children:s.jsx(c,{href:route("cashflow",e.props.organization.id),children:"Arus Kas"})}),s.jsx("li",{className:"font-bold",children:s.jsx(c,{href:route("cashflow.student-monthly-receivable",e.props.organization.id),children:"Piutang Iuran Tahunan Siswa"})}),s.jsx("li",{className:"font-bold",children:s.jsx(c,{href:route("cashflow.student-entry-receivable.show",{organization:e.props.organization.id,studentEntryReceivable:e.props.contact.student_entry_receivable.id}),children:"Detail Piutang Iuran Tahunan Siswa"})}),s.jsx("li",{children:"Print Piutang Iuran Tahunan Siswa"})]})}),role:e.props.role});export{M as default};
