import{r as d,S as b,j as e,L as v,$ as l}from"./app-e83142f3.js";import{D as N,A as D}from"./AuthenticatedLayout-9fce3876.js";import{H as k}from"./Header-62783548.js";import{T as $,a as S,P as _,C}from"./ContentDesktop-2968678f.js";import{I as n,a as c,b as w}from"./index.esm-b77cfcfa.js";import{a as m,u as L}from"./index.module-b9fb6ad6.js";import{C as A}from"./ContentMobile-61b7ae96.js";import I from"./LogMobile-e61a385b.js";import{C as P}from"./ContainerDesktop-c52dc2d4.js";import V from"./LogDesktop-20270d4d.js";import"./ApplicationLogo-b4a187c6.js";import"./iconBase-c9c81c8c.js";import"./transition-155365a3.js";/* empty css                      */import"./dayjs.min-55994c47.js";import"./formatNumber-b542c689.js";function F({logs:a,organization:i,searchFilter:p}){const[s,o]=d.useState(p||""),[x]=m(s,500),[r,u]=d.useState({startDate:"",endDate:""}),[j]=m(r,500),g=L(s);d.useEffect(()=>{g!==void 0&&y()},[x,j]);const f=t=>{u(t)},y=()=>{b.reload({only:["logs"],data:{search:s,start_date:r.startDate,end_date:r.endDate}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Data Log Aktifitas"}),e.jsx($,{zIndex:"z-50",search:s,setSearch:t=>o(t.target.value),pageBefore:a.links[0].url?e.jsx(l,{href:`/logs/${i.id}?page=${a.current_page-1}&search=${s}`,preserveState:!0,only:["logs"],children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})}),pageAfter:a.links[a.links.length-1].url?e.jsx(l,{href:`/logs/${i.id}?page=${a.current_page+1}&search=${s}`,only:["logs"],preserveState:!0,children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})}),page:e.jsxs(e.Fragment,{children:[a.current_page,"/",a.last_page]}),data:a}),e.jsx(A,{children:a.data.map(t=>e.jsx(I,{logItem:t},t.id))}),e.jsxs(P,{children:[e.jsxs(S,{children:[e.jsx("div",{className:"w-1/4 my-auto ",children:e.jsx(N,{value:r,onChange:f,showShortcuts:!0,classNames:"border-2",separator:" sampai ",id:"date-picker-desktop"})}),e.jsxs("div",{className:"w-1/4 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx(w,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Log Aktifitas",className:"w-full border-none focus:outline-none focus:ring-0",value:s||"",onChange:t=>o(t.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(_,{data:a})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:a.links[0].url?e.jsx(l,{href:`/logs/${i.id}?page=${a.current_page-1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})})}),e.jsxs("div",{className:"my-auto",children:[a.current_page,"/",a.last_page]}),e.jsx("div",{className:"my-auto",children:a.links[a.links.length-1].url?e.jsx(l,{href:`/logs/${i.id}?page=${a.current_page+1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,only:["logs"],preserveState:!0,children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})})})]})]}),e.jsx(C,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Deskripsi"}),e.jsx("th",{className:"bg-gray-200",children:"Dibuat Tanggal"})]})}),e.jsx("tbody",{children:a.data.map((t,h)=>e.jsx(V,{logItem:t,className:`${h%2==0&&"bg-gray-100"}`},h))})]})})]})]})}F.layout=a=>e.jsx(D,{header:e.jsx(k,{children:"Log Aktifitas"}),children:a,user:a.props.auth.user,role:a.props.role,organization:a.props.organization,title:"Log Aktifitas"});export{F as default};
