import{r as i,y as b,j as e,Y as v,a as n}from"./app-60093d8b.js";import{D,A as N}from"./AuthenticatedLayout-f4603aa5.js";import{H as k}from"./Header-fccd1917.js";import{T as $,P as S}from"./TitleMobile-471fc2f0.js";import{I as c,a as d,b as _}from"./index.esm-53cbca2f.js";import{o as m,u as C}from"./index.module-dbb0b5e9.js";import{C as w,T as A,a as I}from"./ContentDesktop-48089c34.js";import L from"./LogMobile-4f942455.js";import{C as P}from"./ContainerDesktop-99c6f4c3.js";import T from"./LogDesktop-440bf7ee.js";import"./ApplicationLogo-07518b23.js";import"./iconBase-bb6eae91.js";import"./transition-69a0c110.js";/* empty css                      */import"./dayjs.min-af66fe14.js";import"./formatNumber-b542c689.js";function V({logs:a,organization:l,searchFilter:p,startDate:F,endDate:E}){i.useState(!1),i.useState(!1);const[s,o]=i.useState(p||""),[x]=m(s,500),[r,u]=i.useState({startDate:"",endDate:""}),[j]=m(r,500),g=C(s);i.useEffect(()=>{g!==void 0&&y()},[x,j]);const f=t=>{u(t)},y=()=>{b.reload({only:["logs"],data:{search:s,start_date:r.startDate,end_date:r.endDate}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Data Log Aktifitas"}),e.jsx($,{zIndex:"z-50",search:s,setSearch:t=>o(t.target.value),pageBefore:a.links[0].url?e.jsx(n,{href:`/logs/${l.id}?page=${a.current_page-1}&search=${s}`,preserveState:!0,only:["logs"],children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})}),pageAfter:a.links[a.links.length-1].url?e.jsx(n,{href:`/logs/${l.id}?page=${a.current_page+1}&search=${s}`,only:["logs"],preserveState:!0,children:e.jsx(d,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(d,{})}),page:e.jsxs(e.Fragment,{children:[a.current_page,"/",a.last_page]}),data:a}),e.jsx(w,{children:a.data.map(t=>e.jsx(L,{logItem:t},t.id))}),e.jsxs(P,{children:[e.jsxs(A,{children:[e.jsx("div",{className:"w-1/4 my-auto ",children:e.jsx(D,{value:r,onChange:f,showShortcuts:!0,classNames:"border-2",separator:" sampai ",id:"date-picker-desktop"})}),e.jsxs("div",{className:"w-1/4 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx(_,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Log Aktifitas",className:"w-full border-none focus:outline-none focus:ring-0",value:s||"",onChange:t=>o(t.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(S,{data:a})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:a.links[0].url?e.jsx(n,{href:`/logs/${l.id}?page=${a.current_page-1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,preserveState:!0,children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})})}),e.jsxs("div",{className:"my-auto",children:[a.current_page,"/",a.last_page]}),e.jsx("div",{className:"my-auto",children:a.links[a.links.length-1].url?e.jsx(n,{href:`/logs/${l.id}?page=${a.current_page+1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,only:["logs"],preserveState:!0,children:e.jsx(d,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(d,{})})})]})]}),e.jsx(I,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Deskripsi"}),e.jsx("th",{className:"bg-gray-200",children:"Dibuat Tanggal"})]})}),e.jsx("tbody",{children:a.data.map((t,h)=>e.jsx(T,{logItem:t,className:`${h%2==0&&"bg-gray-100"}`},h))})]})})]})]})}V.layout=a=>e.jsx(N,{header:e.jsx(k,{children:"Log Aktifitas"}),children:a,user:a.props.auth.user,role:a.props.role,organization:a.props.organization,title:"Log Aktifitas"});export{V as default};
