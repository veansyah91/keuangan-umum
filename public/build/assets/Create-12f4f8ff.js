import{W as N,r as n,y as b,j as e,Y as g,a as C}from"./app-dd6367b0.js";import{B}from"./BadgeSuccess-79d18f6f.js";import{H as S}from"./Header-cfa992ab.js";import s from"./Card-5d26dd92.js";import{P as m}from"./PrimaryButton-5e66c487.js";import{S as y}from"./SecondaryButton-5d6266a3.js";import{S as w}from"./SuccessButton-d07be0e0.js";import P from"./Container-75c7d0b8.js";import{o as k,u as A}from"./usePrevious-c21f085f.js";import{T as R}from"./TextInput-761f40e2.js";function Y({organization:i,affiliate:T}){const{data:d,setData:r,post:h,processing:H,errors:_,reset:x}=N({product:"Tahunan",affiliation_id:""}),[t,f]=n.useState(""),[l,o]=n.useState(""),[u]=k(t,500),p=A(t),c=a=>{r("product",a)},j=()=>{h(route("organization.invoice.post",i.id),{onSuccess:()=>x()})};n.useEffect(()=>{p!==void 0&&v()},[u]);const v=()=>{b.reload({only:["affiliate","organization"],data:{affiliate:t},onSuccess:({props:a})=>{a.affiliate?(o("+ 3 Bulan"),r("affiliation_id",a.affiliate.id)):(o(""),r("affiliation_id",""))}})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Organization"}),e.jsxs(P,{children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-t-lg",children:e.jsx("div",{className:"sm:p-6 px-6 py-6 text-gray-800 text-center",children:e.jsx(S,{children:"Pilih Paket Berlangganan"})})}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:flex pb-4 px-2",children:[e.jsxs(s,{className:`mt-2 sm:mt-0 ${d.product=="Bulanan"&&"border-[#57987f] border-2"}`,children:[e.jsx(s.CardHeader,{children:"Bulanan"}),e.jsxs(s.CardContent,{children:[e.jsx("div",{className:"text-4xl",children:"Rp. 70.000"}),e.jsx("div",{className:"italic text-sm",children:"Rp. 2.333 / hari"}),e.jsxs("div",{className:"mt-3 text-gray-500",children:["Berakhir Pada ",i.expiredAddAMonth]})]}),e.jsx("div",{className:"mt-5",children:e.jsx(m,{onClick:a=>c("Bulanan"),children:"Pilih"})})]}),e.jsxs(s,{className:`mt-2 sm:mt-0 ${d.product=="Tahunan"&&"border-[#57987f] border-2"}`,children:[e.jsxs(s.CardHeader,{children:["Tahunan ",e.jsx(B,{children:"Rekomendasi"})]}),e.jsxs(s.CardContent,{children:[e.jsx("div",{className:"text-4xl",children:"Rp. 600.000"}),e.jsx("div",{className:"italic text-sm",children:"Rp. 1.643 / hari"}),e.jsxs("div",{className:"mt-3 text-gray-500",children:[e.jsxs("div",{children:["Berakhir Pada ",i.expiredAdd12Month]}),e.jsx("div",{children:l&&e.jsx("span",{className:"italic text-green-500 font-bold",children:l})})]}),!i.affiliation_id&&e.jsx(R,{id:"affiliate",type:"text",name:"affiliate",value:t,className:"mt-5 w-full border-red-500'}",isFocused:!0,onChange:a=>f(a.target.value.toUpperCase()),placeholder:"Kode Affiliate (opsional)"})]}),e.jsx("div",{className:"mt-5",children:e.jsx(m,{onClick:()=>c("Tahunan"),type:"button",children:"Pilih"})})]})]}),e.jsxs("div",{className:"bg-white rounded-b-lg p-4 flex",children:[e.jsx("div",{className:"w-1/2",children:e.jsx(C,{href:route("organization.invoice",i.id),children:e.jsx(y,{children:"Halaman Sebelumnya"})})}),e.jsx("div",{className:"w-1/2 text-end",children:e.jsx(w,{onClick:j,children:"Buat Pesanan"})})]})]})]})}export{Y as default};
