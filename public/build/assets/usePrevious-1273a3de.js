import{r as n}from"./app-298a7bf2.js";function P(e,r,i){var g=this,f=n.useRef(null),l=n.useRef(0),t=n.useRef(null),a=n.useRef([]),o=n.useRef(),s=n.useRef(),E=n.useRef(e),m=n.useRef(!0);E.current=e;var x=typeof window<"u",d=!r&&r!==0&&x;if(typeof e!="function")throw new TypeError("Expected a function");r=+r||0;var F=!!(i=i||{}).leading,b=!("trailing"in i)||!!i.trailing,v="maxWait"in i,D="debounceOnServer"in i&&!!i.debounceOnServer,h=v?Math.max(+i.maxWait||0,r):null;n.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var q=n.useMemo(function(){var y=function(u){var c=a.current,w=o.current;return a.current=o.current=null,l.current=u,s.current=E.current.apply(w,c)},R=function(u,c){d&&cancelAnimationFrame(t.current),t.current=d?requestAnimationFrame(u):setTimeout(u,c)},M=function(u){if(!m.current)return!1;var c=u-f.current;return!f.current||c>=r||c<0||v&&u-l.current>=h},T=function(u){return t.current=null,b&&a.current?y(u):(a.current=o.current=null,s.current)},A=function u(){var c=Date.now();if(M(c))return T(c);if(m.current){var w=r-(c-f.current),O=v?Math.min(w,h-(c-l.current)):w;R(u,O)}},p=function(){if(x||D){var u=Date.now(),c=M(u);if(a.current=[].slice.call(arguments),o.current=g,f.current=u,c){if(!t.current&&m.current)return l.current=f.current,R(A,r),F?y(f.current):s.current;if(v)return R(A,r),y(f.current)}return t.current||R(A,r),s.current}};return p.cancel=function(){t.current&&(d?cancelAnimationFrame(t.current):clearTimeout(t.current)),l.current=0,a.current=f.current=o.current=t.current=null},p.isPending=function(){return!!t.current},p.flush=function(){return t.current?T(Date.now()):s.current},p},[F,v,r,h,b,d,x,D]);return q}function S(e,r){return e===r}function W(e,r){return r}function C(e,r,i){var g=i&&i.equalityFn||S,f=n.useReducer(W,e),l=f[0],t=f[1],a=P(n.useCallback(function(s){return t(s)},[t]),r,i),o=n.useRef(e);return g(o.current,e)||(a(e),o.current=e),[l,a]}function j(e){var r=n.useRef();return n.useEffect(function(){r.current=e}),r.current}export{C as o,j as u};
