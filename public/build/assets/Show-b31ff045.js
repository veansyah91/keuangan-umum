import{W as P,r as g,j as s,Y as T,a as c}from"./app-ad4257d5.js";import{A as Y}from"./AuthenticatedLayout-d335000d.js";import{H as M}from"./Header-f91aa4a0.js";import{c as k}from"./index.esm-c0a97de4.js";import{d}from"./dayjs.min-0ca5a2a2.js";import{F as x,e as o}from"./index.esm-a6b1405b.js";import{S as h}from"./SecondaryButton-f5ea60a7.js";import{f as r}from"./formatNumber-b542c689.js";import{k as S,Q as n}from"./react-toastify.esm-78ca1e04.js";import"./ApplicationLogo-ed865fd2.js";import"./iconBase-a1a0f175.js";import"./transition-1e2b0758.js";/* empty css                      */function D({contact:e,organization:l,role:I,payment:a,user:j,whatsappPlugin:N}){const{post:u,processing:p}=P({contact_id:e.id}),[v]=g.useState("https://web.whatsapp.com/send"),t=()=>{window.print()},m=()=>{if(N){u(route("cashflow.student-entry-receivable-payment.send-whatsapp",{organization:l.id,receivablePayment:a.id}),{onSuccess:({props:y})=>{const{flash:A}=y;n.success(A.success,{position:n.POSITION.TOP_CENTER})}});return}let i=e.phone;if(!i){n.error(`No Handphone ${e.name} tidak ditemukan`,{position:n.POSITION.TOP_CENTER});return}i[0]!=="6"&&i[1]!=="2"&&(i="62"+i.slice(1));let f=`*Jumlah Bayar: IDR. ${r(a.credit)}*%0A`,w=`*PEMBAYARAN ANGSURAN IURAN TAHUNAN*%0A-------------------------------------------------------%0A*Nama*: ${e.name}%0A*No. Siswa*: ${e.student.no_ref??"-"}%0A*Kelas Sekarang*: ${e.last_level.level}%0A-------------------------------------------------------%0A*No Ref*: ${a.no_ref}%0A*Tanggal*: ${d(a.date).locale("id").format("DD MMMM YYYY")}%0A${f}%0A%0ATtd,%0A%0A*${l.name}*`,b=`${v}?phone=${i}&text=${w}`;window.open(b,"_blank")};return s.jsxs(s.Fragment,{children:[s.jsx(T,{title:`Pembayaran Piutang Iuran Tahunan ${e.name} (${e.student.no_ref})`}),s.jsx("div",{className:"sm:pt-0 pb-16 pt-12",children:s.jsxs("div",{className:"bg-white py-2 sm:pt-0 px-5",children:[s.jsxs("div",{className:"flex sm:flex-row justify-between gap-2 print:hidden",children:[s.jsx("div",{className:"px-3 my-auto flex gap-3"}),s.jsxs("div",{className:"text-end px-3 hidden sm:block space-x-5",children:[e.phone&&s.jsx(h,{onClick:m,disabled:p,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(x,{})}),s.jsx("div",{className:"my-auto",children:"Kirim WA"})]})}),s.jsx(h,{onClick:t,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(o,{})}),s.jsx("div",{className:"my-auto",children:"Print"})]})})]}),s.jsxs("div",{className:"fixed sm:hidden bottom-2 right-2 space-x-1",children:[s.jsx("button",{onClick:m,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(x,{})})})}),s.jsx("button",{onClick:t,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(o,{})})})})]})]}),s.jsxs("div",{className:"uppercase pt-9 pb-3 border-b hidden print:flex print:justify-between",children:[s.jsx("div",{className:"w-1/2 text-2xl my-auto",children:"Pembayaran Piutang Iuran Tahunan"}),s.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[s.jsx("div",{children:l.name}),s.jsx("div",{className:"text-xs",children:l.address}),s.jsxs("div",{className:"text-xs",children:[l.village,", ",l.district,", ",l.regency,","," ",l.province]})]})]}),s.jsx("div",{className:"my-2 space-y-3 mx-3 print:font-['Open_Sans'] overflow-auto",children:s.jsxs("div",{className:"sm:w-3/4 w-[550px] print:w-full",children:[s.jsxs("div",{className:"w-full space-y-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Nama"}),s.jsxs("div",{className:"w-3/4",children:[": ",e.name]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"No. Siswa"}),s.jsxs("div",{className:"w-3/4",children:[": ",e.student.no_ref??"-"]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Kelas Sekarang"}),s.jsxs("div",{className:"w-3/4",children:[": ",e.last_level.level]})]})]}),s.jsxs("div",{className:"w-full space-y-2 mt-2 pt-3 border-t border-slate-900",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"No Ref"}),s.jsxs("div",{className:"w-3/4",children:[": ",a.no_ref]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Tanggal Bayar"}),s.jsxs("div",{className:"w-3/4",children:[": ",d(a.date).locale("id").format("DD MMMM YYYY")]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Jumlah"}),s.jsxs("div",{className:"w-3/4",children:[": IDR. ",r(a.credit)]})]})]}),s.jsxs("div",{className:"w-full space-y-2 mt-2 pt-3 border-t border-slate-900",children:[s.jsx("div",{className:"font-bold uppercase",children:"Faktur Pembayaran Iuran Tahunan"}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"No Ref"}),s.jsxs("div",{className:"w-3/4",children:[": ",a.payment.no_ref]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Tanggal"}),s.jsxs("div",{className:"w-3/4",children:[": ",d(a.payment.date).locale("id").format("DD MMMM YYYY")]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Tahun Ajaran"}),s.jsxs("div",{className:"w-3/4",children:[": ",a.payment.study_year]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Total"}),s.jsxs("div",{className:"w-3/4",children:[": IDR. ",r(a.payment.value)]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Sisa"}),s.jsxs("div",{className:"w-3/4",children:[": IDR. ",r(a.payment.receivable_value)]})]})]}),s.jsx("div",{className:"mt-20 w-full hidden justify-end print:flex",children:s.jsxs("div",{className:"",children:[s.jsxs("div",{children:[l.address,", ",d().locale("id").format("DD MMMM YYYY")," "]}),s.jsx("div",{className:"uppercase font-bold mt-20",children:j.name})]})})]})})]})}),s.jsx(S,{})]})}D.layout=e=>s.jsx(Y,{header:s.jsxs(M,{children:["Detail Pembayaran Piutang ",e.props.contact.name]}),children:e,user:e.props.auth.user,organization:e.props.organization,title:"Detail Pembayaran Piutang",backLink:s.jsx(c,{href:route("cashflow.student-entry-receivable-payment",e.props.organization.id),children:s.jsx(k,{})}),breadcrumbs:s.jsx("div",{className:"text-sm breadcrumbs",children:s.jsxs("ul",{children:[s.jsx("li",{className:"font-bold",children:s.jsx(c,{href:route("cashflow",e.props.organization.id),children:"Arus Kas"})}),s.jsx("li",{className:"font-bold",children:s.jsx(c,{href:route("cashflow.student-entry-receivable-payment",e.props.organization.id),children:"Pembayaran Piutang Iuran Tahunan Siswa"})}),s.jsx("li",{children:"Detail Pembayaran Piutang Iuran Tahunan"})]})}),role:e.props.role});export{D as default};
