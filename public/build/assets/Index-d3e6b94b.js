import{W as x,r as f,j as e,Y as h}from"./app-18d344c6.js";import{A as j}from"./AuthenticatedLayout-f72ab3d2.js";import{H as v}from"./Header-d3a5ebd0.js";import{k as N,Q as u}from"./react-toastify.esm-14a132f8.js";import{F as g}from"./FormInput-a434b94e.js";import{P as w}from"./PrimaryButton-74e4339d.js";import"./ApplicationLogo-782d5a75.js";import"./iconBase-4b51c5f1.js";import"./transition-27a0ae6f.js";/* empty css                      */import"./dayjs.min-3c5969fb.js";const b=(a,m)=>{let l=[];return a.forEach(n=>{let o={pageName:n.name,details:m.filter(r=>n.name===r.page).map(r=>({menuId:r.id,menuName:r.name,isActive:!!r.pivot.is_active}))};o.details.length>0&&(l=[...l,o])}),l};function y({pages:a,organization:m}){const{data:l,setData:n,processing:o,patch:r}=x({menu:[]});f.useEffect(()=>{n("menu",b(a,m.menus))},[]);const p=(t,i,s)=>{t.details[s]={...t.details[s],isActive:!t.details[s].isActive};let c=[...l.menu];c[i]=t,n("menu",c)},d=t=>{t.preventDefault(),r(route("menu-setting.update",{organization:m.id}),{onSuccess:({props:i})=>{const{flash:s}=i;u.success(s.success,{position:u.POSITION.TOP_CENTER})}})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Pengaturan Menu"}),e.jsx(N,{}),e.jsx(g,{onSubmit:d,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:mx-auto px-3 sm:px-5 space-y-5",children:[l.menu.map((t,i)=>e.jsxs("div",{className:"w-full text-slate-900 space-y-2 sm:space-y-0 sm:flex",children:[e.jsx("div",{className:"w-full sm:w-2/12 text-center sm:text-start uppercase font-bold",children:t.pageName}),e.jsx("div",{className:"w-full sm:w-2/12 text-start",children:t.details.map((s,c)=>e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:s.menuId,children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:s.menuId,value:s.isActive,onChange:()=>p(t,i,c),checked:s.isActive}),e.jsx("span",{className:"label-text w-full",children:s.menuName})]})},c))})]},i)),e.jsx("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:e.jsx("div",{className:"w-full sm:w-1/12 text-center",children:e.jsx(w,{className:"w-full",disabled:o,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})})]})})})]})}y.layout=a=>e.jsx(j,{header:e.jsx(v,{children:"Pengaturan Menu"}),children:a,user:a.props.auth.user,role:a.props.role,organization:a.props.organization,title:"Pengaturan Menu"});export{y as default};
