import{W as w,j as e,Y as N,a as c}from"./app-28f057a8.js";import{A as v}from"./AuthenticatedLayout-a131beb6.js";import{H as y}from"./Header-c8c7120c.js";import{k as b,Q as h}from"./react-toastify.esm-1130444f.js";/* empty css                      */import{c as _}from"./index.esm-3b8f85fe.js";import{F as g}from"./FormInput-bf8f1bdf.js";import{I as r}from"./InputLabel-9f8e8fe1.js";import{T as d}from"./TextInput-ff1279f3.js";import{S as C}from"./SecondaryButton-3632f05d.js";import{P as F}from"./PrimaryButton-398f9bdd.js";import{d as I}from"./dayjs.min-4edafb27.js";import"./studyYear-1ee84d9d.js";import"./ApplicationLogo-8c63ae5a.js";import"./iconBase-23d67abb.js";import"./transition-5f3f5d30.js";const S=()=>{const l=I().year(),m=l-10;let i=[];for(let o=m;o<l+1;o++)i=[...i,o];return i},U=()=>{let l=[];for(let m=1;m<13;m++)l=[...l,m];return l};function A({organization:l,contact:m,student:i,level:o}){const{data:t,setData:n,processing:u,patch:f,errors:a,setError:k,reset:D}=w({name:m.name||"",phone:m.phone||"",address:m.address||"",description:m.description||"",father_name:i.father_name||"",mother_name:i.mother_name||"",no_ref:i.no_ref||"",level:o.level,birthday:i.birthday||"",entry_year:parseInt(i.entry_year),year:o.year,student_id:i.id,student_level_id:o.id,is_active:m.is_active}),p=s=>{s.preventDefault(),f(route("data-master.students.update",{organization:l.id,contact:m.id}),{onSuccess:({props:x})=>{const{flash:j}=x;h.success(j.success,{position:h.POSITION.TOP_CENTER})},onError:x=>{console.log(x)},preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Ubah Data Siswa"}),e.jsx(b,{}),e.jsx(g,{onSubmit:p,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Nama",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"name",name:"name",className:`w-full ${(a==null?void 0:a.name)&&"border-red-500"}`,isFocused:!0,placeholder:"Nama",value:t.name,onChange:s=>n("name",s.target.value.toUpperCase())}),(a==null?void 0:a.name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"No. Handphone (opsional)",htmlFor:"phone",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"phone",name:"phone",className:`w-full ${(a==null?void 0:a.phone)&&"border-red-500"}`,placeholder:"08xxxxx / 62xxxxx",value:t.phone,onChange:s=>n("phone",s.target.value.toUpperCase())}),(a==null?void 0:a.phone)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.phone})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Alamat (opsional)",htmlFor:"address",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"address",name:"address",className:`w-full ${(a==null?void 0:a.address)&&"border-red-500"}`,placeholder:"Alamat",value:t.address,onChange:s=>n("address",s.target.value.toUpperCase())}),(a==null?void 0:a.address)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.address})]})]}),e.jsx("div",{className:"text-center mt-5 font-bold",children:"Detail Siswa"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Tahun Masuk",htmlFor:"entry_year",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("select",{className:"select select-bordered w-full",defaultValue:t.entry_year,onChange:s=>n("entry_year",parseInt(s.target.value)),id:"entry_year",children:S().map(s=>e.jsx("option",{children:s},s))}),(a==null?void 0:a.entry_year)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.entry_year})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"No Siswa (opsional)",htmlFor:"no_ref",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"no_ref",name:"no_ref",className:`w-full ${(a==null?void 0:a.no_ref)&&"border-red-500"}`,placeholder:"No Siswa",value:t.no_ref,onChange:s=>n("no_ref",s.target.value.toUpperCase())}),(a==null?void 0:a.no_ref)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.no_ref})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Kelas Tahun Ini",htmlFor:"entry_year",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("select",{className:"select select-bordered w-full",defaultValue:t.level,onChange:s=>n("level",parseInt(s.target.value)),id:"level",children:U().map(s=>e.jsx("option",{children:s},s))}),(a==null?void 0:a.level)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.level})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Nama Ayah (opsional)",htmlFor:"father_name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"father_name",name:"father_name",className:`w-full ${(a==null?void 0:a.father_name)&&"border-red-500"}`,placeholder:"Nama Ayah",value:t.father_name,onChange:s=>n("father_name",s.target.value.toUpperCase())}),(a==null?void 0:a.father_name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.father_name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Nama Ibu (opsional)",htmlFor:"mother_name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"mother_name",name:"mother_name",className:`w-full ${(a==null?void 0:a.mother_name)&&"border-red-500"}`,placeholder:"Nama Ibu",value:t.mother_name,onChange:s=>n("mother_name",s.target.value.toUpperCase())}),(a==null?void 0:a.mother_name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.mother_name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Tanggal Lahir (opsional)",htmlFor:"birthday",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"birthday",name:"birthday",className:`w-full ${(a==null?void 0:a.birthday)&&"border-red-500"}`,value:t.birthday,onChange:s=>n("birthday",s.target.value),type:"date"}),(a==null?void 0:a.birthday)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.birthday})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(r,{value:"Informasi Ubahan (opsional)",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"description",name:"description",className:`w-full ${(a==null?void 0:a.description)&&"border-red-500"}`,placeholder:"Informasi Ubahan",value:t.description,onChange:s=>n("description",s.target.value.toUpperCase())}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsx("div",{className:"w-1/6 mt-5",children:e.jsx("div",{className:"form-control ",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:"is_active",children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:"is_active",value:t.is_active,onChange:()=>n("is_active",!t.is_active),checked:t.is_active}),e.jsx("span",{className:"label-text font-bold",children:"Aktif"})]})})}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(c,{href:route("data-master.students",l.id),children:e.jsx(C,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Kembali"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(F,{className:"w-full",disabled:u,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})]})]})})})]})}A.layout=l=>e.jsx(v,{header:e.jsx(y,{children:"Ubah Data Siswa"}),children:l,user:l.props.auth.user,organization:l.props.organization,title:"Ubah Data Siswa",backLink:e.jsx(c,{href:route("data-master.students",l.props.organization.id),children:e.jsx(_,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(c,{href:route("data-master",l.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(c,{href:route("data-master.students",l.props.organization.id),children:"Data Siswa"})}),e.jsx("li",{children:"Ubah Data Siswa"})]})}),role:l.props.role});export{A as default};
