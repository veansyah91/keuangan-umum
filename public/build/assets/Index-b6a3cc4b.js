import{m as x,r as f,j as e,L as h}from"./app-c3de5fa6.js";import{A as j}from"./AuthenticatedLayout-2f82e08a.js";import{H as v}from"./Header-ee160182.js";import{k as N,Q as u}from"./react-toastify.esm-94b2ee7c.js";import{F as g}from"./FormInput-94d371de.js";import{P as w}from"./PrimaryButton-02cc0a94.js";import"./ApplicationLogo-33e039c9.js";import"./iconBase-23c1fa9a.js";import"./transition-294d1a88.js";/* empty css                      */import"./dayjs.min-c211a108.js";const b=(a,c)=>{let l=[];return a.forEach(m=>{let o={pageName:m.name,details:c.filter(r=>m.name===r.page).map(r=>({menuId:r.id,menuName:r.name,isActive:!!r.pivot.is_active}))};o.details.length>0&&(l=[...l,o])}),l};function y({pages:a,organization:c}){const{data:l,setData:m,processing:o,patch:r}=x({menu:[]});f.useEffect(()=>{m("menu",b(a,c.menus))},[]);const p=(t,i,s)=>{t.details[s]={...t.details[s],isActive:!t.details[s].isActive};let n=[...l.menu];n[i]=t,m("menu",n)},d=t=>{t.preventDefault(),r(route("menu-setting.update",{organization:c.id}),{onSuccess:({props:i})=>{const{flash:s}=i;u.success(s.success,{position:u.POSITION.TOP_CENTER})}})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Pengaturan Menu"}),e.jsx(N,{}),e.jsx(g,{onSubmit:d,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:mx-auto px-3 sm:px-5 space-y-5",children:[l.menu.map((t,i)=>e.jsxs("div",{className:"w-full text-slate-900 space-y-2 sm:space-y-0 sm:flex",children:[e.jsx("div",{className:"w-full sm:w-2/12 text-center sm:text-start uppercase font-bold",children:t.pageName}),e.jsx("div",{className:"w-full sm:w-2/12 text-start",children:t.details.map((s,n)=>e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:s.menuId,children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:s.menuId,value:s.isActive,onChange:()=>p(t,i,n),checked:s.isActive}),e.jsx("span",{className:"label-text w-full",children:s.menuName})]})},n))})]},i)),e.jsx("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:e.jsx("div",{className:"w-full sm:w-1/12 text-center",children:e.jsx(w,{className:"w-full",disabled:o,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})})]})})})]})}y.layout=a=>e.jsx(j,{header:e.jsx(v,{children:"Pengaturan Menu"}),children:a,user:a.props.auth.user,role:a.props.role,organization:a.props.organization,title:"Pengaturan Menu"});export{y as default};
