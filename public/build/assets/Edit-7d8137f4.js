import{W as D,r as o,j as e,Y as _,a as m}from"./app-88c87f32.js";import{D as u,A as S}from"./AuthenticatedLayout-6cfc83b1.js";import{H as k}from"./Header-3520d11e.js";import{c as C}from"./index.esm-956cc45f.js";import{S as P}from"./SecondaryButton-4832ad98.js";import{P as E}from"./PrimaryButton-2666205e.js";import{F}from"./FormInput-c7306312.js";import{k as I,Q as x}from"./react-toastify.esm-c798f8be.js";import{I as i}from"./InputLabel-8947c6bd.js";import{T as r}from"./TextInput-6f61e448.js";import{N as T}from"./react-number-format.es-1e3e8959.js";import"./ApplicationLogo-42ec1d23.js";import"./iconBase-5808e811.js";import"./transition-5928b65b.js";/* empty css                      */import"./dayjs.min-974eceb6.js";function B({organization:t,code:V,project:l}){const{data:n,setData:d,processing:h,post:z,errors:a,setError:A,patch:p}=D({name:l.name||"",code:l.code||"",description:l.description||"",start_date:l.start_date||"",end_date:l.end_date||"",status:l.status||"",estimated_value:l.estimated_value||0}),[f,j]=o.useState({startDate:"",endDate:""}),[v,N]=o.useState({startDate:"",endDate:""}),w=s=>{s.preventDefault(),p(route("data-master.project.update",{organization:t.id,project:l.id}),{onSuccess:({props:c})=>{x.success("Proyek Berhasil Diubah",{position:x.POSITION.TOP_CENTER})},preserveScroll:!0})},g=s=>{j(s),d("start_date",s.startDate)},y=s=>{N(s),d("end_date",s.startDate)},b=s=>{const{value:c}=s;d("estimated_value",c)};return e.jsxs(e.Fragment,{children:[e.jsx(_,{title:"Edit Proyek"}),e.jsx(I,{}),e.jsx(F,{onSubmit:w,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0 space-y-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Nama Proyek",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(r,{id:"name",name:"name",className:`w-full ${(a==null?void 0:a.name)&&"border-red-500"}`,isFocused:!0,placeholder:"Nama",value:n.name,onChange:s=>d("name",s.target.value.toUpperCase())}),(a==null?void 0:a.name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Kode",htmlFor:"code",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(r,{id:"code",name:"code",className:`w-full ${(a==null?void 0:a.code)&&"border-red-500"}`,placeholder:"Kode",value:n.code,onChange:s=>d("code",s.target.value.toUpperCase())}),(a==null?void 0:a.code)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.code})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Deskripsi",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(r,{id:"description",name:"description",className:`w-full ${(a==null?void 0:a.description)&&"border-red-500"}`,placeholder:"Deskripsi",value:n.description,onChange:s=>d("description",s.target.value.toUpperCase())}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Estimasi Kebutuhan Biaya",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(T,{value:n.estimated_value,customInput:r,onValueChange:s=>b(s),thousandSeparator:!0,className:"text-end w-full",prefix:"IDR ",id:"estimated-value"}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tanggal Mulai",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(u,{value:f,onChange:g,inputClassName:(a==null?void 0:a.start_datedate)&&"border-red-500 rounded-lg",useRange:!1,asSingle:!0,placeholder:"Tanggal Mulai",id:"start_date"}),(a==null?void 0:a.start_date)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.start_date})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tanggal Akhir",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(u,{value:v,onChange:y,inputClassName:(a==null?void 0:a.end_datedate)&&"border-red-500 rounded-lg",useRange:!1,asSingle:!0,placeholder:"Tanggal Akhir",id:"end_date"}),(a==null?void 0:a.end_date)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.end_date})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Status",htmlFor:"status",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsxs("select",{className:"select select-bordered w-full",id:"status",value:n.status,onChange:s=>d("status",s.target.value),children:[e.jsx("option",{disabled:!0,value:"",children:"--Pilih Status--"}),e.jsx("option",{value:"not started",children:"Belum Dimulai"}),e.jsx("option",{value:"pending",children:"Menunggu"}),e.jsx("option",{value:"in progress",children:"Dalam Pengerjaan"}),e.jsx("option",{value:"finished",children:"Selesai"})]}),(a==null?void 0:a.status)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.status})]})]}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(m,{href:route("data-master.project",t.id),children:e.jsx(P,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Batal"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(E,{className:"w-full",disabled:h,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})]})]})})})]})}B.layout=t=>e.jsx(S,{header:e.jsx(k,{children:"Edit Proyek"}),children:t,user:t.props.auth.user,organization:t.props.organization,title:"Edit Proyek",backLink:e.jsx(m,{href:route("data-master.project",t.props.organization.id),children:e.jsx(C,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(m,{href:route("data-master",t.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(m,{href:route("data-master.project",t.props.organization.id),children:"Proyek"})}),e.jsx("li",{children:"Edit Proyek"})]})}),role:t.props.role});export{B as default};
