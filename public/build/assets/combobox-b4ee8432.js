import{R as A,r as d,d as ee,b as Ln}from"./app-ad4257d5.js";import{u as Yt,T as Gt,s as qt,g as Xt,E as Dn,R as kn,n as Jt,m as Ct,G as Hn,d as _n,f as zn,y as Bn,t as Wn,o as J,r as Rt,h as Nn,_ as Vn}from"./portal-8468025e.js";import{p as Ke,o as M,m as jn,W as Ee,y as Ie,n as X,H as we,M as $t,u as ve,c as Un,i as Be,D as gt,I as Kn,a as Yn,R as Gn,b as qn,d as Xn,e as Ot}from"./transition-1e2b0758.js";const Qt=typeof document<"u"?A.useLayoutEffect:()=>{};function Jn(e){const n=d.useRef(null);return Qt(()=>{n.current=e},[e]),d.useCallback((...t)=>{const o=n.current;return o==null?void 0:o(...t)},[])}const Fe=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},de=e=>e&&"window"in e&&e.window===e?e:Fe(e).defaultView||window;function Qn(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function Zn(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function Zt(e){let n=null;return()=>(n==null&&(n=e()),n)}const eo=Zt(function(){return Zn(/^Mac/i)}),to=Zt(function(){return Qn(/Android/i)});function no(e){return e.mozInputSource===0&&e.isTrusted?!0:to()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class oo{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function en(e){let n=d.useRef({isFocused:!1,observer:null});Qt(()=>{const o=n.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let t=Jn(o=>{e==null||e(o)});return d.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){n.current.isFocused=!0;let i=o.target,r=l=>{n.current.isFocused=!1,i.disabled&&t(new oo("blur",l)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};i.addEventListener("focusout",r,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&i.disabled){var l;(l=n.current.observer)===null||l===void 0||l.disconnect();let s=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),n.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function io(e){let{isDisabled:n,onFocus:t,onBlur:o,onFocusChange:i}=e;const r=d.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),i&&i(!1),!0},[o,i]),l=en(r),s=d.useCallback(a=>{const c=Fe(a.target);a.target===a.currentTarget&&c.activeElement===a.target&&(t&&t(a),i&&i(!0),l(a))},[i,t,l]);return{focusProps:{onFocus:!n&&(t||i||o)?s:void 0,onBlur:!n&&(o||i)?r:void 0}}}let Pe=null,lt=new Set,Re=new Map,pe=!1,at=!1;const ro={Tab:!0,Escape:!0};function vt(e,n){for(let t of lt)t(e,n)}function so(e){return!(e.metaKey||!eo()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function We(e){pe=!0,so(e)&&(Pe="keyboard",vt("keyboard",e))}function Z(e){Pe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(pe=!0,vt("pointer",e))}function tn(e){no(e)&&(pe=!0,Pe="virtual")}function nn(e){e.target===window||e.target===document||(!pe&&!at&&(Pe="virtual",vt("virtual",e)),pe=!1,at=!1)}function on(){pe=!1,at=!0}function ut(e){if(typeof window>"u"||Re.get(de(e)))return;const n=de(e),t=Fe(e);let o=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){pe=!0,o.apply(this,arguments)},t.addEventListener("keydown",We,!0),t.addEventListener("keyup",We,!0),t.addEventListener("click",tn,!0),n.addEventListener("focus",nn,!0),n.addEventListener("blur",on,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",Z,!0),t.addEventListener("pointermove",Z,!0),t.addEventListener("pointerup",Z,!0)):(t.addEventListener("mousedown",Z,!0),t.addEventListener("mousemove",Z,!0),t.addEventListener("mouseup",Z,!0)),n.addEventListener("beforeunload",()=>{rn(e)},{once:!0}),Re.set(n,{focus:o})}const rn=(e,n)=>{const t=de(e),o=Fe(e);n&&o.removeEventListener("DOMContentLoaded",n),Re.has(t)&&(t.HTMLElement.prototype.focus=Re.get(t).focus,o.removeEventListener("keydown",We,!0),o.removeEventListener("keyup",We,!0),o.removeEventListener("click",tn,!0),t.removeEventListener("focus",nn,!0),t.removeEventListener("blur",on,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",Z,!0),o.removeEventListener("pointermove",Z,!0),o.removeEventListener("pointerup",Z,!0)):(o.removeEventListener("mousedown",Z,!0),o.removeEventListener("mousemove",Z,!0),o.removeEventListener("mouseup",Z,!0)),Re.delete(t))};function lo(e){const n=Fe(e);let t;return n.readyState!=="loading"?ut(e):(t=()=>{ut(e)},n.addEventListener("DOMContentLoaded",t)),()=>rn(e,t)}typeof document<"u"&&lo();function sn(){return Pe!=="pointer"}const ao=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function uo(e,n,t){var o;const i=typeof window<"u"?de(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,r=typeof window<"u"?de(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?de(t==null?void 0:t.target).HTMLElement:HTMLElement,s=typeof window<"u"?de(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof i&&!ao.has(t==null||(o=t.target)===null||o===void 0?void 0:o.type)||(t==null?void 0:t.target)instanceof r||(t==null?void 0:t.target)instanceof l&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof s&&!ro[t.key])}function co(e,n,t){ut(),d.useEffect(()=>{let o=(i,r)=>{uo(!!(t!=null&&t.isTextInput),i,r)&&e(sn())};return lt.add(o),()=>{lt.delete(o)}},n)}function fo(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:o,onFocusWithinChange:i}=e,r=d.useRef({isFocusWithin:!1}),l=d.useCallback(c=>{r.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(r.current.isFocusWithin=!1,t&&t(c),i&&i(!1))},[t,i,r]),s=en(l),a=d.useCallback(c=>{!r.current.isFocusWithin&&document.activeElement===c.target&&(o&&o(c),i&&i(!0),r.current.isFocusWithin=!0,s(c))},[o,i,s]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:a,onBlur:l}}}let Ne=!1,Ze=0;function ct(){Ne=!0,setTimeout(()=>{Ne=!1},50)}function Mt(e){e.pointerType==="touch"&&ct()}function po(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Mt):document.addEventListener("touchend",ct),Ze++,()=>{Ze--,!(Ze>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Mt):document.removeEventListener("touchend",ct))}}function ln(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:o,isDisabled:i}=e,[r,l]=d.useState(!1),s=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(po,[]);let{hoverProps:a,triggerHoverEnd:c}=d.useMemo(()=>{let f=(u,p)=>{if(s.pointerType=p,i||p==="touch"||s.isHovered||!u.currentTarget.contains(u.target))return;s.isHovered=!0;let g=u.currentTarget;s.target=g,n&&n({type:"hoverstart",target:g,pointerType:p}),t&&t(!0),l(!0)},m=(u,p)=>{if(s.pointerType="",s.target=null,p==="touch"||!s.isHovered)return;s.isHovered=!1;let g=u.currentTarget;o&&o({type:"hoverend",target:g,pointerType:p}),t&&t(!1),l(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=u=>{Ne&&u.pointerType==="mouse"||f(u,u.pointerType)},h.onPointerLeave=u=>{!i&&u.currentTarget.contains(u.target)&&m(u,u.pointerType)}):(h.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=u=>{!s.ignoreEmulatedMouseEvents&&!Ne&&f(u,"mouse"),s.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=u=>{!i&&u.currentTarget.contains(u.target)&&m(u,"mouse")}),{hoverProps:h,triggerHoverEnd:m}},[n,t,o,i,s]);return d.useEffect(()=>{i&&c({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:a,isHovered:r}}function an(e={}){let{autoFocus:n=!1,isTextInput:t,within:o}=e,i=d.useRef({isFocused:!1,isFocusVisible:n||sn()}),[r,l]=d.useState(!1),[s,a]=d.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=d.useCallback(()=>a(i.current.isFocused&&i.current.isFocusVisible),[]),f=d.useCallback(u=>{i.current.isFocused=u,l(u),c()},[c]);co(u=>{i.current.isFocusVisible=u,c()},[],{isTextInput:t});let{focusProps:m}=io({isDisabled:o,onFocusChange:f}),{focusWithinProps:h}=fo({isDisabled:!o,onFocusWithinChange:f});return{isFocused:r,isFocusVisible:s,focusProps:o?h:m}}function mo(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function ho(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function go({disabled:e=!1}={}){let n=d.useRef(null),[t,o]=d.useState(!1),i=Ke(),r=M(()=>{n.current=null,o(!1),i.dispose()}),l=M(s=>{if(i.dispose(),n.current===null){n.current=s.currentTarget,o(!0);{let a=Yt(s.currentTarget);i.addEventListener(a,"pointerup",r,!1),i.addEventListener(a,"pointermove",c=>{if(n.current){let f=mo(c);o(ho(f,n.current.getBoundingClientRect()))}},!1),i.addEventListener(a,"pointercancel",r,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:l,onPointerUp:r,onClick:r}}}function vo(e,n,t){let[o,i]=d.useState(t),r=e!==void 0,l=d.useRef(r),s=d.useRef(!1),a=d.useRef(!1);return r&&!l.current&&!s.current?(s.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!a.current&&(a.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:o,M(c=>(r||i(c),n==null?void 0:n(c)))]}function bo(e){let[n]=d.useState(e);return n}function un(e={},n=null,t=[]){for(let[o,i]of Object.entries(e))fn(t,cn(n,o),i);return t}function cn(e,n){return e?e+"["+n+"]":n}function fn(e,n,t){if(Array.isArray(t))for(let[o,i]of t.entries())fn(e,cn(n,o.toString()),i);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):un(t,n,e)}let xo=d.createContext(null);function yo({children:e}){let n=d.useContext(xo);if(!n)return A.createElement(A.Fragment,null,e);let{target:t}=n;return t?ee.createPortal(A.createElement(A.Fragment,null,e),t):null}function Eo({data:e,form:n,disabled:t,onReset:o,overrides:i}){let[r,l]=d.useState(null),s=Ke();return d.useEffect(()=>{if(o&&r)return s.addEventListener(r,"reset",o)},[r,n,o]),A.createElement(yo,null,A.createElement(wo,{setForm:l,formId:n}),un(e).map(([a,c])=>A.createElement(Gt,{features:qt.Hidden,...jn({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:a,value:c,...i})})))}function wo({setForm:e,formId:n}){return d.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:A.createElement(Gt,{features:qt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let o=t.closest("form");o&&e(o)}})}let To=d.createContext(void 0);function dn(){return d.useContext(To)}function So(e){let n=e.parentElement,t=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(t=n),n=n.parentElement;let o=(n==null?void 0:n.getAttribute("disabled"))==="";return o&&Co(t)?!1:o}function Co(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}let Ye=d.createContext(null);Ye.displayName="LabelContext";function pn(){let e=d.useContext(Ye);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,pn),n}return e}function Ge(e){var n,t,o;let i=(t=(n=d.useContext(Ye))==null?void 0:n.value)!=null?t:void 0;return((o=e==null?void 0:e.length)!=null?o:0)>0?[i,...e].filter(Boolean).join(" "):i}function Ro({inherit:e=!1}={}){let n=Ge(),[t,o]=d.useState([]),i=e?[n,...t].filter(Boolean):t;return[i.length>0?i.join(" "):void 0,d.useMemo(()=>function(r){let l=M(a=>(o(c=>[...c,a]),()=>o(c=>{let f=c.slice(),m=f.indexOf(a);return m!==-1&&f.splice(m,1),f}))),s=d.useMemo(()=>({register:l,slot:r.slot,name:r.name,props:r.props,value:r.value}),[l,r.slot,r.name,r.props,r.value]);return A.createElement(Ye.Provider,{value:s},r.children)},[o])]}let $o="label";function Oo(e,n){var t;let o=d.useId(),i=pn(),r=dn(),l=Xt(),{id:s=`headlessui-label-${o}`,htmlFor:a=r??((t=i.props)==null?void 0:t.htmlFor),passive:c=!1,...f}=e,m=Ie(n);X(()=>i.register(s),[s,i.register]);let h=M(v=>{let b=v.currentTarget;if(b instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),b instanceof HTMLLabelElement){let y=document.getElementById(b.htmlFor);if(y){let x=y.getAttribute("disabled");if(x==="true"||x==="")return;let w=y.getAttribute("aria-disabled");if(w==="true"||w==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),u=l||!1,p=d.useMemo(()=>({...i.slot,disabled:u}),[i.slot,u]),g={ref:m,...i.props,id:s,htmlFor:a,onClick:h};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),we({ourProps:g,theirProps:f,slot:p,defaultTag:a?$o:"div",name:i.name||"Label"})}let Mo=Ee(Oo),Io=Object.assign(Mo,{});function ge(e,n,t){let o=t.initialDeps??[],i;return()=>{var r,l,s,a;let c;t.key&&((r=t.debug)!=null&&r.call(t))&&(c=Date.now());const f=e();if(!(f.length!==o.length||f.some((u,p)=>o[p]!==u)))return i;o=f;let h;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(h=Date.now()),i=n(...f),t.key&&((s=t.debug)!=null&&s.call(t))){const u=Math.round((Date.now()-c)*100)/100,p=Math.round((Date.now()-h)*100)/100,g=p/16,v=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%c⏱ ${v(p,5)} /${v(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(a=t==null?void 0:t.onChange)==null||a.call(t,i),i}}function et(e,n){if(e===void 0)throw new Error(`Unexpected undefined${n?`: ${n}`:""}`);return e}const Fo=(e,n)=>Math.abs(e-n)<1,Po=(e,n,t)=>{let o;return function(...i){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,i),t)}},Ao=e=>e,Lo=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let i=n;i<=t;i++)o.push(i);return o},Do=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const i=l=>{const{width:s,height:a}=l;n({width:Math.round(s),height:Math.round(a)})};if(i(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const r=new o.ResizeObserver(l=>{const s=l[0];if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a){i({width:a.inlineSize,height:a.blockSize});return}}i(t.getBoundingClientRect())});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},It={passive:!0},ko=typeof window>"u"?!0:"onscrollend"in window,Ho=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let i=0;const r=ko?()=>{}:Po(o,()=>{n(i,!1)},e.options.isScrollingResetDelay),l=c=>()=>{const{horizontal:f,isRtl:m}=e.options;i=f?t.scrollLeft*(m&&-1||1):t.scrollTop,r(),n(i,c)},s=l(!0),a=l(!1);return a(),t.addEventListener("scroll",s,It),t.addEventListener("scrollend",a,It),()=>{t.removeEventListener("scroll",s),t.removeEventListener("scrollend",a)}},_o=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},zo=(e,{adjustments:n=0,behavior:t},o)=>{var i,r;const l=e+n;(r=(i=o.scrollElement)==null?void 0:i.scrollTo)==null||r.call(i,{[o.options.horizontal?"left":"top"]:l,behavior:t})};class Bo{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var i;(i=o())==null||i.disconnect(),t=null},observe:i=>{var r;return(r=o())==null?void 0:r.observe(i,{box:"border-box"})},unobserve:i=>{var r;return(r=o())==null?void 0:r.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,i])=>{typeof i>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ao,rangeExtractor:Lo,onChange:()=>{},measureElement:_o,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var o,i;(i=(o=this.options).onChange)==null||i.call(o,this,t)},this.maybeNotify=ge(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const i=new Map,r=new Map;for(let l=o-1;l>=0;l--){const s=t[l];if(i.has(s.lane))continue;const a=r.get(s.lane);if(a==null||s.end>a.end?r.set(s.lane,s):s.end<a.end&&i.set(s.lane,!0),i.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=ge(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,i,r,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:i,getItemKey:r,enabled:l}),{key:!1}),this.getMeasurements=ge(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:i,getItemKey:r,enabled:l},s)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let f=a;f<t;f++){const m=r(f),h=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),u=h?h.end+this.options.gap:o+i,p=s.get(m),g=typeof p=="number"?p:this.options.estimateSize(f),v=u+g,b=h?h.lane:f%this.options.lanes;c[f]={index:f,start:u,size:g,end:v,key:m,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ge(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,o,i)=>this.range=t.length>0&&o>0?Wo({measurements:t,outerSize:o,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ge(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,i,r)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:i,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,i=t.getAttribute(o);return i?parseInt(i,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const i=this.indexFromElement(t),r=this.measurementsCache[i];if(!r)return;const l=r.key,s=this.elementsCache.get(l);s!==t&&(s&&this.observer.unobserve(s),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const i=this.measurementsCache[t];if(!i)return;const r=this.itemSizeCache.get(i.key)??i.size,l=o-r;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,i)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=ge(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const i=[];for(let r=0,l=t.length;r<l;r++){const s=t[r],a=o[s];i.push(a)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return et(o[mn(0,o.length-1,i=>et(o[i]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const i=this.getSize(),r=this.getScrollOffset();o==="auto"&&(t<=r?o="start":t>=r+i?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-i:o==="center"&&(t=t-i/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-i;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const r=this.getSize(),l=this.getScrollOffset();if(o==="auto")if(i.end>=l+r-this.options.scrollPaddingEnd)o="end";else if(i.start<=l+this.options.scrollPaddingStart)o="start";else return[l,o];const s=o==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,o),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:o="auto",behavior:i}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(t,o);if(!r)return;const[l,s]=r;this._scrollToOffset(l,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=et(this.getOffsetForIndex(t,s));Fo(c,this.getScrollOffset())||this.scrollToIndex(t,{align:s,behavior:i})}else this.scrollToIndex(t,{align:s,behavior:i})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let i;return o.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(r=>r.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const mn=(e,n,t,o)=>{for(;e<=n;){const i=(e+n)/2|0,r=t(i);if(r<o)e=i+1;else if(r>o)n=i-1;else return i}return e>0?e-1:0};function Wo({measurements:e,outerSize:n,scrollOffset:t}){const o=e.length-1,r=mn(0,o,s=>e[s].start,t);let l=r;for(;l<o&&e[l].end<t+n;)l++;return{startIndex:r,endIndex:l}}const No=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Vo(e){const n=d.useReducer(()=>({}),{})[1],t={...e,onChange:(i,r)=>{var l;r?ee.flushSync(n):n(),(l=e.onChange)==null||l.call(e,i,r)}},[o]=d.useState(()=>new Bo(t));return o.setOptions(t),d.useEffect(()=>o._didMount(),[]),No(()=>o._willUpdate()),o}function jo(e){return Vo({observeElementRect:Do,observeElementOffset:Ho,scrollToFn:zo,...e})}function Uo(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function Ko(e=Uo){return d.useCallback((n,t)=>{if(typeof e=="string"){let o=e;return(n==null?void 0:n[o])===(t==null?void 0:t[o])}return e(n,t)},[e])}function Yo(e){if(e===null)return{width:0,height:0};let{width:n,height:t}=e.getBoundingClientRect();return{width:n,height:t}}function Ft(e,n=!1){let[t,o]=d.useReducer(()=>({}),{}),i=d.useMemo(()=>Yo(e),[e,t]);return X(()=>{if(!e)return;let r=new ResizeObserver(o);return r.observe(e),()=>{r.disconnect()}},[e]),n?{width:`${i.width}px`,height:`${i.height}px`}:i}function hn(e){let n=d.useRef({value:"",selectionStart:null,selectionEnd:null});return Dn(e,"blur",t=>{let o=t.target;o instanceof HTMLInputElement&&(n.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),M(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==n.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:t,selectionEnd:o}=n.current;t!==null&&o!==null&&e.setSelectionRange(t,o)}n.current={value:"",selectionStart:null,selectionEnd:null}}})}function Go(e,n){return d.useMemo(()=>{var t;if(e.type)return e.type;let o=(t=e.as)!=null?t:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||(n==null?void 0:n.tagName)==="BUTTON"&&!n.hasAttribute("type"))return"button"},[e.type,e.as,n])}function Pt(e){return[e.screenX,e.screenY]}function qo(){let e=d.useRef([-1,-1]);return{wasMoved(n){let t=Pt(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Pt(n)}}}function Xo(e,{container:n,accept:t,walk:o}){let i=d.useRef(t),r=d.useRef(o);d.useEffect(()=>{i.current=t,r.current=o},[t,o]),X(()=>{if(!n||!e)return;let l=Yt(n);if(!l)return;let s=i.current,a=r.current,c=Object.assign(m=>s(m),{acceptNode:s}),f=l.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,c,!1);for(;f.nextNode();)a(f.currentNode)},[n,e,i,r])}function qe(){return typeof window<"u"}function Te(e){return gn(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function se(e){var n;return(n=(gn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function gn(e){return qe()?e instanceof Node||e instanceof Q(e).Node:!1}function q(e){return qe()?e instanceof Element||e instanceof Q(e).Element:!1}function re(e){return qe()?e instanceof HTMLElement||e instanceof Q(e).HTMLElement:!1}function At(e){return!qe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot}function Ae(e){const{overflow:n,overflowX:t,overflowY:o,display:i}=oe(e);return/auto|scroll|overlay|hidden|clip/.test(n+o+t)&&!["inline","contents"].includes(i)}function Jo(e){return["table","td","th"].includes(Te(e))}function Xe(e){return[":popover-open",":modal"].some(n=>{try{return e.matches(n)}catch{return!1}})}function bt(e){const n=xt(),t=q(e)?oe(e):e;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function Qo(e){let n=le(e);for(;re(n)&&!xe(n);){if(bt(n))return n;if(Xe(n))return null;n=le(n)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xe(e){return["html","body","#document"].includes(Te(e))}function oe(e){return Q(e).getComputedStyle(e)}function Je(e){return q(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function le(e){if(Te(e)==="html")return e;const n=e.assignedSlot||e.parentNode||At(e)&&e.host||se(e);return At(n)?n.host:n}function vn(e){const n=le(e);return xe(n)?e.ownerDocument?e.ownerDocument.body:e.body:re(n)&&Ae(n)?n:vn(n)}function $e(e,n,t){var o;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=vn(e),r=i===((o=e.ownerDocument)==null?void 0:o.body),l=Q(i);if(r){const s=ft(l);return n.concat(l,l.visualViewport||[],Ae(i)?i:[],s&&t?$e(s):[])}return n.concat(i,$e(i,[],t))}function ft(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zo(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:o}=n;return t+"/"+o}).join(" "):navigator.userAgent}const ye=Math.min,Y=Math.max,Oe=Math.round,_e=Math.floor,ae=e=>({x:e,y:e}),ei={left:"right",right:"left",bottom:"top",top:"bottom"},ti={start:"end",end:"start"};function Lt(e,n,t){return Y(e,ye(n,t))}function Se(e,n){return typeof e=="function"?e(n):e}function ue(e){return e.split("-")[0]}function Le(e){return e.split("-")[1]}function bn(e){return e==="x"?"y":"x"}function xn(e){return e==="y"?"height":"width"}function me(e){return["top","bottom"].includes(ue(e))?"y":"x"}function yn(e){return bn(me(e))}function ni(e,n,t){t===void 0&&(t=!1);const o=Le(e),i=yn(e),r=xn(i);let l=i==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return n.reference[r]>n.floating[r]&&(l=Ve(l)),[l,Ve(l)]}function oi(e){const n=Ve(e);return[dt(e),n,dt(n)]}function dt(e){return e.replace(/start|end/g,n=>ti[n])}function ii(e,n,t){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return t?n?i:o:n?o:i;case"left":case"right":return n?r:l;default:return[]}}function ri(e,n,t,o){const i=Le(e);let r=ii(ue(e),t==="start",o);return i&&(r=r.map(l=>l+"-"+i),n&&(r=r.concat(r.map(dt)))),r}function Ve(e){return e.replace(/left|right|bottom|top/g,n=>ei[n])}function si(e){return{top:0,right:0,bottom:0,left:0,...e}}function li(e){return typeof e!="number"?si(e):{top:e,right:e,bottom:e,left:e}}function je(e){const{x:n,y:t,width:o,height:i}=e;return{width:o,height:i,top:t,left:n,right:n+o,bottom:t+i,x:n,y:t}}function Dt(e,n,t){let{reference:o,floating:i}=e;const r=me(n),l=yn(n),s=xn(l),a=ue(n),c=r==="y",f=o.x+o.width/2-i.width/2,m=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let u;switch(a){case"top":u={x:f,y:o.y-i.height};break;case"bottom":u={x:f,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:m};break;case"left":u={x:o.x-i.width,y:m};break;default:u={x:o.x,y:o.y}}switch(Le(n)){case"start":u[l]-=h*(t&&c?-1:1);break;case"end":u[l]+=h*(t&&c?-1:1);break}return u}const ai=async(e,n,t)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=t,s=r.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(n));let c=await l.getElementRects({reference:e,floating:n,strategy:i}),{x:f,y:m}=Dt(c,o,a),h=o,u={},p=0;for(let g=0;g<s.length;g++){const{name:v,fn:b}=s[g],{x:y,y:x,data:w,reset:T}=await b({x:f,y:m,initialPlacement:o,placement:h,strategy:i,middlewareData:u,rects:c,platform:l,elements:{reference:e,floating:n}});f=y??f,m=x??m,u={...u,[v]:{...u[v],...w}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(c=T.rects===!0?await l.getElementRects({reference:e,floating:n,strategy:i}):T.rects),{x:f,y:m}=Dt(c,h,a)),g=-1)}return{x:f,y:m,placement:h,strategy:i,middlewareData:u}};async function Qe(e,n){var t;n===void 0&&(n={});const{x:o,y:i,platform:r,rects:l,elements:s,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:h=!1,padding:u=0}=Se(n,e),p=li(u),v=s[h?m==="floating"?"reference":"floating":m],b=je(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(v)))==null||t?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:a})),y=m==="floating"?{x:o,y:i,width:l.floating.width,height:l.floating.height}:l.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating)),w=await(r.isElement==null?void 0:r.isElement(x))?await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1}:{x:1,y:1},T=je(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:x,strategy:a}):y);return{top:(b.top-T.top+p.top)/w.y,bottom:(T.bottom-b.bottom+p.bottom)/w.y,left:(b.left-T.left+p.left)/w.x,right:(T.right-b.right+p.right)/w.x}}const ui=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:s,platform:a,elements:c}=n,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Se(e,n);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const b=ue(i),y=me(s),x=ue(s)===s,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),T=h||(x||!g?[Ve(s)]:oi(s)),R=p!=="none";!h&&R&&T.push(...ri(s,g,p,w));const $=[s,...T],S=await Qe(n,v),k=[];let F=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&k.push(S[b]),m){const E=ni(i,l,w);k.push(S[E[0]],S[E[1]])}if(F=[...F,{placement:i,overflows:k}],!k.every(E=>E<=0)){var L,z;const E=(((L=r.flip)==null?void 0:L.index)||0)+1,V=$[E];if(V)return{data:{index:E,overflows:F},reset:{placement:V}};let H=(z=F.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:z.placement;if(!H)switch(u){case"bestFit":{var D;const B=(D=F.filter(I=>{if(R){const P=me(I.placement);return P===y||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,W)=>P+W,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:D[0];B&&(H=B);break}case"initialPlacement":H=s;break}if(i!==H)return{reset:{placement:H}}}return{}}}};async function ci(e,n){const{placement:t,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=ue(t),s=Le(t),a=me(t)==="y",c=["left","top"].includes(l)?-1:1,f=r&&a?-1:1,m=Se(n,e);let{mainAxis:h,crossAxis:u,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return s&&typeof p=="number"&&(u=s==="end"?p*-1:p),a?{x:u*f,y:h*c}:{x:h*c,y:u*f}}const fi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,o;const{x:i,y:r,placement:l,middlewareData:s}=n,a=await ci(n,e);return l===((t=s.offset)==null?void 0:t.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:i+a.x,y:r+a.y,data:{...a,placement:l}}}}},di=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:o,placement:i}=n,{mainAxis:r=!0,crossAxis:l=!1,limiter:s={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...a}=Se(e,n),c={x:t,y:o},f=await Qe(n,a),m=me(ue(i)),h=bn(m);let u=c[h],p=c[m];if(r){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=u+f[v],x=u-f[b];u=Lt(y,u,x)}if(l){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=p+f[v],x=p-f[b];p=Lt(y,p,x)}const g=s.fn({...n,[h]:u,[m]:p});return{...g,data:{x:g.x-t,y:g.y-o,enabled:{[h]:r,[m]:l}}}}}},pi=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,o;const{placement:i,rects:r,platform:l,elements:s}=n,{apply:a=()=>{},...c}=Se(e,n),f=await Qe(n,c),m=ue(i),h=Le(i),u=me(i)==="y",{width:p,height:g}=r.floating;let v,b;m==="top"||m==="bottom"?(v=m,b=h===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(b=m,v=h==="end"?"top":"bottom");const y=g-f.top-f.bottom,x=p-f.left-f.right,w=ye(g-f[v],y),T=ye(p-f[b],x),R=!n.middlewareData.shift;let $=w,S=T;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(S=x),(o=n.middlewareData.shift)!=null&&o.enabled.y&&($=y),R&&!h){const F=Y(f.left,0),L=Y(f.right,0),z=Y(f.top,0),D=Y(f.bottom,0);u?S=p-2*(F!==0||L!==0?F+L:Y(f.left,f.right)):$=g-2*(z!==0||D!==0?z+D:Y(f.top,f.bottom))}await a({...n,availableWidth:S,availableHeight:$});const k=await l.getDimensions(s.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function En(e){const n=oe(e);let t=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const i=re(e),r=i?e.offsetWidth:t,l=i?e.offsetHeight:o,s=Oe(t)!==r||Oe(o)!==l;return s&&(t=r,o=l),{width:t,height:o,$:s}}function yt(e){return q(e)?e:e.contextElement}function be(e){const n=yt(e);if(!re(n))return ae(1);const t=n.getBoundingClientRect(),{width:o,height:i,$:r}=En(n);let l=(r?Oe(t.width):t.width)/o,s=(r?Oe(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const mi=ae(0);function wn(e){const n=Q(e);return!xt()||!n.visualViewport?mi:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function hi(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Q(e)?!1:n}function he(e,n,t,o){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),r=yt(e);let l=ae(1);n&&(o?q(o)&&(l=be(o)):l=be(e));const s=hi(r,t,o)?wn(r):ae(0);let a=(i.left+s.x)/l.x,c=(i.top+s.y)/l.y,f=i.width/l.x,m=i.height/l.y;if(r){const h=Q(r),u=o&&q(o)?Q(o):o;let p=h,g=ft(p);for(;g&&o&&u!==p;){const v=be(g),b=g.getBoundingClientRect(),y=oe(g),x=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;a*=v.x,c*=v.y,f*=v.x,m*=v.y,a+=x,c+=w,p=Q(g),g=ft(p)}}return je({width:f,height:m,x:a,y:c})}function gi(e){let{elements:n,rect:t,offsetParent:o,strategy:i}=e;const r=i==="fixed",l=se(o),s=n?Xe(n.floating):!1;if(o===l||s&&r)return t;let a={scrollLeft:0,scrollTop:0},c=ae(1);const f=ae(0),m=re(o);if((m||!m&&!r)&&((Te(o)!=="body"||Ae(l))&&(a=Je(o)),re(o))){const h=he(o);c=be(o),f.x=h.x+o.clientLeft,f.y=h.y+o.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-a.scrollLeft*c.x+f.x,y:t.y*c.y-a.scrollTop*c.y+f.y}}function vi(e){return Array.from(e.getClientRects())}function pt(e,n){const t=Je(e).scrollLeft;return n?n.left+t:he(se(e)).left+t}function bi(e){const n=se(e),t=Je(e),o=e.ownerDocument.body,i=Y(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),r=Y(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let l=-t.scrollLeft+pt(e);const s=-t.scrollTop;return oe(o).direction==="rtl"&&(l+=Y(n.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:s}}function xi(e,n){const t=Q(e),o=se(e),i=t.visualViewport;let r=o.clientWidth,l=o.clientHeight,s=0,a=0;if(i){r=i.width,l=i.height;const c=xt();(!c||c&&n==="fixed")&&(s=i.offsetLeft,a=i.offsetTop)}return{width:r,height:l,x:s,y:a}}function yi(e,n){const t=he(e,!0,n==="fixed"),o=t.top+e.clientTop,i=t.left+e.clientLeft,r=re(e)?be(e):ae(1),l=e.clientWidth*r.x,s=e.clientHeight*r.y,a=i*r.x,c=o*r.y;return{width:l,height:s,x:a,y:c}}function kt(e,n,t){let o;if(n==="viewport")o=xi(e,t);else if(n==="document")o=bi(se(e));else if(q(n))o=yi(n,t);else{const i=wn(e);o={...n,x:n.x-i.x,y:n.y-i.y}}return je(o)}function Tn(e,n){const t=le(e);return t===n||!q(t)||xe(t)?!1:oe(t).position==="fixed"||Tn(t,n)}function Ei(e,n){const t=n.get(e);if(t)return t;let o=$e(e,[],!1).filter(s=>q(s)&&Te(s)!=="body"),i=null;const r=oe(e).position==="fixed";let l=r?le(e):e;for(;q(l)&&!xe(l);){const s=oe(l),a=bt(l);!a&&s.position==="fixed"&&(i=null),(r?!a&&!i:!a&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ae(l)&&!a&&Tn(e,l))?o=o.filter(f=>f!==l):i=s,l=le(l)}return n.set(e,o),o}function wi(e){let{element:n,boundary:t,rootBoundary:o,strategy:i}=e;const l=[...t==="clippingAncestors"?Xe(n)?[]:Ei(n,this._c):[].concat(t),o],s=l[0],a=l.reduce((c,f)=>{const m=kt(n,f,i);return c.top=Y(m.top,c.top),c.right=ye(m.right,c.right),c.bottom=ye(m.bottom,c.bottom),c.left=Y(m.left,c.left),c},kt(n,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ti(e){const{width:n,height:t}=En(e);return{width:n,height:t}}function Si(e,n,t){const o=re(n),i=se(n),r=t==="fixed",l=he(e,!0,r,n);let s={scrollLeft:0,scrollTop:0};const a=ae(0);if(o||!o&&!r)if((Te(n)!=="body"||Ae(i))&&(s=Je(n)),o){const u=he(n,!0,r,n);a.x=u.x+n.clientLeft,a.y=u.y+n.clientTop}else i&&(a.x=pt(i));let c=0,f=0;if(i&&!o&&!r){const u=i.getBoundingClientRect();f=u.top+s.scrollTop,c=u.left+s.scrollLeft-pt(i,u)}const m=l.left+s.scrollLeft-a.x-c,h=l.top+s.scrollTop-a.y-f;return{x:m,y:h,width:l.width,height:l.height}}function tt(e){return oe(e).position==="static"}function Ht(e,n){if(!re(e)||oe(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return se(e)===t&&(t=t.ownerDocument.body),t}function Sn(e,n){const t=Q(e);if(Xe(e))return t;if(!re(e)){let i=le(e);for(;i&&!xe(i);){if(q(i)&&!tt(i))return i;i=le(i)}return t}let o=Ht(e,n);for(;o&&Jo(o)&&tt(o);)o=Ht(o,n);return o&&xe(o)&&tt(o)&&!bt(o)?t:o||Qo(e)||t}const Ci=async function(e){const n=this.getOffsetParent||Sn,t=this.getDimensions,o=await t(e.floating);return{reference:Si(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ri(e){return oe(e).direction==="rtl"}const $i={convertOffsetParentRelativeRectToViewportRelativeRect:gi,getDocumentElement:se,getClippingRect:wi,getOffsetParent:Sn,getElementRects:Ci,getClientRects:vi,getDimensions:Ti,getScale:be,isElement:q,isRTL:Ri};function Oi(e,n){let t=null,o;const i=se(e);function r(){var s;clearTimeout(o),(s=t)==null||s.disconnect(),t=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),r();const{left:c,top:f,width:m,height:h}=e.getBoundingClientRect();if(s||n(),!m||!h)return;const u=_e(f),p=_e(i.clientWidth-(c+m)),g=_e(i.clientHeight-(f+h)),v=_e(c),y={rootMargin:-u+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Y(0,ye(1,a))||1};let x=!0;function w(T){const R=T[0].intersectionRatio;if(R!==a){if(!x)return l();R?l(!1,R):o=setTimeout(()=>{l(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(w,y)}t.observe(e)}return l(!0),r}function Mi(e,n,t,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=yt(e),f=i||r?[...c?$e(c):[],...$e(n)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),r&&b.addEventListener("resize",t)});const m=c&&s?Oi(c,t):null;let h=-1,u=null;l&&(u=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&u&&(u.unobserve(n),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(n)})),t()}),c&&!a&&u.observe(c),u.observe(n));let p,g=a?he(e):null;a&&v();function v(){const b=he(e);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&t(),g=b,p=requestAnimationFrame(v)}return t(),()=>{var b;f.forEach(y=>{i&&y.removeEventListener("scroll",t),r&&y.removeEventListener("resize",t)}),m==null||m(),(b=u)==null||b.disconnect(),u=null,a&&cancelAnimationFrame(p)}}const nt=Qe,Ii=fi,Fi=di,Pi=ui,Ai=pi,Li=(e,n,t)=>{const o=new Map,i={platform:$i,...t},r={...i.platform,_c:o};return ai(e,n,{...i,platform:r})};var ze=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Ue(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,o,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(o=t;o--!==0;)if(!Ue(e[o],n[o]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(o=t;o--!==0;)if(!{}.hasOwnProperty.call(n,i[o]))return!1;for(o=t;o--!==0;){const r=i[o];if(!(r==="_owner"&&e.$$typeof)&&!Ue(e[r],n[r]))return!1}return!0}return e!==e&&n!==n}function Cn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _t(e,n){const t=Cn(e);return Math.round(n*t)/t}function ot(e){const n=d.useRef(e);return ze(()=>{n.current=e}),n}function Di(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:o=[],platform:i,elements:{reference:r,floating:l}={},transform:s=!0,whileElementsMounted:a,open:c}=e,[f,m]=d.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[h,u]=d.useState(o);Ue(h,o)||u(o);const[p,g]=d.useState(null),[v,b]=d.useState(null),y=d.useCallback(I=>{I!==R.current&&(R.current=I,g(I))},[]),x=d.useCallback(I=>{I!==$.current&&($.current=I,b(I))},[]),w=r||p,T=l||v,R=d.useRef(null),$=d.useRef(null),S=d.useRef(f),k=a!=null,F=ot(a),L=ot(i),z=ot(c),D=d.useCallback(()=>{if(!R.current||!$.current)return;const I={placement:n,strategy:t,middleware:h};L.current&&(I.platform=L.current),Li(R.current,$.current,I).then(P=>{const W={...P,isPositioned:z.current!==!1};E.current&&!Ue(S.current,W)&&(S.current=W,ee.flushSync(()=>{m(W)}))})},[h,n,t,L,z]);ze(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(I=>({...I,isPositioned:!1})))},[c]);const E=d.useRef(!1);ze(()=>(E.current=!0,()=>{E.current=!1}),[]),ze(()=>{if(w&&(R.current=w),T&&($.current=T),w&&T){if(F.current)return F.current(w,T,D);D()}},[w,T,D,F,k]);const V=d.useMemo(()=>({reference:R,floating:$,setReference:y,setFloating:x}),[y,x]),H=d.useMemo(()=>({reference:w,floating:T}),[w,T]),B=d.useMemo(()=>{const I={position:t,left:0,top:0};if(!H.floating)return I;const P=_t(H.floating,f.x),W=_t(H.floating,f.y);return s?{...I,transform:"translate("+P+"px, "+W+"px)",...Cn(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:P,top:W}},[t,s,H.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:D,refs:V,elements:H,floatingStyles:B}),[f,D,V,H,B])}const Rn=(e,n)=>({...Ii(e),options:[e,n]}),ki=(e,n)=>({...Fi(e),options:[e,n]}),Hi=(e,n)=>({...Pi(e),options:[e,n]}),_i=(e,n)=>({...Ai(e),options:[e,n]}),$n={...Ln},zi=$n.useInsertionEffect,Bi=zi||(e=>e());function On(e){const n=d.useRef(()=>{});return Bi(()=>{n.current=e}),d.useCallback(function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return n.current==null?void 0:n.current(...o)},[])}var mt=typeof document<"u"?d.useLayoutEffect:d.useEffect;let zt=!1,Wi=0;const Bt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Wi++;function Ni(){const[e,n]=d.useState(()=>zt?Bt():void 0);return mt(()=>{e==null&&n(Bt())},[]),d.useEffect(()=>{zt=!0},[]),e}const Vi=$n.useId,ji=Vi||Ni;function Ui(){const e=new Map;return{emit(n,t){var o;(o=e.get(n))==null||o.forEach(i=>i(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var o;e.set(n,((o=e.get(n))==null?void 0:o.filter(i=>i!==t))||[])}}}const Ki=d.createContext(null),Yi=d.createContext(null),Gi=()=>{var e;return((e=d.useContext(Ki))==null?void 0:e.id)||null},qi=()=>d.useContext(Yi),Xi="data-floating-ui-focusable";function Ji(e){const{open:n=!1,onOpenChange:t,elements:o}=e,i=ji(),r=d.useRef({}),[l]=d.useState(()=>Ui()),s=Gi()!=null,[a,c]=d.useState(o.reference),f=On((u,p,g)=>{r.current.openEvent=u?p:void 0,l.emit("openchange",{open:u,event:p,reason:g,nested:s}),t==null||t(u,p,g)}),m=d.useMemo(()=>({setPositionReference:c}),[]),h=d.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return d.useMemo(()=>({dataRef:r,open:n,onOpenChange:f,elements:h,events:l,floatingId:i,refs:m}),[n,f,h,l,i,m])}function Qi(e){e===void 0&&(e={});const{nodeId:n}=e,t=Ji({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||t,i=o.elements,[r,l]=d.useState(null),[s,a]=d.useState(null),f=(i==null?void 0:i.reference)||r,m=d.useRef(null),h=qi();mt(()=>{f&&(m.current=f)},[f]);const u=Di({...e,elements:{...i,...s&&{reference:s}}}),p=d.useCallback(x=>{const w=q(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;a(w),u.refs.setReference(w)},[u.refs]),g=d.useCallback(x=>{(q(x)||x===null)&&(m.current=x,l(x)),(q(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!q(x))&&u.refs.setReference(x)},[u.refs]),v=d.useMemo(()=>({...u.refs,setReference:g,setPositionReference:p,domReference:m}),[u.refs,g,p]),b=d.useMemo(()=>({...u.elements,domReference:f}),[u.elements,f]),y=d.useMemo(()=>({...u,...o,refs:v,elements:b,nodeId:n}),[u,v,b,n,o]);return mt(()=>{o.dataRef.current.floatingContext=y;const x=h==null?void 0:h.nodesRef.current.find(w=>w.id===n);x&&(x.context=y)}),d.useMemo(()=>({...u,context:y,refs:v,elements:b}),[u,v,b,y])}const Wt="active",Nt="selected";function it(e,n,t){const o=new Map,i=t==="item";let r=e;if(i&&e){const{[Wt]:l,[Nt]:s,...a}=e;r=a}return{...t==="floating"&&{tabIndex:-1,[Xi]:""},...r,...n.map(l=>{const s=l?l[t]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(a=>{let[c,f]=a;if(!(i&&[Wt,Nt].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof f=="function"){var m;(m=o.get(c))==null||m.push(f),l[c]=function(){for(var h,u=arguments.length,p=new Array(u),g=0;g<u;g++)p[g]=arguments[g];return(h=o.get(c))==null?void 0:h.map(v=>v(...p)).find(v=>v!==void 0)}}}else l[c]=f}),l),{})}}function Zi(e){e===void 0&&(e=[]);const n=e.map(s=>s==null?void 0:s.reference),t=e.map(s=>s==null?void 0:s.floating),o=e.map(s=>s==null?void 0:s.item),i=d.useCallback(s=>it(s,e,"reference"),n),r=d.useCallback(s=>it(s,e,"floating"),t),l=d.useCallback(s=>it(s,e,"item"),o);return d.useMemo(()=>({getReferenceProps:i,getFloatingProps:r,getItemProps:l}),[i,r,l])}function Vt(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const er=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:o,onFallbackChange:i,offset:r=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:c,...f}=Se(e,n),{rects:m,elements:{floating:h}}=n,u=t.current[l],p=(c==null?void 0:c.current)||h,g=h.clientTop||p.clientTop,v=h.clientTop!==0,b=p.clientTop!==0,y=h===p;if(!u)return{};const x={...n,...await Rn(-u.offsetTop-h.clientTop-m.reference.height/2-u.offsetHeight/2-r).fn(n)},w=await nt(Vt(x,p.scrollHeight+g+h.clientTop),f),T=await nt(x,{...f,elementContext:"reference"}),R=Y(0,w.top),$=x.y+R,S=Oe(Y(0,p.scrollHeight+(v&&y||b?g*2:0)-R-Y(0,w.bottom)));if(p.style.maxHeight=S+"px",p.scrollTop=R,i){const k=p.scrollHeight>p.offsetHeight&&p.offsetHeight<u.offsetHeight*s-1||T.top>=-a||T.bottom>=-a;ee.flushSync(()=>i(k))}return o&&(o.current=await nt(Vt({...x,y:$},p.offsetHeight+g+h.clientTop),f)),{y:$}}});function tr(e,n){const{open:t,elements:o}=e,{enabled:i=!0,overflowRef:r,scrollRef:l,onChange:s}=n,a=On(s),c=d.useRef(!1),f=d.useRef(null),m=d.useRef(null);d.useEffect(()=>{if(!i)return;function u(g){if(g.ctrlKey||!p||r.current==null)return;const v=g.deltaY,b=r.current.top>=-.5,y=r.current.bottom>=-.5,x=p.scrollHeight-p.clientHeight,w=v<0?-1:1,T=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!b&&v>0||!y&&v<0?(g.preventDefault(),ee.flushSync(()=>{a(R=>R+Math[T](v,x*w))})):/firefox/i.test(Zo())&&(p.scrollTop+=v))}const p=(l==null?void 0:l.current)||o.floating;if(t&&p)return p.addEventListener("wheel",u),requestAnimationFrame(()=>{f.current=p.scrollTop,r.current!=null&&(m.current={...r.current})}),()=>{f.current=null,m.current=null,p.removeEventListener("wheel",u)}},[i,t,o.floating,r,l,a]);const h=d.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=(l==null?void 0:l.current)||o.floating;if(!(!r.current||!u||!c.current)){if(f.current!==null){const p=u.scrollTop-f.current;(r.current.bottom<-.5&&p<-1||r.current.top<-.5&&p>1)&&ee.flushSync(()=>a(g=>g+p))}requestAnimationFrame(()=>{f.current=u.scrollTop})}}}),[o.floating,a,r,l]);return d.useMemo(()=>i?{floating:h}:{},[i,h])}let De=d.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});De.displayName="FloatingContext";let Et=d.createContext(null);Et.displayName="PlacementContext";function nr(e){return d.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function or(){return d.useContext(De).setReference}function ir(){let{getFloatingProps:e,slot:n}=d.useContext(De);return d.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor}),[e,n])}function rr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let n=d.useContext(Et),t=d.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(i,r)=>r instanceof HTMLElement?r.outerHTML:r:void 0)]);X(()=>{n==null||n(t??null)},[n,t]);let o=d.useContext(De);return d.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let jt=4;function sr({children:e,enabled:n=!0}){let[t,o]=d.useState(null),[i,r]=d.useState(0),l=d.useRef(null),[s,a]=d.useState(null);lr(s);let c=n&&t!==null&&s!==null,{to:f="bottom",gap:m=0,offset:h=0,padding:u=0,inner:p}=ar(t,s),[g,v="center"]=f.split(" ");X(()=>{c&&r(0)},[c]);let{refs:b,floatingStyles:y,context:x}=Qi({open:c,placement:g==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${g}`:`${g}-${v}`,strategy:"absolute",transform:!1,middleware:[Rn({mainAxis:g==="selection"?0:m,crossAxis:h}),ki({padding:u}),g!=="selection"&&Hi({padding:u}),g==="selection"&&p?er({...p,padding:u,overflowRef:l,offset:i,minItemsVisible:jt,referenceOverflowThreshold:u,onFallbackChange(L){var z,D;if(!L)return;let E=x.elements.floating;if(!E)return;let V=parseFloat(getComputedStyle(E).scrollPaddingBottom)||0,H=Math.min(jt,E.childElementCount),B=0,I=0;for(let P of(D=(z=x.elements.floating)==null?void 0:z.childNodes)!=null?D:[])if(P instanceof HTMLElement){let W=P.offsetTop,U=W+P.clientHeight+V,ce=E.scrollTop,C=ce+E.clientHeight;if(W>=ce&&U<=C)H--;else{I=Math.max(0,Math.min(U,C)-Math.max(W,ce)),B=P.clientHeight;break}}H>=1&&r(P=>{let W=B*H-I+V;return P>=W?P:W})}}):null,_i({padding:u,apply({availableWidth:L,availableHeight:z,elements:D}){Object.assign(D.floating.style,{overflow:"auto",maxWidth:`${L}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:Mi}),[w=g,T=v]=x.placement.split("-");g==="selection"&&(w="selection");let R=d.useMemo(()=>({anchor:[w,T].filter(Boolean).join(" ")}),[w,T]),$=tr(x,{overflowRef:l,onChange:r}),{getReferenceProps:S,getFloatingProps:k}=Zi([$]),F=M(L=>{a(L),b.setFloating(L)});return d.createElement(Et.Provider,{value:o},d.createElement(De.Provider,{value:{setFloating:F,setReference:b.setReference,styles:y,getReferenceProps:S,getFloatingProps:k,slot:R}},e))}function lr(e){X(()=>{if(!e)return;let n=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,o=parseFloat(t);if(isNaN(o))return;let i=parseInt(t);isNaN(i)||o!==i&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return n.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{n.disconnect()}},[e])}function ar(e,n){var t,o,i;let r=rt((t=e==null?void 0:e.gap)!=null?t:"var(--anchor-gap, 0)",n),l=rt((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",n),s=rt((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",n);return{...e,gap:r,offset:l,padding:s}}function rt(e,n,t=void 0){let o=Ke(),i=M((a,c)=>{if(a==null)return[t,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[t,null];let f=Ut(a,c);return[f,m=>{let h=Mn(a);{let u=h.map(p=>window.getComputedStyle(c).getPropertyValue(p));o.requestAnimationFrame(function p(){o.nextFrame(p);let g=!1;for(let[b,y]of h.entries()){let x=window.getComputedStyle(c).getPropertyValue(y);if(u[b]!==x){u[b]=x,g=!0;break}}if(!g)return;let v=Ut(a,c);f!==v&&(m(v),f=v)})}return o.dispose}]}return[t,null]}),r=d.useMemo(()=>i(e,n)[0],[e,n]),[l=r,s]=d.useState();return X(()=>{let[a,c]=i(e,n);if(s(a),!!c)return c(s)},[e,n]),l}function Mn(e){let n=/var\((.*)\)/.exec(e);if(n){let t=n[1].indexOf(",");if(t===-1)return[n[1]];let o=n[1].slice(0,t).trim(),i=n[1].slice(t+1).trim();return i?[o,...Mn(i)]:[o]}return[]}function Ut(e,n){let t=document.createElement("div");n.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(t).marginTop)||0;return n.removeChild(t),o}function ur({children:e,freeze:n}){let t=ht(n,e);return A.createElement(A.Fragment,null,t)}function ht(e,n){let[t,o]=d.useState(n);return!e&&t!==n&&o(n),e?t:n}function cr(e){throw new Error("Unexpected object: "+e)}var N=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(N||{});function Kt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),i=o??-1;switch(e.focus){case 0:{for(let r=0;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 1:{i===-1&&(i=t.length);for(let r=i-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 2:{for(let r=i+1;r<t.length;++r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 3:{for(let r=t.length-1;r>=0;--r)if(!n.resolveDisabled(t[r],r,t))return r;return o}case 4:{for(let r=0;r<t.length;++r)if(n.resolveId(t[r],r,t)===e.id)return r;return o}case 5:return null;default:cr(e)}}var wt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(wt||{}),fr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fr||{}),dr=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(dr||{}),pr=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(pr||{}),mr=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(mr||{});function st(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=n(e.options.slice()),i=o.length>0&&o[0].dataRef.current.order!==null?o.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):Vn(o,l=>l.dataRef.current.domRef.current),r=t?i.indexOf(t):null;return r===-1&&(r=null),{options:i,activeOptionIndex:r}}let hr={1(e){var n;return(n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var n,t;if((n=e.dataRef.current)!=null&&n.disabled||e.comboboxState===0)return e;if((t=e.dataRef.current)!=null&&t.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,n){return e.isTyping===n.isTyping?e:{...e,isTyping:n.isTyping}},2(e,n){var t,o,i,r;if((t=e.dataRef.current)!=null&&t.disabled||e.optionsElement&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:f}=e.virtual,m=n.focus===N.Specific?n.idx:Kt(n,{resolveItems:()=>c,resolveActiveIndex:()=>{var u,p;return(p=(u=e.activeOptionIndex)!=null?u:c.findIndex(g=>!f(g)))!=null?p:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),h=(i=n.trigger)!=null?i:2;return e.activeOptionIndex===m&&e.activationTrigger===h?e:{...e,activeOptionIndex:m,activationTrigger:h,isTyping:!1,__demoMode:!1}}let l=st(e);if(l.activeOptionIndex===null){let c=l.options.findIndex(f=>!f.dataRef.current.disabled);c!==-1&&(l.activeOptionIndex=c)}let s=n.focus===N.Specific?n.idx:Kt(n,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),a=(r=n.trigger)!=null?r:2;return e.activeOptionIndex===s&&e.activationTrigger===a?e:{...e,...l,isTyping:!1,activeOptionIndex:s,activationTrigger:a,__demoMode:!1}},4:(e,n)=>{var t,o,i;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:[...e.options,n.payload]};let r=n.payload,l=st(e,a=>(a.push(r),a));e.activeOptionIndex===null&&(o=e.dataRef.current)!=null&&o.isSelected(n.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let s={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,n)=>{var t;if((t=e.dataRef.current)!=null&&t.virtual)return{...e,options:e.options.filter(i=>i.id!==n.id)};let o=st(e,i=>{let r=i.findIndex(l=>l.id===n.id);return r!==-1&&i.splice(r,1),i});return{...e,...o,activationTrigger:2}},6:(e,n)=>e.activationTrigger===n.trigger?e:{...e,activationTrigger:n.trigger},7:(e,n)=>{var t,o;if(e.virtual===null)return{...e,virtual:{options:n.options,disabled:(t=n.disabled)!=null?t:()=>!1}};if(e.virtual.options===n.options&&e.virtual.disabled===n.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=n.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?i=r:i=null}return{...e,activeOptionIndex:i,virtual:{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}}},8:(e,n)=>e.inputElement===n.element?e:{...e,inputElement:n.element},9:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},10:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element}},Tt=d.createContext(null);Tt.displayName="ComboboxActionsContext";function ke(e){let n=d.useContext(Tt);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ke),t}return n}let In=d.createContext(null);function gr(e){let n=Ce("VirtualProvider"),{options:t}=n.virtual,[o,i]=d.useMemo(()=>{let c=n.optionsElement;if(!c)return[0,0];let f=window.getComputedStyle(c);return[parseFloat(f.paddingBlockStart||f.paddingTop),parseFloat(f.paddingBlockEnd||f.paddingBottom)]},[n.optionsElement]),r=jo({enabled:t.length!==0,scrollPaddingStart:o,scrollPaddingEnd:i,count:t.length,estimateSize(){return 40},getScrollElement(){return n.optionsElement},overscan:12}),[l,s]=d.useState(0);X(()=>{s(c=>c+1)},[t]);let a=r.getVirtualItems();return a.length===0?null:A.createElement(In.Provider,{value:r},A.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&t.length>n.activeOptionIndex&&r.scrollToIndex(n.activeOptionIndex)}}},a.map(c=>{var f;return A.createElement(d.Fragment,{key:c.key},A.cloneElement((f=e.children)==null?void 0:f.call(e,{...e.slot,option:t[c.index]}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":t.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Me=d.createContext(null);Me.displayName="ComboboxDataContext";function Ce(e){let n=d.useContext(Me);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ce),t}return n}function vr(e,n){return ve(n.type,hr,e,n)}let br=d.Fragment;function xr(e,n){var t,o;let i=Xt(),{value:r,defaultValue:l,onChange:s,form:a,name:c,by:f,disabled:m=i||!1,onClose:h,__demoMode:u=!1,multiple:p=!1,immediate:g=!1,virtual:v=null,nullable:b,...y}=e,x=bo(l),[w=p?[]:void 0,T]=vo(r,s,x),[R,$]=d.useReducer(vr,{dataRef:d.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:v?{options:v.options,disabled:(t=v.disabled)!=null?t:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:u}),S=d.useRef(!1),k=d.useRef({static:!1,hold:!1}),F=Ko(f),L=M(O=>v?f===null?v.options.indexOf(O):v.options.findIndex(_=>F(_,O)):R.options.findIndex(_=>F(_.dataRef.current.value,O))),z=d.useCallback(O=>ve(E.mode,{1:()=>w.some(_=>F(_,O)),0:()=>F(w,O)}),[w]),D=M(O=>R.activeOptionIndex===L(O)),E=d.useMemo(()=>({...R,immediate:g,optionsPropsRef:k,value:w,defaultValue:x,disabled:m,mode:p?1:0,virtual:v?R.virtual:null,get activeOptionIndex(){if(S.current&&R.activeOptionIndex===null&&(v?v.options.length>0:R.options.length>0)){if(v){let _=v.options.findIndex(ie=>{var He,St;return!((St=(He=v.disabled)==null?void 0:He.call(v,ie))!=null&&St)});if(_!==-1)return _}let O=R.options.findIndex(_=>!_.dataRef.current.disabled);if(O!==-1)return O}return R.activeOptionIndex},calculateIndex:L,compare:F,isSelected:z,isActive:D}),[w,x,m,p,u,R,v]);X(()=>{var O;v&&$({type:7,options:v.options,disabled:(O=v.disabled)!=null?O:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),X(()=>{R.dataRef.current=E},[E]);let V=E.comboboxState===0;kn(V,[E.buttonElement,E.inputElement,E.optionsElement],()=>G.closeCombobox());let H=d.useMemo(()=>{var O,_,ie;return{open:E.comboboxState===0,disabled:m,activeIndex:E.activeOptionIndex,activeOption:E.activeOptionIndex===null?null:E.virtual?E.virtual.options[(O=E.activeOptionIndex)!=null?O:0]:(ie=(_=E.options[E.activeOptionIndex])==null?void 0:_.dataRef.current.value)!=null?ie:null,value:w}},[E,m,w]),B=M(()=>{if(E.activeOptionIndex!==null){if(G.setIsTyping(!1),E.virtual)C(E.virtual.options[E.activeOptionIndex]);else{let{dataRef:O}=E.options[E.activeOptionIndex];C(O.current.value)}G.goToOption(N.Specific,E.activeOptionIndex)}}),I=M(()=>{$({type:0}),S.current=!0}),P=M(()=>{$({type:1}),S.current=!1,h==null||h()}),W=M(O=>{$({type:3,isTyping:O})}),U=M((O,_,ie)=>(S.current=!1,O===N.Specific?$({type:2,focus:N.Specific,idx:_,trigger:ie}):$({type:2,focus:O,trigger:ie}))),ce=M((O,_)=>($({type:4,payload:{id:O,dataRef:_}}),()=>{E.isActive(_.current.value)&&(S.current=!0),$({type:5,id:O})})),C=M(O=>ve(E.mode,{0(){return T==null?void 0:T(O)},1(){let _=E.value.slice(),ie=_.findIndex(He=>F(He,O));return ie===-1?_.push(O):_.splice(ie,1),T==null?void 0:T(_)}})),te=M(O=>{$({type:6,trigger:O})}),K=M(O=>{$({type:8,element:O})}),ne=M(O=>{$({type:9,element:O})}),j=M(O=>{$({type:10,element:O})}),G=d.useMemo(()=>({onChange:C,registerOption:ce,goToOption:U,setIsTyping:W,closeCombobox:P,openCombobox:I,setActivationTrigger:te,selectActiveOption:B,setInputElement:K,setButtonElement:ne,setOptionsElement:j}),[]),[fe,Fn]=Ro(),Pn=n===null?{}:{ref:n},An=d.useCallback(()=>{if(x!==void 0)return T==null?void 0:T(x)},[T,x]);return A.createElement(Fn,{value:fe,props:{htmlFor:(o=E.inputElement)==null?void 0:o.id},slot:{open:E.comboboxState===0,disabled:m}},A.createElement(sr,null,A.createElement(Tt.Provider,{value:G},A.createElement(Me.Provider,{value:E},A.createElement(Un,{value:ve(E.comboboxState,{0:Be.Open,1:Be.Closed})},c!=null&&A.createElement(Eo,{disabled:m,data:w!=null?{[c]:w}:{},form:a,onReset:An}),we({ourProps:Pn,theirProps:y,slot:H,defaultTag:br,name:"Combobox"}))))))}let yr="input";function Er(e,n){var t,o,i,r,l;let s=Ce("Combobox.Input"),a=ke("Combobox.Input"),c=d.useId(),f=dn(),{id:m=f||`headlessui-combobox-input-${c}`,onChange:h,displayValue:u,disabled:p=s.disabled||!1,autoFocus:g=!1,type:v="text",...b}=e,y=d.useRef(null),x=Ie(y,n,or(),a.setInputElement),w=Jt(s.inputElement),T=Ke(),R=M(()=>{a.onChange(null),s.optionsElement&&(s.optionsElement.scrollTop=0),a.goToOption(N.Nothing)}),$=d.useMemo(()=>{var C;return typeof u=="function"&&s.value!==void 0?(C=u(s.value))!=null?C:"":typeof s.value=="string"?s.value:""},[s.value,u]);Ct(([C,te],[K,ne])=>{if(s.isTyping)return;let j=y.current;j&&((ne===0&&te===1||C!==K)&&(j.value=C),requestAnimationFrame(()=>{if(s.isTyping||!j||(w==null?void 0:w.activeElement)!==j)return;let{selectionStart:G,selectionEnd:fe}=j;Math.abs((fe??0)-(G??0))===0&&G===0&&j.setSelectionRange(j.value.length,j.value.length)}))},[$,s.comboboxState,w,s.isTyping]),Ct(([C],[te])=>{if(C===0&&te===1){if(s.isTyping)return;let K=y.current;if(!K)return;let ne=K.value,{selectionStart:j,selectionEnd:G,selectionDirection:fe}=K;K.value="",K.value=ne,fe!==null?K.setSelectionRange(j,G,fe):K.setSelectionRange(j,G)}},[s.comboboxState]);let S=d.useRef(!1),k=M(()=>{S.current=!0}),F=M(()=>{T.nextFrame(()=>{S.current=!1})}),L=M(C=>{switch(a.setIsTyping(!0),C.key){case J.Enter:if(s.comboboxState!==0||S.current)return;if(C.preventDefault(),C.stopPropagation(),s.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),s.mode===0&&a.closeCombobox();break;case J.ArrowDown:return C.preventDefault(),C.stopPropagation(),ve(s.comboboxState,{0:()=>a.goToOption(N.Next),1:()=>a.openCombobox()});case J.ArrowUp:return C.preventDefault(),C.stopPropagation(),ve(s.comboboxState,{0:()=>a.goToOption(N.Previous),1:()=>{ee.flushSync(()=>a.openCombobox()),s.value||a.goToOption(N.Last)}});case J.Home:if(C.shiftKey)break;return C.preventDefault(),C.stopPropagation(),a.goToOption(N.First);case J.PageUp:return C.preventDefault(),C.stopPropagation(),a.goToOption(N.First);case J.End:if(C.shiftKey)break;return C.preventDefault(),C.stopPropagation(),a.goToOption(N.Last);case J.PageDown:return C.preventDefault(),C.stopPropagation(),a.goToOption(N.Last);case J.Escape:return s.comboboxState!==0?void 0:(C.preventDefault(),s.optionsElement&&!s.optionsPropsRef.current.static&&C.stopPropagation(),s.mode===0&&s.value===null&&R(),a.closeCombobox());case J.Tab:if(s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),z=M(C=>{h==null||h(C),s.mode===0&&C.target.value===""&&R(),a.openCombobox()}),D=M(C=>{var te,K,ne;let j=(te=C.relatedTarget)!=null?te:Rt.find(G=>G!==C.currentTarget);if(!((K=s.optionsElement)!=null&&K.contains(j))&&!((ne=s.buttonElement)!=null&&ne.contains(j))&&s.comboboxState===0)return C.preventDefault(),s.mode===0&&s.value===null&&R(),a.closeCombobox()}),E=M(C=>{var te,K,ne;let j=(te=C.relatedTarget)!=null?te:Rt.find(G=>G!==C.currentTarget);(K=s.buttonElement)!=null&&K.contains(j)||(ne=s.optionsElement)!=null&&ne.contains(j)||s.disabled||s.immediate&&s.comboboxState!==0&&T.microTask(()=>{ee.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),V=Ge(),H=Hn(),{isFocused:B,focusProps:I}=an({autoFocus:g}),{isHovered:P,hoverProps:W}=ln({isDisabled:p}),U=d.useMemo(()=>({open:s.comboboxState===0,disabled:p,hover:P,focus:B,autofocus:g}),[s,P,B,g,p]),ce=gt({ref:x,id:m,role:"combobox",type:v,"aria-controls":(t=s.optionsElement)==null?void 0:t.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(o=s.options.find(C=>!C.dataRef.current.disabled&&s.compare(C.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:o.id:(i=s.options[s.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":V,"aria-describedby":H,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:s.defaultValue!==void 0?u==null?void 0:u(s.defaultValue):null)!=null?l:s.defaultValue,disabled:p||void 0,autoFocus:g,onCompositionStart:k,onCompositionEnd:F,onKeyDown:L,onChange:z,onFocus:E,onBlur:D},I,W);return we({ourProps:ce,theirProps:b,slot:U,defaultTag:yr,name:"Combobox.Input"})}let wr="button";function Tr(e,n){var t;let o=Ce("Combobox.Button"),i=ke("Combobox.Button"),r=Ie(n,i.setButtonElement),l=Kn(),s=d.useId(),{id:a=`headlessui-combobox-button-${s}`,disabled:c=o.disabled||!1,autoFocus:f=!1,...m}=e,h=hn(o.inputElement),u=M(S=>{switch(S.key){case J.Space:case J.Enter:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&ee.flushSync(()=>i.openCombobox()),h();return;case J.ArrowDown:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&(ee.flushSync(()=>i.openCombobox()),o.value||i.goToOption(N.First)),h();return;case J.ArrowUp:S.preventDefault(),S.stopPropagation(),o.comboboxState===1&&(ee.flushSync(()=>i.openCombobox()),o.value||i.goToOption(N.Last)),h();return;case J.Escape:if(o.comboboxState!==0)return;S.preventDefault(),o.optionsElement&&!o.optionsPropsRef.current.static&&S.stopPropagation(),ee.flushSync(()=>i.closeCombobox()),h();return;default:return}}),p=M(S=>{S.preventDefault(),!So(S.currentTarget)&&(S.button===wt.Left&&(o.comboboxState===0?i.closeCombobox():i.openCombobox()),h())}),g=Ge([a]),{isFocusVisible:v,focusProps:b}=an({autoFocus:f}),{isHovered:y,hoverProps:x}=ln({isDisabled:c}),{pressed:w,pressProps:T}=go({disabled:c}),R=d.useMemo(()=>({open:o.comboboxState===0,active:w||o.comboboxState===0,disabled:c,value:o.value,hover:y,focus:v}),[o,y,v,w,c]),$=gt({ref:r,id:a,type:Go(e,o.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(t=o.optionsElement)==null?void 0:t.id,"aria-expanded":o.comboboxState===0,"aria-labelledby":g,disabled:c||void 0,autoFocus:f,onMouseDown:p,onKeyDown:u},b,x,T);return we({mergeRefs:l,ourProps:$,theirProps:m,slot:R,defaultTag:wr,name:"Combobox.Button"})}let Sr="div",Cr=$t.RenderStrategy|$t.Static;function Rr(e,n){var t,o,i;let r=d.useId(),{id:l=`headlessui-combobox-options-${r}`,hold:s=!1,anchor:a,portal:c=!1,modal:f=!0,transition:m=!1,...h}=e,u=Ce("Combobox.Options"),p=ke("Combobox.Options"),g=nr(a);g&&(c=!0);let[v,b]=rr(g),[y,x]=d.useState(null),w=ir(),T=Ie(n,g?v:null,p.setOptionsElement,x),R=Jt(u.optionsElement),$=Yn(),[S,k]=Gn(m,y,$!==null?($&Be.Open)===Be.Open:u.comboboxState===0);_n(S,u.inputElement,p.closeCombobox);let F=u.__demoMode?!1:f&&u.comboboxState===0;zn(F,R);let L=u.__demoMode?!1:f&&u.comboboxState===0;Bn(L,{allowed:d.useCallback(()=>[u.inputElement,u.buttonElement,u.optionsElement],[u.inputElement,u.buttonElement,u.optionsElement])}),X(()=>{var U;u.optionsPropsRef.current.static=(U=e.static)!=null?U:!1},[u.optionsPropsRef,e.static]),X(()=>{u.optionsPropsRef.current.hold=s},[u.optionsPropsRef,s]),Xo(u.comboboxState===0,{container:u.optionsElement,accept(U){return U.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:U.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(U){U.setAttribute("role","none")}});let z=Ge([(t=u.buttonElement)==null?void 0:t.id]),D=d.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),E=M(()=>{p.setActivationTrigger(0)}),V=M(U=>{U.preventDefault(),p.setActivationTrigger(0)}),H=gt(g?w():{},{"aria-labelledby":z,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:l,ref:T,style:{...h.style,...b,"--input-width":Ft(u.inputElement,!0).width,"--button-width":Ft(u.buttonElement,!0).width},onWheel:u.activationTrigger===0?void 0:E,onMouseDown:V,...qn(k)}),B=S&&u.comboboxState===1,I=ht(B,(o=u.virtual)==null?void 0:o.options),P=ht(B,u.value),W=M(U=>u.compare(P,U));if(u.virtual){if(I===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(h,{children:A.createElement(Me.Provider,{value:I!==u.virtual.options?{...u,virtual:{...u.virtual,options:I}}:u},A.createElement(gr,{slot:D},h.children))})}return A.createElement(Wn,{enabled:c?e.static||S:!1},A.createElement(Me.Provider,{value:u.mode===1?u:{...u,isSelected:W}},we({ourProps:H,theirProps:{...h,children:A.createElement(ur,{freeze:B},typeof h.children=="function"?(i=h.children)==null?void 0:i.call(h,D):h.children)},slot:D,defaultTag:Sr,features:Cr,visible:S,name:"Combobox.Options"})))}let $r="div";function Or(e,n){var t,o,i,r;let l=Ce("Combobox.Option"),s=ke("Combobox.Option"),a=d.useId(),{id:c=`headlessui-combobox-option-${a}`,value:f,disabled:m=(i=(o=(t=l.virtual)==null?void 0:t.disabled)==null?void 0:o.call(t,f))!=null?i:!1,order:h=null,...u}=e,p=hn(l.inputElement),g=l.virtual?l.activeOptionIndex===l.calculateIndex(f):l.activeOptionIndex===null?!1:((r=l.options[l.activeOptionIndex])==null?void 0:r.id)===c,v=l.isSelected(f),b=d.useRef(null),y=Xn({disabled:m,value:f,domRef:b,order:h}),x=d.useContext(In),w=Ie(n,b,x?x.measureElement:null),T=M(()=>{s.setIsTyping(!1),s.onChange(f)});X(()=>s.registerOption(c,y),[y,c]);let R=d.useRef(!(l.virtual||l.__demoMode));X(()=>{if(!l.virtual&&!l.__demoMode)return Ot().requestAnimationFrame(()=>{R.current=!0})},[l.virtual,l.__demoMode]),X(()=>{if(R.current&&l.comboboxState===0&&g&&l.activationTrigger!==0)return Ot().requestAnimationFrame(()=>{var E,V;(V=(E=b.current)==null?void 0:E.scrollIntoView)==null||V.call(E,{block:"nearest"})})},[b,g,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let $=M(E=>{E.preventDefault(),E.button===wt.Left&&(m||(T(),Nn()||requestAnimationFrame(()=>p()),l.mode===0&&s.closeCombobox()))}),S=M(()=>{if(m)return s.goToOption(N.Nothing);let E=l.calculateIndex(f);s.goToOption(N.Specific,E)}),k=qo(),F=M(E=>k.update(E)),L=M(E=>{if(!k.wasMoved(E)||m||g)return;let V=l.calculateIndex(f);s.goToOption(N.Specific,V,0)}),z=M(E=>{k.wasMoved(E)&&(m||g&&(l.optionsPropsRef.current.hold||s.goToOption(N.Nothing)))}),D=d.useMemo(()=>({active:g,focus:g,selected:v,disabled:m}),[g,v,m]);return we({ourProps:{id:c,ref:w,role:"option",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:$,onFocus:S,onPointerEnter:F,onMouseEnter:F,onPointerMove:L,onMouseMove:L,onPointerLeave:z,onMouseLeave:z},theirProps:u,slot:D,defaultTag:$r,name:"Combobox.Option"})}let Mr=Ee(xr),Ir=Ee(Tr),Fr=Ee(Er),Pr=Io,Ar=Ee(Rr),Lr=Ee(Or),_r=Object.assign(Mr,{Input:Fr,Button:Ir,Label:Pr,Options:Ar,Option:Lr});export{an as $,_r as H,ln as a,Go as e,So as r,go as w};
