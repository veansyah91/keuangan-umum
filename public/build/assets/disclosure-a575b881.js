import{$ as W,a as _,w as G,e as J,r as Q}from"./combobox-433940bf.js";import{R as E,r as l}from"./app-5a32895a.js";import{M as K,W as T,y as x,T as X,o as $,c as Y,u as h,i as C,H as k,I as V,D as L,a as Z,R as ee,b as te,s as le}from"./transition-7d2eb4c9.js";import{C as re}from"./close-provider-4c5c72d3.js";import{u as ne,o as v}from"./portal-519ccc5e.js";var U;let oe=(U=E.startTransition)!=null?U:function(e){e()};var se=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(se||{}),ae=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ae||{});let ue={0:e=>({...e,disclosureState:h(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},w=l.createContext(null);w.displayName="DisclosureContext";function R(e){let t=l.useContext(w);if(t===null){let c=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,R),c}return t}let B=l.createContext(null);B.displayName="DisclosureAPIContext";function j(e){let t=l.useContext(B);if(t===null){let c=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,j),c}return t}let M=l.createContext(null);M.displayName="DisclosurePanelContext";function ce(){return l.useContext(M)}function ie(e,t){return h(t.type,ue,e,t)}let de=l.Fragment;function pe(e,t){let{defaultOpen:c=!1,...i}=e,a=l.useRef(null),d=x(t,X(u=>{a.current=u},e.as===void 0||e.as===l.Fragment)),p=l.useReducer(ie,{disclosureState:c?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:r,buttonId:n},b]=p,o=$(u=>{b({type:1});let m=ne(a);if(!m||!n)return;let f=(()=>u?u instanceof HTMLElement?u:u.current instanceof HTMLElement?u.current:m.getElementById(n):m.getElementById(n))();f==null||f.focus()}),y=l.useMemo(()=>({close:o}),[o]),S=l.useMemo(()=>({open:r===0,close:o}),[r,o]),I={ref:d};return E.createElement(w.Provider,{value:p},E.createElement(B.Provider,{value:y},E.createElement(re,{value:o},E.createElement(Y,{value:h(r,{0:C.Open,1:C.Closed})},k({ourProps:I,theirProps:i,slot:S,defaultTag:de,name:"Disclosure"})))))}let me="button";function fe(e,t){let c=l.useId(),{id:i=`headlessui-disclosure-button-${c}`,disabled:a=!1,autoFocus:d=!1,...p}=e,[r,n]=R("Disclosure.Button"),b=ce(),o=b===null?!1:b===r.panelId,y=l.useRef(null),S=x(y,t,$(s=>{if(!o)return n({type:4,element:s})})),I=V();l.useEffect(()=>{if(!o)return n({type:2,buttonId:i}),()=>{n({type:2,buttonId:null})}},[i,n,o]);let u=$(s=>{var D;if(o){if(r.disclosureState===1)return;switch(s.key){case v.Space:case v.Enter:s.preventDefault(),s.stopPropagation(),n({type:0}),(D=r.buttonElement)==null||D.focus();break}}else switch(s.key){case v.Space:case v.Enter:s.preventDefault(),s.stopPropagation(),n({type:0});break}}),m=$(s=>{switch(s.key){case v.Space:s.preventDefault();break}}),f=$(s=>{var D;Q(s.currentTarget)||a||(o?(n({type:0}),(D=r.buttonElement)==null||D.focus()):n({type:0}))}),{isFocusVisible:P,focusProps:g}=W({autoFocus:d}),{isHovered:F,hoverProps:H}=_({isDisabled:a}),{pressed:O,pressProps:A}=G({disabled:a}),q=l.useMemo(()=>({open:r.disclosureState===0,hover:F,active:O,disabled:a,focus:P,autofocus:d}),[r,F,O,P,a,d]),N=J(e,r.buttonElement),z=o?L({ref:S,type:N,disabled:a||void 0,autoFocus:d,onKeyDown:u,onClick:f},g,H,A):L({ref:S,id:i,type:N,"aria-expanded":r.disclosureState===0,"aria-controls":r.panelElement?r.panelId:void 0,disabled:a||void 0,autoFocus:d,onKeyDown:u,onKeyUp:m,onClick:f},g,H,A);return k({mergeRefs:I,ourProps:z,theirProps:p,slot:q,defaultTag:me,name:"Disclosure.Button"})}let Ee="div",be=K.RenderStrategy|K.Static;function Se(e,t){let c=l.useId(),{id:i=`headlessui-disclosure-panel-${c}`,transition:a=!1,...d}=e,[p,r]=R("Disclosure.Panel"),{close:n}=j("Disclosure.Panel"),b=V(),[o,y]=l.useState(null),S=x(t,$(g=>{oe(()=>r({type:5,element:g}))}),y);l.useEffect(()=>(r({type:3,panelId:i}),()=>{r({type:3,panelId:null})}),[i,r]);let I=Z(),[u,m]=ee(a,o,I!==null?(I&C.Open)===C.Open:p.disclosureState===0),f=l.useMemo(()=>({open:p.disclosureState===0,close:n}),[p.disclosureState,n]),P={ref:S,id:i,...te(m)};return E.createElement(le,null,E.createElement(M.Provider,{value:p.panelId},k({mergeRefs:b,ourProps:P,theirProps:d,slot:f,defaultTag:Ee,features:be,visible:u,name:"Disclosure.Panel"})))}let Ie=T(pe),$e=T(fe),ye=T(Se),Te=Object.assign(Ie,{Button:$e,Panel:ye});export{Te as $};
