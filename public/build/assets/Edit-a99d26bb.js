import{W as N,j as e,Y as v,a as x}from"./app-d6cc0328.js";import{A as y}from"./AuthenticatedLayout-adb0bb29.js";import{H as b}from"./Header-487687ca.js";import{k as _,Q as h}from"./react-toastify.esm-f8bc30f4.js";/* empty css                      */import{c as g}from"./index.esm-e9e95d44.js";import{F as C}from"./FormInput-46d660ee.js";import{I as i}from"./InputLabel-efdb8753.js";import{T as d}from"./TextInput-c326d101.js";import{S as F}from"./SecondaryButton-2f553626.js";import{P as I}from"./PrimaryButton-0bcb36a2.js";import{d as S}from"./dayjs.min-9ba1fe63.js";import"./studyYear-8dba19d0.js";import"./ApplicationLogo-f467a581.js";import"./iconBase-747368b9.js";import"./transition-39e57d8c.js";const U=()=>{const l=S().year(),m=l-10;let r=[];for(let c=m;c<l+1;c++)r=[...r,c];return r},A=()=>{let l=[];for(let m=1;m<13;m++)l=[...l,m];return l};function k({organization:l,contact:m,student:r,level:c,studyYears:u}){const{data:t,setData:n,processing:f,patch:p,errors:a,setError:D,reset:T}=N({name:m.name||"",phone:m.phone||"",address:m.address||"",description:m.description||"",father_name:r.father_name||"",mother_name:r.mother_name||"",no_ref:r.no_ref||"",level:c.level,birthday:r.birthday||"",entry_year:parseInt(r.entry_year),year:c.year,student_id:r.id,student_level_id:c.id,is_active:m.is_active}),j=s=>{s.preventDefault(),p(route("data-master.students.update",{organization:l.id,contact:m.id}),{onSuccess:({props:o})=>{const{flash:w}=o;h.success(w.success,{position:h.POSITION.TOP_CENTER})},onError:o=>{console.log(o)},preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Ubah Data Siswa"}),e.jsx(_,{}),e.jsx(C,{onSubmit:j,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Nama",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"name",name:"name",className:`w-full ${(a==null?void 0:a.name)&&"border-red-500"}`,isFocused:!0,placeholder:"Nama",value:t.name,onChange:s=>n("name",s.target.value.toUpperCase())}),(a==null?void 0:a.name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"No. Handphone (opsional)",htmlFor:"phone",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"phone",name:"phone",className:`w-full ${(a==null?void 0:a.phone)&&"border-red-500"}`,placeholder:"628xxxx",value:t.phone,onChange:s=>n("phone",s.target.value.toUpperCase())}),(a==null?void 0:a.phone)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.phone})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Alamat (opsional)",htmlFor:"address",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"address",name:"address",className:`w-full ${(a==null?void 0:a.address)&&"border-red-500"}`,placeholder:"Alamat",value:t.address,onChange:s=>n("address",s.target.value.toUpperCase())}),(a==null?void 0:a.address)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.address})]})]}),e.jsx("div",{className:"text-center mt-5 font-bold",children:"Detail Siswa"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tahun Masuk",htmlFor:"entry_year",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("select",{className:"select select-bordered w-full",defaultValue:t.entry_year,onChange:s=>n("entry_year",parseInt(s.target.value)),id:"entry_year",children:U().map(s=>e.jsx("option",{children:s},s))}),(a==null?void 0:a.entry_year)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.entry_year})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"No Siswa (opsional)",htmlFor:"no_ref",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"no_ref",name:"no_ref",className:`w-full ${(a==null?void 0:a.no_ref)&&"border-red-500"}`,placeholder:"No Siswa",value:t.no_ref,onChange:s=>n("no_ref",s.target.value.toUpperCase())}),(a==null?void 0:a.no_ref)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.no_ref})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Kelas Tahun Ini",htmlFor:"entry_year",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("select",{className:"select select-bordered w-full",defaultValue:t.level,onChange:s=>n("level",parseInt(s.target.value)),id:"level",children:A().map(s=>e.jsx("option",{children:s},s))}),(a==null?void 0:a.level)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.level})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tahun Ajaran",htmlFor:"year",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("select",{className:"select select-bordered w-full",value:t.year,onChange:s=>n("year",s.target.value),id:"year",children:u.map((s,o)=>e.jsx("option",{children:s.year},o))}),(a==null?void 0:a.study_year)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.study_year})]})]}),e.jsx("div",{className:"text-center mt-5 font-bold",children:"Lain-lain"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Nama Ayah (opsional)",htmlFor:"father_name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"father_name",name:"father_name",className:`w-full ${(a==null?void 0:a.father_name)&&"border-red-500"}`,placeholder:"Nama Ayah",value:t.father_name,onChange:s=>n("father_name",s.target.value.toUpperCase())}),(a==null?void 0:a.father_name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.father_name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Nama Ibu (opsional)",htmlFor:"mother_name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"mother_name",name:"mother_name",className:`w-full ${(a==null?void 0:a.mother_name)&&"border-red-500"}`,placeholder:"Nama Ibu",value:t.mother_name,onChange:s=>n("mother_name",s.target.value.toUpperCase())}),(a==null?void 0:a.mother_name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.mother_name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tanggal Lahir (opsional)",htmlFor:"birthday",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"birthday",name:"birthday",className:`w-full ${(a==null?void 0:a.birthday)&&"border-red-500"}`,value:t.birthday,onChange:s=>n("birthday",s.target.value),type:"date"}),(a==null?void 0:a.birthday)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.birthday})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Informasi Ubahan (opsional)",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(d,{id:"description",name:"description",className:`w-full ${(a==null?void 0:a.description)&&"border-red-500"}`,placeholder:"Informasi Ubahan",value:t.description,onChange:s=>n("description",s.target.value.toUpperCase())}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsx("div",{className:"w-1/6 mt-5",children:e.jsx("div",{className:"form-control ",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:"is_active",children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:"is_active",value:t.is_active,onChange:()=>n("is_active",!t.is_active),checked:t.is_active}),e.jsx("span",{className:"label-text font-bold",children:"Aktif"})]})})}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(x,{href:route("data-master.students",l.id),children:e.jsx(F,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Kembali"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(I,{className:"w-full",disabled:f,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})]})]})})})]})}k.layout=l=>e.jsx(y,{header:e.jsx(b,{children:"Ubah Data Siswa"}),children:l,user:l.props.auth.user,organization:l.props.organization,title:"Ubah Data Siswa",backLink:e.jsx(x,{href:route("data-master.students",l.props.organization.id),children:e.jsx(g,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(x,{href:route("data-master",l.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(x,{href:route("data-master.students",l.props.organization.id),children:"Data Siswa"})}),e.jsx("li",{children:"Ubah Data Siswa"})]})}),role:l.props.role});export{k as default};
