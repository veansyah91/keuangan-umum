import{r as t,W as L,j as e,a as A,Y as Q}from"./app-495b35fd.js";import{P as E}from"./PrimaryButton-dd4116b1.js";import{A as W}from"./AuthenticatedLayout-fe75f9ab.js";import{H as Y}from"./Header-6f38e366.js";import{c as q}from"./index.esm-12f18194.js";import{Q as P,k as J}from"./react-toastify.esm-80184373.js";import{S as V}from"./SecondaryButton-9ed9489d.js";import{I as _}from"./InputLabel-800d040f.js";import{C as f}from"./ClientSelectInput-62dc20e7.js";import{F as X}from"./FormInput-5fff35a0.js";function I({organization:a,accountSchool:s,accounts:i}){const{setIsEdit:x}=t.useContext(g),{data:p,setData:r,patch:b,processing:N,errors:n}=L({id:s?s.id:null,revenue_student:s?s.revenue_student.id:null,receivable_monthly_student:s?s.receivable_monthly_student.id:null,receivable_entry_student:s?s.receivable_entry_student.id:null,prepaid_student:s?s.prepaid_student.id:null,entry_student:s?s.entry_student.id:null,staff_salary_expense:s?s.staff_salary_expense.id:null}),[l,w]=t.useState({id:s?s.entry_student.id:null,name:s?s.entry_student.name:"",code:s?s.entry_student.code:"",is_cash:s?s.entry_student.is_cash:!1}),[m,h]=t.useState({id:s?s.receivable_entry_student.id:null,name:s?s.receivable_entry_student.name:"",code:s?s.receivable_entry_student.code:"",is_cash:s?s.receivable_entry_student.is_cash:!1}),[u,D]=t.useState({id:s?s.receivable_monthly_student.id:null,name:s?s.receivable_monthly_student.name:"",code:s?s.receivable_monthly_student.code:"",is_cash:s?s.receivable_monthly_student.is_cash:!1}),[v,T]=t.useState({id:s?s.prepaid_student.id:null,name:s?s.prepaid_student.name:"",code:s?s.prepaid_student.code:"",is_cash:s?s.prepaid_student.is_cash:!1}),[j,O]=t.useState({id:s?s.revenue_student.id:null,name:s?s.revenue_student.name:"",code:s?s.revenue_student.code:"",is_cash:s?s.revenue_student.is_cash:!1}),[y,M]=t.useState({id:s?s.staff_salary_expense.id:null,name:s?s.staff_salary_expense.name:"",code:s?s.staff_salary_expense.code:"",is_cash:s?s.staff_salary_expense.is_cash:!1}),F=d=>{n.entry_student=null,w({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("entry_student",d.id)},z=d=>{n.receivable_entry_student=null,h({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("receivable_entry_student",d.id)},H=d=>{n.receivable_monthly_student=null,D({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("receivable_monthly_student",d.id)},R=d=>{n.prepaid_student=null,T({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("prepaid_student",d.id)},U=d=>{n.revenue_student=null,O({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("revenue_student",d.id)},K=d=>{n.staff_salary_expense=null,M({id:d.id,name:d.name,code:d.code,is_cash:d.is_cash}),r("staff_salary_expense",d.id)},$=d=>{d.preventDefault(),b(route("data-ledger.account-school.update",{organization:a.id}),{onSuccess:({props:k})=>{const{flash:G}=k;P.success(G.success,{position:P.POSITION.TOP_CENTER})},onError:k=>{console.log(k)}})};return e.jsx(X,{onSubmit:$,children:e.jsxs("div",{className:"w-full space-y-5",children:[e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Piutang Uang Masuk / Tahunan Siswa",htmlFor:"revenue_student"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:m,setSelected:d=>z(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"revenue_student",isError:!!(n!=null&&n.receivable_entry_student),notFound:e.jsxs("span",{children:["Tidak Ada Data. ",e.jsx(A,{className:"font-bold text-blue-600",href:route("data-ledger.account",{organization:a.id}),children:"Buat Baru ?"})]})}),(m==null?void 0:m.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",m.code]})]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Piutang Uang Bulanan Siswa",htmlFor:"receivable_monthly_student"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:u,setSelected:d=>H(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"receivable_monthly_student",isError:!!(n!=null&&n.receivable_monthly_student)}),(u==null?void 0:u.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",u.code]})]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Pendapatan Diterima Di Muka Iuran Bulanan Siswa",htmlFor:"prepaid_student"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:v,setSelected:d=>R(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"prepaid_student",isError:!!(n!=null&&n.prepaid_student)}),(v==null?void 0:v.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",v.code]})]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Pendapatan Iuran Bulanan Siswa",htmlFor:"revenue_student"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:j,setSelected:d=>U(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"revenue_student",isError:!!(n!=null&&n.revenue_student)}),(j==null?void 0:j.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",j.code]})]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Pendapatan Uang Masuk / Tahunan Siswa",htmlFor:"entry_student"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:l,setSelected:d=>F(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"entry_student",isError:!!(n!=null&&n.entry_student)}),(l==null?void 0:l.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",l.code]})]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsx("div",{className:"w-full md:w-3/12 font-bold md:font-normal my-auto",children:e.jsx(_,{value:"Akun Pembayaran Gaji Staff",htmlFor:"staff_salary_expense"})}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx(f,{resources:i,selected:y,setSelected:d=>K(d),maxHeight:"max-h-40",placeholder:"Cari Akun",id:"staff_salary_expense",isError:!!(n!=null&&n.staff_salary_expense)}),(y==null?void 0:y.code)&&e.jsxs("div",{className:"absolute text-xs",children:["Kode: ",y.code]})]})]}),e.jsxs("div",{className:"pt-10 space-x-2",children:[e.jsx(V,{onClick:()=>x(!1),children:"Batal"}),e.jsx(E,{disabled:N,children:s?"Ubah":"Tambah"})]})]})})}const te=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),g=t.createContext();function B({organization:a,accountSchool:s,accounts:i}){const[x,p]=t.useState(!1);return e.jsxs(g.Provider,{value:{isEdit:x,setIsEdit:p},children:[e.jsx(Q,{title:"Data Akun"}),e.jsx(J,{}),e.jsx("div",{className:'sm:pt-0 pb-16 pt-12 print:font-["Open_Sans"]',children:e.jsx("div",{className:"bg-white py-2 sm:pt-0 md:px-10 px-2 space-4",children:x?e.jsx(I,{accountSchool:s,accounts:i,organization:a}):e.jsx(C,{accountSchool:s})})})]})}B.layout=a=>e.jsx(W,{header:e.jsx(Y,{children:"Daftar Akun Sekolah"}),children:a,user:a.props.auth.user,organization:a.props.organization,title:"Data Akun",backLink:e.jsx(A,{href:route("data-ledger",a.props.organization.id),children:e.jsx(q,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(A,{href:route("data-ledger",a.props.organization.id),children:"Buku Besar"})}),e.jsx("li",{children:"Daftar Akun Sekolah"})]})}),role:a.props.role});const re=Object.freeze(Object.defineProperty({__proto__:null,AccountSchoolState:g,default:B},Symbol.toStringTag,{value:"Module"}));function C({accountSchool:a}){var i,x,p,r,b,N,n,l,w,m,h,u;const{setIsEdit:s}=t.useContext(g);return e.jsxs("div",{className:"w-full space-y-3",children:[e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Piutang Uang Masuk / Tahunan Siswa ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(i=a==null?void 0:a.receivable_entry_student)==null?void 0:i.code," - ",(x=a==null?void 0:a.receivable_entry_student)==null?void 0:x.name]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Piutang Iuran Bulanan Siswa ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(p=a==null?void 0:a.receivable_monthly_student)==null?void 0:p.code," - ",(r=a==null?void 0:a.receivable_monthly_student)==null?void 0:r.name]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Pendapatan Dibayar Di Muka Iuran Bulanan Siswa ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(b=a==null?void 0:a.prepaid_student)==null?void 0:b.code," - ",(N=a==null?void 0:a.prepaid_student)==null?void 0:N.name]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Pendapatan Iuran Bulanan Siswa ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(n=a==null?void 0:a.revenue_student)==null?void 0:n.code," - ",(l=a==null?void 0:a.revenue_student)==null?void 0:l.name]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Pendapatan Uang Masuk / Tahunan Siswa ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(w=a==null?void 0:a.entry_student)==null?void 0:w.code," - ",(m=a==null?void 0:a.entry_student)==null?void 0:m.name]})]}),e.jsxs("div",{className:"md:flex gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/12 font-bold md:font-normal",children:["Akun Pembayaran Gaji Staff ",e.jsx("span",{className:"md:hidden",children:":"})]}),e.jsxs("div",{className:"w-full md:w-7/12 my-auto",children:[e.jsx("span",{className:"hidden md:inline",children:": "}),(h=a==null?void 0:a.staff_salary_expense)==null?void 0:h.code," - ",(u=a==null?void 0:a.staff_salary_expense)==null?void 0:u.name]})]}),e.jsx("div",{className:"pt-10",children:e.jsx(E,{onClick:()=>s(!0),children:"Ubah"})})]})}const le=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"}));export{te as A,re as I,le as a};
