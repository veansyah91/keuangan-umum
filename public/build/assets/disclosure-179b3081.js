import{R as g,r as n}from"./app-932dac43.js";import{O as B,U as E,y as $,T as A,o as b,g as F,u as T,e as v,C as R,I as K,d as N}from"./transition-4af5feaf.js";import{I as L,d as H,o as k,r as j}from"./keyboard-61ed8e30.js";import{T as Q}from"./combobox-8eb3c90d.js";var M;let V=(M=g.startTransition)!=null?M:function(e){e()};var Y=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Y||{}),Z=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(Z||{});let _={0:e=>({...e,disclosureState:T(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},x=n.createContext(null);x.displayName="DisclosureContext";function h(e){let t=n.useContext(x);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,h),s}return t}let w=n.createContext(null);w.displayName="DisclosureAPIContext";function U(e){let t=n.useContext(w);if(t===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,U),s}return t}let O=n.createContext(null);O.displayName="DisclosurePanelContext";function q(){return n.useContext(O)}function z(e,t){return T(t.type,_,e,t)}let G=n.Fragment;function J(e,t){let{defaultOpen:s=!1,...i}=e,m=n.useRef(null),l=$(t,A(u=>{m.current=u},e.as===void 0||e.as===n.Fragment)),r=n.useRef(null),f=n.useRef(null),a=n.useReducer(z,{disclosureState:s?0:1,linkedPanel:!1,buttonRef:f,panelRef:r,buttonId:null,panelId:null}),[{disclosureState:p,buttonId:c},y]=a,d=b(u=>{y({type:1});let S=H(m);if(!S||!c)return;let o=(()=>u?u instanceof HTMLElement?u:u.current instanceof HTMLElement?u.current:S.getElementById(c):S.getElementById(c))();o==null||o.focus()}),I=n.useMemo(()=>({close:d}),[d]),P=n.useMemo(()=>({open:p===0,close:d}),[p,d]),C={ref:l};return g.createElement(x.Provider,{value:a},g.createElement(w.Provider,{value:I},g.createElement(F,{value:T(p,{0:v.Open,1:v.Closed})},R({ourProps:C,theirProps:i,slot:P,defaultTag:G,name:"Disclosure"}))))}let W="button";function X(e,t){let s=L(),{id:i=`headlessui-disclosure-button-${s}`,...m}=e,[l,r]=h("Disclosure.Button"),f=q(),a=f===null?!1:f===l.panelId,p=n.useRef(null),c=$(p,t,a?null:l.buttonRef),y=K();n.useEffect(()=>{if(!a)return r({type:2,buttonId:i}),()=>{r({type:2,buttonId:null})}},[i,r,a]);let d=b(o=>{var D;if(a){if(l.disclosureState===1)return;switch(o.key){case k.Space:case k.Enter:o.preventDefault(),o.stopPropagation(),r({type:0}),(D=l.buttonRef.current)==null||D.focus();break}}else switch(o.key){case k.Space:case k.Enter:o.preventDefault(),o.stopPropagation(),r({type:0});break}}),I=b(o=>{switch(o.key){case k.Space:o.preventDefault();break}}),P=b(o=>{var D;j(o.currentTarget)||e.disabled||(a?(r({type:0}),(D=l.buttonRef.current)==null||D.focus()):r({type:0}))}),C=n.useMemo(()=>({open:l.disclosureState===0}),[l]),u=Q(e,p),S=a?{ref:c,type:u,onKeyDown:d,onClick:P}:{ref:c,id:i,type:u,"aria-expanded":l.disclosureState===0,"aria-controls":l.linkedPanel?l.panelId:void 0,onKeyDown:d,onKeyUp:I,onClick:P};return R({mergeRefs:y,ourProps:S,theirProps:m,slot:C,defaultTag:W,name:"Disclosure.Button"})}let ee="div",te=B.RenderStrategy|B.Static;function ne(e,t){let s=L(),{id:i=`headlessui-disclosure-panel-${s}`,...m}=e,[l,r]=h("Disclosure.Panel"),{close:f}=U("Disclosure.Panel"),a=K(),p=$(t,l.panelRef,P=>{V(()=>r({type:P?4:5}))});n.useEffect(()=>(r({type:3,panelId:i}),()=>{r({type:3,panelId:null})}),[i,r]);let c=N(),y=(()=>c!==null?(c&v.Open)===v.Open:l.disclosureState===0)(),d=n.useMemo(()=>({open:l.disclosureState===0,close:f}),[l,f]),I={ref:p,id:i};return g.createElement(O.Provider,{value:l.panelId},R({mergeRefs:a,ourProps:I,theirProps:m,slot:d,defaultTag:ee,features:te,visible:y,name:"Disclosure.Panel"}))}let le=E(J),re=E(X),oe=E(ne),ce=Object.assign(le,{Button:re,Panel:oe});export{ce as A};
