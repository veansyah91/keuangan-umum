import{r as t,j as e,Y as T,y as E,a as p}from"./app-c35e44ea.js";import{D as j,A as R}from"./AuthenticatedLayout-8650b6a1.js";import{H as V}from"./Header-8998d68d.js";import{c as F}from"./index.esm-7bb33f87.js";import{S as $}from"./SecondaryButton-d72803b0.js";import{F as u}from"./index.esm-0b939644.js";import{P as H}from"./PrimaryButton-cf25e388.js";import{d as i}from"./dayjs.min-17ff4607.js";import x from"./TrialBalanceContent-35eb273a.js";import"./index.esm-d7f28cc5.js";import"./iconBase-b0136dc9.js";import"./transition-eca15743.js";/* empty css                      */import"./formatNumber-b542c689.js";function I({organization:s,balances:f,lostProfits:N,total:m,startDateFilter:o,endDateFilter:c}){const[b,v]=t.useState(f||[]),[D,y]=t.useState(N||[]),[O,Y]=t.useState(m||[]),[r,M]=t.useState(o||""),[l,S]=t.useState(c||""),[g,w]=t.useState({startDate:o||"",endDate:o||""}),[L,k]=t.useState({startDate:c||"",endDate:c||""}),[P,n]=t.useState(!1),B=a=>{w(a),M(a.startDate)},A=a=>{k(a),S(a.endDate)},C=()=>{E.reload({only:["balances","lostProfits","total"],data:{startDate:r,endDate:l},onBefore:a=>{a.completed?n(!1):n(!0)},onSuccess:a=>{v(a.props.balances),y(a.props.lostProfits),Y(a.props.total)},onError:a=>{console.log(a)},onFinish:a=>{a.completed?n(!1):n(!0)},preserveState:!0})},h=()=>{window.print()};return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:`Laporan Neraca Lajur : ${i(r).format("MMMM DD, YYYY")} - ${i(l).format("MMMM DD, YYYY")}`}),e.jsx("div",{className:"sm:pt-0 pb-16 pt-12",children:e.jsxs("div",{className:"bg-white py-2 sm:pt-0 px-5",children:[e.jsxs("div",{className:"flex sm:flex-row justify-between gap-2 print:hidden",children:[e.jsxs("div",{className:"px-3 my-auto flex gap-3",children:[e.jsx("div",{className:"my-auto",children:e.jsx(j,{value:g,onChange:B,useRange:!1,asSingle:!0,placeholder:"Tanggal Awal",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto",children:e.jsx(j,{value:L,onChange:A,useRange:!1,asSingle:!0,placeholder:"Tanggal Akhir",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto",children:e.jsx(H,{disabled:!r||!l||r>l||P,onClick:C,children:"Filter"})})]}),e.jsx("div",{className:"text-end px-3 hidden sm:block",children:e.jsx($,{onClick:h,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"my-auto",children:e.jsx(u,{})}),e.jsx("div",{className:"my-auto",children:"Print"})]})})}),e.jsx("div",{className:"fixed sm:hidden bottom-2 right-2",children:e.jsx("button",{onClick:h,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"my-auto mx-auto",children:e.jsx(u,{})})})})})]}),e.jsxs("div",{className:"uppercase pt-9 pb-3 border-b hidden print:flex print:justify-between",children:[e.jsx("div",{className:"w-1/2 text-2xl my-auto",children:"Laporan Neraca Lajur"}),e.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[e.jsx("div",{children:s.name}),e.jsx("div",{className:"text-xs",children:s.address}),e.jsxs("div",{className:"text-xs",children:[s.village,", ",s.district,", ",s.regency,", ",s.province]})]})]}),e.jsxs("div",{className:"w-full mt-3 hidden print:flex print:justify-between",children:[e.jsx("div",{className:"uppercase"}),e.jsxs("div",{className:"text-end italic",children:["Periode : ",i(r).format("MMMM DD, YYYY")," - ",i(l).format("MMMM DD, YYYY")]})]}),e.jsx("div",{className:"my-2 -mx-5 space-y-3 print:font-['Open_Sans'] overflow-auto",children:e.jsx("div",{className:"sm:w-full w-[550px] print:w-full",children:e.jsxs("table",{className:"table uppercase table-zebra table-xs",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"text-slate-900 font-bold",children:[e.jsx("th",{rowSpan:2,children:"Kode Akun"}),e.jsx("th",{rowSpan:2,children:"Nama Akun"}),e.jsx("th",{className:"text-end",colSpan:2,children:"saldo awal"}),e.jsx("th",{className:"text-end",colSpan:2,children:"mutasi"}),e.jsx("th",{className:"text-end",colSpan:2,children:"saldo akhir"})]}),e.jsxs("tr",{className:"text-slate-900 font-bold border-b-2 border-slate-900",children:[e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"}),e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"}),e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"})]})]}),e.jsxs("tbody",{children:[b.sort((a,d)=>a.code-d.code).map((a,d)=>e.jsx(x,{ledger:a},d)),D.map((a,d)=>e.jsx(x,{ledger:a},d))]}),e.jsx("tfoot",{children:e.jsx(x,{ledger:m,isTotal:!0})})]})})})]})})]})}I.layout=s=>e.jsx(R,{header:e.jsx(V,{children:"Laporan Neraca Lajur"}),children:s,user:s.props.auth.user,organization:s.props.organization,title:"Laporan Neraca Lajur",backLink:e.jsx(p,{href:route("report",s.props.organization.id),children:e.jsx(F,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(p,{href:route("report",s.props.organization.id),children:"Laporan"})}),e.jsx("li",{children:"Laporan Neraca Lajur"})]})}),role:s.props.role});export{I as default};
