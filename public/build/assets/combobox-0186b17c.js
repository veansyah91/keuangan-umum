import{R as k,r as d,b as ee,a as Bn}from"./app-61cdbdaa.js";import{u as qt,f as Xt,s as Jt,g as Qt,E as zn,R as Nn,n as Zt,m as Tt,U as Wn,d as Vn,b as jn,y as Un,e as Kn,o as J,r as Ot,h as Yn,_ as Gn}from"./portal-8e976a99.js";import{p as Ke,o as $,m as qn,K as we,y as Me,n as X,L as Ee,O as Rt,u as be,c as Xn,i as ze,_ as ht,a as Jn,x as Qn,R as Zn,b as eo,d as $t}from"./transition-cc14b23b.js";const en=typeof document<"u"?k.useLayoutEffect:()=>{};function to(e){const t=d.useRef(null);return en(()=>{t.current=e},[e]),d.useCallback((...n)=>{const o=t.current;return o==null?void 0:o(...n)},[])}const Pe=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},de=e=>e&&"window"in e&&e.window===e?e:Pe(e).defaultView||window;function no(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function oo(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function tn(e){let t=null;return()=>(t==null&&(t=e()),t)}const io=tn(function(){return oo(/^Mac/i)}),ro=tn(function(){return no(/Android/i)});function so(e){return e.mozInputSource===0&&e.isTrusted?!0:ro()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class lo{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function nn(e){let t=d.useRef({isFocused:!1,observer:null});en(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let n=to(o=>{e==null||e(o)});return d.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=o.target,r=l=>{t.current.isFocused=!1,i.disabled&&n(new lo("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let s=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function ao(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:i}=e;const r=d.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),i&&i(!1),!0},[o,i]),l=nn(r),s=d.useCallback(a=>{const c=Pe(a.target);a.target===a.currentTarget&&c.activeElement===a.target&&(n&&n(a),i&&i(!0),l(a))},[i,n,l]);return{focusProps:{onFocus:!t&&(n||i||o)?s:void 0,onBlur:!t&&(o||i)?r:void 0}}}let Fe=null,lt=new Set,Oe=new Map,pe=!1,at=!1;const uo={Tab:!0,Escape:!0};function gt(e,t){for(let n of lt)n(e,t)}function co(e){return!(e.metaKey||!io()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ne(e){pe=!0,co(e)&&(Fe="keyboard",gt("keyboard",e))}function Z(e){Fe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(pe=!0,gt("pointer",e))}function on(e){so(e)&&(pe=!0,Fe="virtual")}function rn(e){e.target===window||e.target===document||(!pe&&!at&&(Fe="virtual",gt("virtual",e)),pe=!1,at=!1)}function sn(){pe=!1,at=!0}function ut(e){if(typeof window>"u"||Oe.get(de(e)))return;const t=de(e),n=Pe(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){pe=!0,o.apply(this,arguments)},n.addEventListener("keydown",Ne,!0),n.addEventListener("keyup",Ne,!0),n.addEventListener("click",on,!0),t.addEventListener("focus",rn,!0),t.addEventListener("blur",sn,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Z,!0),n.addEventListener("pointermove",Z,!0),n.addEventListener("pointerup",Z,!0)):(n.addEventListener("mousedown",Z,!0),n.addEventListener("mousemove",Z,!0),n.addEventListener("mouseup",Z,!0)),t.addEventListener("beforeunload",()=>{ln(e)},{once:!0}),Oe.set(t,{focus:o})}const ln=(e,t)=>{const n=de(e),o=Pe(e);t&&o.removeEventListener("DOMContentLoaded",t),Oe.has(n)&&(n.HTMLElement.prototype.focus=Oe.get(n).focus,o.removeEventListener("keydown",Ne,!0),o.removeEventListener("keyup",Ne,!0),o.removeEventListener("click",on,!0),n.removeEventListener("focus",rn,!0),n.removeEventListener("blur",sn,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",Z,!0),o.removeEventListener("pointermove",Z,!0),o.removeEventListener("pointerup",Z,!0)):(o.removeEventListener("mousedown",Z,!0),o.removeEventListener("mousemove",Z,!0),o.removeEventListener("mouseup",Z,!0)),Oe.delete(n))};function fo(e){const t=Pe(e);let n;return t.readyState!=="loading"?ut(e):(n=()=>{ut(e)},t.addEventListener("DOMContentLoaded",n)),()=>ln(e,n)}typeof document<"u"&&fo();function an(){return Fe!=="pointer"}const po=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function mo(e,t,n){var o;const i=typeof window<"u"?de(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,r=typeof window<"u"?de(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?de(n==null?void 0:n.target).HTMLElement:HTMLElement,s=typeof window<"u"?de(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!po.has(n==null||(o=n.target)===null||o===void 0?void 0:o.type)||(n==null?void 0:n.target)instanceof r||(n==null?void 0:n.target)instanceof l&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof s&&!uo[n.key])}function ho(e,t,n){ut(),d.useEffect(()=>{let o=(i,r)=>{mo(!!(n!=null&&n.isTextInput),i,r)&&e(an())};return lt.add(o),()=>{lt.delete(o)}},t)}function go(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:i}=e,r=d.useRef({isFocusWithin:!1}),l=d.useCallback(c=>{r.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(r.current.isFocusWithin=!1,n&&n(c),i&&i(!1))},[n,i,r]),s=nn(l),a=d.useCallback(c=>{!r.current.isFocusWithin&&document.activeElement===c.target&&(o&&o(c),i&&i(!0),r.current.isFocusWithin=!0,s(c))},[o,i,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:a,onBlur:l}}}let We=!1,Ze=0;function ct(){We=!0,setTimeout(()=>{We=!1},50)}function It(e){e.pointerType==="touch"&&ct()}function vo(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",It):document.addEventListener("touchend",ct),Ze++,()=>{Ze--,!(Ze>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",It):document.removeEventListener("touchend",ct))}}function un(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:i}=e,[r,l]=d.useState(!1),s=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(vo,[]);let{hoverProps:a,triggerHoverEnd:c}=d.useMemo(()=>{let f=(u,m)=>{if(s.pointerType=m,i||m==="touch"||s.isHovered||!u.currentTarget.contains(u.target))return;s.isHovered=!0;let g=u.currentTarget;s.target=g,t&&t({type:"hoverstart",target:g,pointerType:m}),n&&n(!0),l(!0)},p=(u,m)=>{if(s.pointerType="",s.target=null,m==="touch"||!s.isHovered)return;s.isHovered=!1;let g=u.currentTarget;o&&o({type:"hoverend",target:g,pointerType:m}),n&&n(!1),l(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=u=>{We&&u.pointerType==="mouse"||f(u,u.pointerType)},h.onPointerLeave=u=>{!i&&u.currentTarget.contains(u.target)&&p(u,u.pointerType)}):(h.onTouchStart=()=>{s.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=u=>{!s.ignoreEmulatedMouseEvents&&!We&&f(u,"mouse"),s.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=u=>{!i&&u.currentTarget.contains(u.target)&&p(u,"mouse")}),{hoverProps:h,triggerHoverEnd:p}},[t,n,o,i,s]);return d.useEffect(()=>{i&&c({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:a,isHovered:r}}function cn(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,i=d.useRef({isFocused:!1,isFocusVisible:t||an()}),[r,l]=d.useState(!1),[s,a]=d.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=d.useCallback(()=>a(i.current.isFocused&&i.current.isFocusVisible),[]),f=d.useCallback(u=>{i.current.isFocused=u,l(u),c()},[c]);ho(u=>{i.current.isFocusVisible=u,c()},[],{isTextInput:n});let{focusProps:p}=ao({isDisabled:o,onFocusChange:f}),{focusWithinProps:h}=go({isDisabled:!o,onFocusWithinChange:f});return{isFocused:r,isFocusVisible:s,focusProps:o?h:p}}function bo(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function xo(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function yo({disabled:e=!1}={}){let t=d.useRef(null),[n,o]=d.useState(!1),i=Ke(),r=$(()=>{t.current=null,o(!1),i.dispose()}),l=$(s=>{if(i.dispose(),t.current===null){t.current=s.currentTarget,o(!0);{let a=qt(s.currentTarget);i.addEventListener(a,"pointerup",r,!1),i.addEventListener(a,"pointermove",c=>{if(t.current){let f=bo(c);o(xo(f,t.current.getBoundingClientRect()))}},!1),i.addEventListener(a,"pointercancel",r,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:r,onClick:r}}}function wo(e,t,n){let[o,i]=d.useState(n),r=e!==void 0,l=d.useRef(r),s=d.useRef(!1),a=d.useRef(!1);return r&&!l.current&&!s.current?(s.current=!0,l.current=r,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!r&&l.current&&!a.current&&(a.current=!0,l.current=r,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[r?e:o,$(c=>(r||i(c),t==null?void 0:t(c)))]}function Eo(e){let[t]=d.useState(e);return t}function fn(e={},t=null,n=[]){for(let[o,i]of Object.entries(e))pn(n,dn(t,o),i);return n}function dn(e,t){return e?e+"["+t+"]":t}function pn(e,t,n){if(Array.isArray(n))for(let[o,i]of n.entries())pn(e,dn(t,o.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):fn(n,t,e)}let So=d.createContext(null);function Co({children:e}){let t=d.useContext(So);if(!t)return k.createElement(k.Fragment,null,e);let{target:n}=t;return n?ee.createPortal(k.createElement(k.Fragment,null,e),n):null}function To({data:e,form:t,disabled:n,onReset:o,overrides:i}){let[r,l]=d.useState(null),s=Ke();return d.useEffect(()=>{if(o&&r)return s.addEventListener(r,"reset",o)},[r,t,o]),k.createElement(Co,null,k.createElement(Oo,{setForm:l,formId:t}),fn(e).map(([a,c])=>k.createElement(Xt,{features:Jt.Hidden,...qn({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:a,value:c,...i})})))}function Oo({setForm:e,formId:t}){return d.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:k.createElement(Xt,{features:Jt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let o=n.closest("form");o&&e(o)}})}let Ro=d.createContext(void 0);function mn(){return d.useContext(Ro)}function $o(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let o=(t==null?void 0:t.getAttribute("disabled"))==="";return o&&Io(n)?!1:o}function Io(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Ye=d.createContext(null);Ye.displayName="LabelContext";function hn(){let e=d.useContext(Ye);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hn),t}return e}function Ge(e){var t,n,o;let i=(n=(t=d.useContext(Ye))==null?void 0:t.value)!=null?n:void 0;return((o=e==null?void 0:e.length)!=null?o:0)>0?[i,...e].filter(Boolean).join(" "):i}function Mo({inherit:e=!1}={}){let t=Ge(),[n,o]=d.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,d.useMemo(()=>function(r){let l=$(a=>(o(c=>[...c,a]),()=>o(c=>{let f=c.slice(),p=f.indexOf(a);return p!==-1&&f.splice(p,1),f}))),s=d.useMemo(()=>({register:l,slot:r.slot,name:r.name,props:r.props,value:r.value}),[l,r.slot,r.name,r.props,r.value]);return k.createElement(Ye.Provider,{value:s},r.children)},[o])]}let Po="label";function Fo(e,t){var n;let o=d.useId(),i=hn(),r=mn(),l=Qt(),{id:s=`headlessui-label-${o}`,htmlFor:a=r??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...f}=e,p=Me(t);X(()=>i.register(s),[s,i.register]);let h=$(v=>{let b=v.currentTarget;if(b instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),b instanceof HTMLLabelElement){let y=document.getElementById(b.htmlFor);if(y){let x=y.getAttribute("disabled");if(x==="true"||x==="")return;let w=y.getAttribute("aria-disabled");if(w==="true"||w==="")return;(y instanceof HTMLInputElement&&(y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),u=l||!1,m=d.useMemo(()=>({...i.slot,disabled:u}),[i.slot,u]),g={ref:p,...i.props,id:s,htmlFor:a,onClick:h};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),Ee()({ourProps:g,theirProps:f,slot:m,defaultTag:a?Po:"div",name:i.name||"Label"})}let Ao=we(Fo),Lo=Object.assign(Ao,{});function ve(e,t,n){let o=n.initialDeps??[],i;return()=>{var r,l,s,a;let c;n.key&&((r=n.debug)!=null&&r.call(n))&&(c=Date.now());const f=e();if(!(f.length!==o.length||f.some((u,m)=>o[m]!==u)))return i;o=f;let h;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(h=Date.now()),i=t(...f),n.key&&((s=n.debug)!=null&&s.call(n))){const u=Math.round((Date.now()-c)*100)/100,m=Math.round((Date.now()-h)*100)/100,g=m/16,v=(b,y)=>{for(b=String(b);b.length<y;)b=" "+b;return b};console.info(`%câ± ${v(m,5)} /${v(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(a=n==null?void 0:n.onChange)==null||a.call(n,i),i}}function et(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const Do=(e,t)=>Math.abs(e-t)<1,ko=(e,t,n)=>{let o;return function(...i){e.clearTimeout(o),o=e.setTimeout(()=>t.apply(this,i),n)}},Ho=e=>e,_o=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let i=t;i<=n;i++)o.push(i);return o},Bo=(e,t)=>{const n=e.scrollElement;if(!n)return;const o=e.targetWindow;if(!o)return;const i=l=>{const{width:s,height:a}=l;t({width:Math.round(s),height:Math.round(a)})};if(i(n.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const r=new o.ResizeObserver(l=>{const s=l[0];if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a){i({width:a.inlineSize,height:a.blockSize});return}}i(n.getBoundingClientRect())});return r.observe(n,{box:"border-box"}),()=>{r.unobserve(n)}},Mt={passive:!0},Pt=typeof window>"u"?!0:"onscrollend"in window,zo=(e,t)=>{const n=e.scrollElement;if(!n)return;const o=e.targetWindow;if(!o)return;let i=0;const r=e.options.useScrollendEvent&&Pt?()=>{}:ko(o,()=>{t(i,!1)},e.options.isScrollingResetDelay),l=f=>()=>{const{horizontal:p,isRtl:h}=e.options;i=p?n.scrollLeft*(h&&-1||1):n.scrollTop,r(),t(i,f)},s=l(!0),a=l(!1);a(),n.addEventListener("scroll",s,Mt);const c=e.options.useScrollendEvent&&Pt;return c&&n.addEventListener("scrollend",a,Mt),()=>{n.removeEventListener("scroll",s),c&&n.removeEventListener("scrollend",a)}},No=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const o=t.borderBoxSize[0];if(o)return Math.round(o[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Wo=(e,{adjustments:t=0,behavior:n},o)=>{var i,r;const l=e+t;(r=(i=o.scrollElement)==null?void 0:i.scrollTo)==null||r.call(i,{[o.options.horizontal?"left":"top"]:l,behavior:n})};class Vo{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const o=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(r=>{this._measureElement(r.target,r)})}));return{disconnect:()=>{var i;(i=o())==null||i.disconnect(),n=null},observe:i=>{var r;return(r=o())==null?void 0:r.observe(i,{box:"border-box"})},unobserve:i=>{var r;return(r=o())==null?void 0:r.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([o,i])=>{typeof i>"u"&&delete n[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ho,rangeExtractor:_o,onChange:()=>{},measureElement:No,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var o,i;(i=(o=this.options).onChange)==null||i.call(o,this,n)},this.maybeNotify=ve(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,o)=>{const i=new Map,r=new Map;for(let l=o-1;l>=0;l--){const s=n[l];if(i.has(s.lane))continue;const a=r.get(s.lane);if(a==null||s.end>a.end?r.set(s.lane,s):s.end<a.end&&i.set(s.lane,!0),i.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((l,s)=>l.end===s.end?l.index-s.index:l.end-s.end)[0]:void 0},this.getMeasurementOptions=ve(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,o,i,r,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:o,scrollMargin:i,getItemKey:r,enabled:l}),{key:!1}),this.getMeasurements=ve(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:o,scrollMargin:i,getItemKey:r,enabled:l},s)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let f=a;f<n;f++){const p=r(f),h=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),u=h?h.end+this.options.gap:o+i,m=s.get(p),g=typeof m=="number"?m:this.options.estimateSize(f),v=u+g,b=h?h.lane:f%this.options.lanes;c[f]={index:f,start:u,size:g,end:v,key:p,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ve(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,o,i)=>this.range=n.length>0&&o>0?jo({measurements:n,outerSize:o,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ve(()=>{let n=null,o=null;const i=this.calculateRange();return i&&(n=i.startIndex,o=i.endIndex),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,o]},(n,o,i,r,l)=>r===null||l===null?[]:n({startIndex:r,endIndex:l,overscan:o,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const o=this.options.indexAttribute,i=n.getAttribute(o);return i?parseInt(i,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(n,o)=>{const i=this.indexFromElement(n),r=this.measurementsCache[i];if(!r)return;const l=r.key,s=this.elementsCache.get(l);s!==n&&(s&&this.observer.unobserve(s),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,o,this))},this.resizeItem=(n,o)=>{const i=this.measurementsCache[n];if(!i)return;const r=this.itemSizeCache.get(i.key)??i.size,l=o-r;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,l,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,o)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((o,i)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ve(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,o)=>{const i=[];for(let r=0,l=n.length;r<l;r++){const s=n[r],a=o[s];i.push(a)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const o=this.getMeasurements();if(o.length!==0)return et(o[gn(0,o.length-1,i=>et(o[i]).start,n)])},this.getOffsetForAlignment=(n,o)=>{const i=this.getSize(),r=this.getScrollOffset();o==="auto"&&n>=r+i&&(o="end"),o==="end"&&(n-=i);const l=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-i;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,o="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const r=this.getSize(),l=this.getScrollOffset();if(o==="auto")if(i.end>=l+r-this.options.scrollPaddingEnd)o="end";else if(i.start<=l+this.options.scrollPaddingStart)o="start";else return[l,o];const s=i.start-this.options.scrollPaddingStart+(i.size-r)/2;switch(o){case"center":return[this.getOffsetForAlignment(s,o),o];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,o),o];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,o),o]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:o="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,o),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:o="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(n,o);if(!r)return;const[l,s]=r;this._scrollToOffset(l,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[c]=et(this.getOffsetForIndex(n,s));Do(c,this.getScrollOffset())||this.scrollToIndex(n,{align:s,behavior:i})}else this.scrollToIndex(n,{align:s,behavior:i})}))},this.scrollBy=(n,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var n;const o=this.getMeasurements();let i;return o.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=o[o.length-1])==null?void 0:n.end)??0:Math.max(...o.slice(-this.options.lanes).map(r=>r.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:o,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const gn=(e,t,n,o)=>{for(;e<=t;){const i=(e+t)/2|0,r=n(i);if(r<o)e=i+1;else if(r>o)t=i-1;else return i}return e>0?e-1:0};function jo({measurements:e,outerSize:t,scrollOffset:n}){const o=e.length-1,r=gn(0,o,s=>e[s].start,n);let l=r;for(;l<o&&e[l].end<n+t;)l++;return{startIndex:r,endIndex:l}}const Ft=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Uo(e){const t=d.useReducer(()=>({}),{})[1],n={...e,onChange:(i,r)=>{var l;r?ee.flushSync(t):t(),(l=e.onChange)==null||l.call(e,i,r)}},[o]=d.useState(()=>new Vo(n));return o.setOptions(n),Ft(()=>o._didMount(),[]),Ft(()=>o._willUpdate()),o}function Ko(e){return Uo({observeElementRect:Bo,observeElementOffset:zo,scrollToFn:Wo,...e})}function Yo(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Go(e=Yo){return d.useCallback((t,n)=>{if(typeof e=="string"){let o=e;return(t==null?void 0:t[o])===(n==null?void 0:n[o])}return e(t,n)},[e])}function qo(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function At(e,t=!1){let[n,o]=d.useReducer(()=>({}),{}),i=d.useMemo(()=>qo(e),[e,n]);return X(()=>{if(!e)return;let r=new ResizeObserver(o);return r.observe(e),()=>{r.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}function vn(e){let t=d.useRef({value:"",selectionStart:null,selectionEnd:null});return zn(e,"blur",n=>{let o=n.target;o instanceof HTMLInputElement&&(t.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),$(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:o}=t.current;n!==null&&o!==null&&e.setSelectionRange(n,o)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function Xo(e,t){return d.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Lt(e){return[e.screenX,e.screenY]}function Jo(){let e=d.useRef([-1,-1]);return{wasMoved(t){let n=Lt(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Lt(t)}}}function Qo(e,{container:t,accept:n,walk:o}){let i=d.useRef(n),r=d.useRef(o);d.useEffect(()=>{i.current=n,r.current=o},[n,o]),X(()=>{if(!t||!e)return;let l=qt(t);if(!l)return;let s=i.current,a=r.current,c=Object.assign(p=>s(p),{acceptNode:s}),f=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;f.nextNode();)a(f.currentNode)},[t,e,i,r])}function qe(){return typeof window<"u"}function Se(e){return bn(e)?(e.nodeName||"").toLowerCase():"#document"}function Q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function le(e){var t;return(t=(bn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function bn(e){return qe()?e instanceof Node||e instanceof Q(e).Node:!1}function q(e){return qe()?e instanceof Element||e instanceof Q(e).Element:!1}function se(e){return qe()?e instanceof HTMLElement||e instanceof Q(e).HTMLElement:!1}function Dt(e){return!qe()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Q(e).ShadowRoot}function Ae(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=oe(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Zo(e){return["table","td","th"].includes(Se(e))}function Xe(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function vt(e){const t=bt(),n=q(e)?oe(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ei(e){let t=ue(e);for(;se(t)&&!ye(t);){if(vt(t))return t;if(Xe(t))return null;t=ue(t)}return null}function bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ye(e){return["html","body","#document"].includes(Se(e))}function oe(e){return Q(e).getComputedStyle(e)}function Je(e){return q(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(Se(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dt(e)&&e.host||le(e);return Dt(t)?t.host:t}function xn(e){const t=ue(e);return ye(t)?e.ownerDocument?e.ownerDocument.body:e.body:se(t)&&Ae(t)?t:xn(t)}function Re(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=xn(e),r=i===((o=e.ownerDocument)==null?void 0:o.body),l=Q(i);if(r){const s=ft(l);return t.concat(l,l.visualViewport||[],Ae(i)?i:[],s&&n?Re(s):[])}return t.concat(i,Re(i,[],n))}function ft(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ti(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const me=Math.min,Y=Math.max,$e=Math.round,_e=Math.floor,re=e=>({x:e,y:e}),ni={left:"right",right:"left",bottom:"top",top:"bottom"},oi={start:"end",end:"start"};function kt(e,t,n){return Y(e,me(t,n))}function Ce(e,t){return typeof e=="function"?e(t):e}function ce(e){return e.split("-")[0]}function Le(e){return e.split("-")[1]}function yn(e){return e==="x"?"y":"x"}function wn(e){return e==="y"?"height":"width"}function he(e){return["top","bottom"].includes(ce(e))?"y":"x"}function En(e){return yn(he(e))}function ii(e,t,n){n===void 0&&(n=!1);const o=Le(e),i=En(e),r=wn(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(l=Ve(l)),[l,Ve(l)]}function ri(e){const t=Ve(e);return[dt(e),t,dt(t)]}function dt(e){return e.replace(/start|end/g,t=>oi[t])}function si(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:l;default:return[]}}function li(e,t,n,o){const i=Le(e);let r=si(ce(e),n==="start",o);return i&&(r=r.map(l=>l+"-"+i),t&&(r=r.concat(r.map(dt)))),r}function Ve(e){return e.replace(/left|right|bottom|top/g,t=>ni[t])}function ai(e){return{top:0,right:0,bottom:0,left:0,...e}}function ui(e){return typeof e!="number"?ai(e):{top:e,right:e,bottom:e,left:e}}function je(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function Ht(e,t,n){let{reference:o,floating:i}=e;const r=he(t),l=En(t),s=wn(l),a=ce(t),c=r==="y",f=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let u;switch(a){case"top":u={x:f,y:o.y-i.height};break;case"bottom":u={x:f,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:p};break;case"left":u={x:o.x-i.width,y:p};break;default:u={x:o.x,y:o.y}}switch(Le(t)){case"start":u[l]-=h*(n&&c?-1:1);break;case"end":u[l]+=h*(n&&c?-1:1);break}return u}const ci=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:l}=n,s=r.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=Ht(c,o,a),h=o,u={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:b}=s[g],{x:y,y:x,data:w,reset:C}=await b({x:f,y:p,initialPlacement:o,placement:h,strategy:i,middlewareData:u,rects:c,platform:l,elements:{reference:e,floating:t}});f=y??f,p=x??p,u={...u,[v]:{...u[v],...w}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:p}=Ht(c,h,a)),g=-1)}return{x:f,y:p,placement:h,strategy:i,middlewareData:u}};async function Qe(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:r,rects:l,elements:s,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:h=!1,padding:u=0}=Ce(t,e),m=ui(u),v=s[h?p==="floating"?"reference":"floating":p],b=je(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(v)))==null||n?v:v.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:a})),y=p==="floating"?{x:o,y:i,width:l.floating.width,height:l.floating.height}:l.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating)),w=await(r.isElement==null?void 0:r.isElement(x))?await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1}:{x:1,y:1},C=je(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:x,strategy:a}):y);return{top:(b.top-C.top+m.top)/w.y,bottom:(C.bottom-b.bottom+m.bottom)/w.y,left:(b.left-C.left+m.left)/w.x,right:(C.right-b.right+m.right)/w.x}}const fi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:r,rects:l,initialPlacement:s,platform:a,elements:c}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ce(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=ce(i),y=he(s),x=ce(s)===s,w=await(a.isRTL==null?void 0:a.isRTL(c.floating)),C=h||(x||!g?[Ve(s)]:ri(s)),O=m!=="none";!h&&O&&C.push(...li(s,g,m,w));const E=[s,...C],M=await Qe(t,v),B=[];let P=((o=r.flip)==null?void 0:o.overflows)||[];if(f&&B.push(M[b]),p){const S=ii(i,l,w);B.push(M[S[0]],M[S[1]])}if(P=[...P,{placement:i,overflows:B}],!B.every(S=>S<=0)){var F,z;const S=(((F=r.flip)==null?void 0:F.index)||0)+1,A=E[S];if(A)return{data:{index:S,overflows:P},reset:{placement:A}};let L=(z=P.filter(N=>N.overflows[0]<=0).sort((N,I)=>N.overflows[1]-I.overflows[1])[0])==null?void 0:z.placement;if(!L)switch(u){case"bestFit":{var H;const N=(H=P.filter(I=>{if(O){const D=he(I.placement);return D===y||D==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(D=>D>0).reduce((D,W)=>D+W,0)]).sort((I,D)=>I[1]-D[1])[0])==null?void 0:H[0];N&&(L=N);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function di(e,t){const{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=ce(n),s=Le(n),a=he(n)==="y",c=["left","top"].includes(l)?-1:1,f=r&&a?-1:1,p=Ce(t,e);let{mainAxis:h,crossAxis:u,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return s&&typeof m=="number"&&(u=s==="end"?m*-1:m),a?{x:u*f,y:h*c}:{x:h*c,y:u*f}}const pi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:r,placement:l,middlewareData:s}=t,a=await di(t,e);return l===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:i+a.x,y:r+a.y,data:{...a,placement:l}}}}},mi=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:l=!1,limiter:s={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...a}=Ce(e,t),c={x:n,y:o},f=await Qe(t,a),p=he(ce(i)),h=yn(p);let u=c[h],m=c[p];if(r){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=u+f[v],x=u-f[b];u=kt(y,u,x)}if(l){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",y=m+f[v],x=m-f[b];m=kt(y,m,x)}const g=s.fn({...t,[h]:u,[p]:m});return{...g,data:{x:g.x-n,y:g.y-o,enabled:{[h]:r,[p]:l}}}}}},hi=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:i,rects:r,platform:l,elements:s}=t,{apply:a=()=>{},...c}=Ce(e,t),f=await Qe(t,c),p=ce(i),h=Le(i),u=he(i)==="y",{width:m,height:g}=r.floating;let v,b;p==="top"||p==="bottom"?(v=p,b=h===(await(l.isRTL==null?void 0:l.isRTL(s.floating))?"start":"end")?"left":"right"):(b=p,v=h==="end"?"top":"bottom");const y=g-f.top-f.bottom,x=m-f.left-f.right,w=me(g-f[v],y),C=me(m-f[b],x),O=!t.middlewareData.shift;let E=w,M=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=x),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(E=y),O&&!h){const P=Y(f.left,0),F=Y(f.right,0),z=Y(f.top,0),H=Y(f.bottom,0);u?M=m-2*(P!==0||F!==0?P+F:Y(f.left,f.right)):E=g-2*(z!==0||H!==0?z+H:Y(f.top,f.bottom))}await a({...t,availableWidth:M,availableHeight:E});const B=await l.getDimensions(s.floating);return m!==B.width||g!==B.height?{reset:{rects:!0}}:{}}}};function Sn(e){const t=oe(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=se(e),r=i?e.offsetWidth:n,l=i?e.offsetHeight:o,s=$e(n)!==r||$e(o)!==l;return s&&(n=r,o=l),{width:n,height:o,$:s}}function xt(e){return q(e)?e:e.contextElement}function xe(e){const t=xt(e);if(!se(t))return re(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=Sn(t);let l=(r?$e(n.width):n.width)/o,s=(r?$e(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!s||!Number.isFinite(s))&&(s=1),{x:l,y:s}}const gi=re(0);function Cn(e){const t=Q(e);return!bt()||!t.visualViewport?gi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vi(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Q(e)?!1:t}function ge(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=xt(e);let l=re(1);t&&(o?q(o)&&(l=xe(o)):l=xe(e));const s=vi(r,n,o)?Cn(r):re(0);let a=(i.left+s.x)/l.x,c=(i.top+s.y)/l.y,f=i.width/l.x,p=i.height/l.y;if(r){const h=Q(r),u=o&&q(o)?Q(o):o;let m=h,g=ft(m);for(;g&&o&&u!==m;){const v=xe(g),b=g.getBoundingClientRect(),y=oe(g),x=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;a*=v.x,c*=v.y,f*=v.x,p*=v.y,a+=x,c+=w,m=Q(g),g=ft(m)}}return je({width:f,height:p,x:a,y:c})}function yt(e,t){const n=Je(e).scrollLeft;return t?t.left+n:ge(le(e)).left+n}function Tn(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=o.left+t.scrollLeft-(n?0:yt(e,o)),r=o.top+t.scrollTop;return{x:i,y:r}}function bi(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r=i==="fixed",l=le(o),s=t?Xe(t.floating):!1;if(o===l||s&&r)return n;let a={scrollLeft:0,scrollTop:0},c=re(1);const f=re(0),p=se(o);if((p||!p&&!r)&&((Se(o)!=="body"||Ae(l))&&(a=Je(o)),se(o))){const u=ge(o);c=xe(o),f.x=u.x+o.clientLeft,f.y=u.y+o.clientTop}const h=l&&!p&&!r?Tn(l,a,!0):re(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+f.x+h.x,y:n.y*c.y-a.scrollTop*c.y+f.y+h.y}}function xi(e){return Array.from(e.getClientRects())}function yi(e){const t=le(e),n=Je(e),o=e.ownerDocument.body,i=Y(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=Y(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+yt(e);const s=-n.scrollTop;return oe(o).direction==="rtl"&&(l+=Y(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:l,y:s}}function wi(e,t){const n=Q(e),o=le(e),i=n.visualViewport;let r=o.clientWidth,l=o.clientHeight,s=0,a=0;if(i){r=i.width,l=i.height;const c=bt();(!c||c&&t==="fixed")&&(s=i.offsetLeft,a=i.offsetTop)}return{width:r,height:l,x:s,y:a}}function Ei(e,t){const n=ge(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=se(e)?xe(e):re(1),l=e.clientWidth*r.x,s=e.clientHeight*r.y,a=i*r.x,c=o*r.y;return{width:l,height:s,x:a,y:c}}function _t(e,t,n){let o;if(t==="viewport")o=wi(e,n);else if(t==="document")o=yi(le(e));else if(q(t))o=Ei(t,n);else{const i=Cn(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return je(o)}function On(e,t){const n=ue(e);return n===t||!q(n)||ye(n)?!1:oe(n).position==="fixed"||On(n,t)}function Si(e,t){const n=t.get(e);if(n)return n;let o=Re(e,[],!1).filter(s=>q(s)&&Se(s)!=="body"),i=null;const r=oe(e).position==="fixed";let l=r?ue(e):e;for(;q(l)&&!ye(l);){const s=oe(l),a=vt(l);!a&&s.position==="fixed"&&(i=null),(r?!a&&!i:!a&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ae(l)&&!a&&On(e,l))?o=o.filter(f=>f!==l):i=s,l=ue(l)}return t.set(e,o),o}function Ci(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const l=[...n==="clippingAncestors"?Xe(t)?[]:Si(t,this._c):[].concat(n),o],s=l[0],a=l.reduce((c,f)=>{const p=_t(t,f,i);return c.top=Y(p.top,c.top),c.right=me(p.right,c.right),c.bottom=me(p.bottom,c.bottom),c.left=Y(p.left,c.left),c},_t(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Ti(e){const{width:t,height:n}=Sn(e);return{width:t,height:n}}function Oi(e,t,n){const o=se(t),i=le(t),r=n==="fixed",l=ge(e,!0,r,t);let s={scrollLeft:0,scrollTop:0};const a=re(0);if(o||!o&&!r)if((Se(t)!=="body"||Ae(i))&&(s=Je(t)),o){const h=ge(t,!0,r,t);a.x=h.x+t.clientLeft,a.y=h.y+t.clientTop}else i&&(a.x=yt(i));const c=i&&!o&&!r?Tn(i,s):re(0),f=l.left+s.scrollLeft-a.x-c.x,p=l.top+s.scrollTop-a.y-c.y;return{x:f,y:p,width:l.width,height:l.height}}function tt(e){return oe(e).position==="static"}function Bt(e,t){if(!se(e)||oe(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return le(e)===n&&(n=n.ownerDocument.body),n}function Rn(e,t){const n=Q(e);if(Xe(e))return n;if(!se(e)){let i=ue(e);for(;i&&!ye(i);){if(q(i)&&!tt(i))return i;i=ue(i)}return n}let o=Bt(e,t);for(;o&&Zo(o)&&tt(o);)o=Bt(o,t);return o&&ye(o)&&tt(o)&&!vt(o)?n:o||ei(e)||n}const Ri=async function(e){const t=this.getOffsetParent||Rn,n=this.getDimensions,o=await n(e.floating);return{reference:Oi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function $i(e){return oe(e).direction==="rtl"}const Ii={convertOffsetParentRelativeRectToViewportRelativeRect:bi,getDocumentElement:le,getClippingRect:Ci,getOffsetParent:Rn,getElementRects:Ri,getClientRects:xi,getDimensions:Ti,getScale:xe,isElement:q,isRTL:$i};function $n(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mi(e,t){let n=null,o;const i=le(e);function r(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function l(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),r();const c=e.getBoundingClientRect(),{left:f,top:p,width:h,height:u}=c;if(s||t(),!h||!u)return;const m=_e(p),g=_e(i.clientWidth-(f+h)),v=_e(i.clientHeight-(p+u)),b=_e(f),x={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Y(0,me(1,a))||1};let w=!0;function C(O){const E=O[0].intersectionRatio;if(E!==a){if(!w)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},1e3)}E===1&&!$n(c,e.getBoundingClientRect())&&l(),w=!1}try{n=new IntersectionObserver(C,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return l(!0),r}function Pi(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=xt(e),f=i||r?[...c?Re(c):[],...Re(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const p=c&&s?Mi(c,n):null;let h=-1,u=null;l&&(u=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(t)})),n()}),c&&!a&&u.observe(c),u.observe(t));let m,g=a?ge(e):null;a&&v();function v(){const b=ge(e);g&&!$n(g,b)&&n(),g=b,m=requestAnimationFrame(v)}return n(),()=>{var b;f.forEach(y=>{i&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),p==null||p(),(b=u)==null||b.disconnect(),u=null,a&&cancelAnimationFrame(m)}}const nt=Qe,Fi=pi,Ai=mi,Li=fi,Di=hi,ki=(e,t,n)=>{const o=new Map,i={platform:Ii,...n},r={...i.platform,_c:o};return ci(e,t,{...i,platform:r})};var Be=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Ue(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Ue(e[o],t[o]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,i[o]))return!1;for(o=n;o--!==0;){const r=i[o];if(!(r==="_owner"&&e.$$typeof)&&!Ue(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function In(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zt(e,t){const n=In(e);return Math.round(t*n)/n}function ot(e){const t=d.useRef(e);return Be(()=>{t.current=e}),t}function Hi(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:i,elements:{reference:r,floating:l}={},transform:s=!0,whileElementsMounted:a,open:c}=e,[f,p]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,u]=d.useState(o);Ue(h,o)||u(o);const[m,g]=d.useState(null),[v,b]=d.useState(null),y=d.useCallback(I=>{I!==O.current&&(O.current=I,g(I))},[]),x=d.useCallback(I=>{I!==E.current&&(E.current=I,b(I))},[]),w=r||m,C=l||v,O=d.useRef(null),E=d.useRef(null),M=d.useRef(f),B=a!=null,P=ot(a),F=ot(i),z=ot(c),H=d.useCallback(()=>{if(!O.current||!E.current)return;const I={placement:t,strategy:n,middleware:h};F.current&&(I.platform=F.current),ki(O.current,E.current,I).then(D=>{const W={...D,isPositioned:z.current!==!1};S.current&&!Ue(M.current,W)&&(M.current=W,ee.flushSync(()=>{p(W)}))})},[h,t,n,F,z]);Be(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[c]);const S=d.useRef(!1);Be(()=>(S.current=!0,()=>{S.current=!1}),[]),Be(()=>{if(w&&(O.current=w),C&&(E.current=C),w&&C){if(P.current)return P.current(w,C,H);H()}},[w,C,H,P,B]);const A=d.useMemo(()=>({reference:O,floating:E,setReference:y,setFloating:x}),[y,x]),L=d.useMemo(()=>({reference:w,floating:C}),[w,C]),N=d.useMemo(()=>{const I={position:n,left:0,top:0};if(!L.floating)return I;const D=zt(L.floating,f.x),W=zt(L.floating,f.y);return s?{...I,transform:"translate("+D+"px, "+W+"px)",...In(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:W}},[n,s,L.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:H,refs:A,elements:L,floatingStyles:N}),[f,H,A,L,N])}const Mn=(e,t)=>({...Fi(e),options:[e,t]}),_i=(e,t)=>({...Ai(e),options:[e,t]}),Bi=(e,t)=>({...Li(e),options:[e,t]}),zi=(e,t)=>({...Di(e),options:[e,t]}),Pn={...Bn},Ni=Pn.useInsertionEffect,Wi=Ni||(e=>e());function Fn(e){const t=d.useRef(()=>{});return Wi(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t.current==null?void 0:t.current(...o)},[])}var pt=typeof document<"u"?d.useLayoutEffect:d.useEffect;let Nt=!1,Vi=0;const Wt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vi++;function ji(){const[e,t]=d.useState(()=>Nt?Wt():void 0);return pt(()=>{e==null&&t(Wt())},[]),d.useEffect(()=>{Nt=!0},[]),e}const Ui=Pn.useId,Ki=Ui||ji;function Yi(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(i=>i!==n))||[])}}}const Gi=d.createContext(null),qi=d.createContext(null),Xi=()=>{var e;return((e=d.useContext(Gi))==null?void 0:e.id)||null},Ji=()=>d.useContext(qi),Qi="data-floating-ui-focusable";function Zi(e){const{open:t=!1,onOpenChange:n,elements:o}=e,i=Ki(),r=d.useRef({}),[l]=d.useState(()=>Yi()),s=Xi()!=null,[a,c]=d.useState(o.reference),f=Fn((u,m,g)=>{r.current.openEvent=u?m:void 0,l.emit("openchange",{open:u,event:m,reason:g,nested:s}),n==null||n(u,m,g)}),p=d.useMemo(()=>({setPositionReference:c}),[]),h=d.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return d.useMemo(()=>({dataRef:r,open:t,onOpenChange:f,elements:h,events:l,floatingId:i,refs:p}),[t,f,h,l,i,p])}function er(e){e===void 0&&(e={});const{nodeId:t}=e,n=Zi({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,i=o.elements,[r,l]=d.useState(null),[s,a]=d.useState(null),f=(i==null?void 0:i.domReference)||r,p=d.useRef(null),h=Ji();pt(()=>{f&&(p.current=f)},[f]);const u=Hi({...e,elements:{...i,...s&&{reference:s}}}),m=d.useCallback(x=>{const w=q(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;a(w),u.refs.setReference(w)},[u.refs]),g=d.useCallback(x=>{(q(x)||x===null)&&(p.current=x,l(x)),(q(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!q(x))&&u.refs.setReference(x)},[u.refs]),v=d.useMemo(()=>({...u.refs,setReference:g,setPositionReference:m,domReference:p}),[u.refs,g,m]),b=d.useMemo(()=>({...u.elements,domReference:f}),[u.elements,f]),y=d.useMemo(()=>({...u,...o,refs:v,elements:b,nodeId:t}),[u,v,b,t,o]);return pt(()=>{o.dataRef.current.floatingContext=y;const x=h==null?void 0:h.nodesRef.current.find(w=>w.id===t);x&&(x.context=y)}),d.useMemo(()=>({...u,context:y,refs:v,elements:b}),[u,v,b,y])}const Vt="active",jt="selected";function it(e,t,n){const o=new Map,i=n==="item";let r=e;if(i&&e){const{[Vt]:l,[jt]:s,...a}=e;r=a}return{...n==="floating"&&{tabIndex:-1,[Qi]:""},...r,...t.map(l=>{const s=l?l[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((l,s)=>(s&&Object.entries(s).forEach(a=>{let[c,f]=a;if(!(i&&[Vt,jt].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof f=="function"){var p;(p=o.get(c))==null||p.push(f),l[c]=function(){for(var h,u=arguments.length,m=new Array(u),g=0;g<u;g++)m[g]=arguments[g];return(h=o.get(c))==null?void 0:h.map(v=>v(...m)).find(v=>v!==void 0)}}}else l[c]=f}),l),{})}}function tr(e){e===void 0&&(e=[]);const t=e.map(s=>s==null?void 0:s.reference),n=e.map(s=>s==null?void 0:s.floating),o=e.map(s=>s==null?void 0:s.item),i=d.useCallback(s=>it(s,e,"reference"),t),r=d.useCallback(s=>it(s,e,"floating"),n),l=d.useCallback(s=>it(s,e,"item"),o);return d.useMemo(()=>({getReferenceProps:i,getFloatingProps:r,getItemProps:l}),[i,r,l])}function Ut(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const nr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:i,offset:r=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:c,...f}=Ce(e,t),{rects:p,elements:{floating:h}}=t,u=n.current[l],m=(c==null?void 0:c.current)||h,g=h.clientTop||m.clientTop,v=h.clientTop!==0,b=m.clientTop!==0,y=h===m;if(!u)return{};const x={...t,...await Mn(-u.offsetTop-h.clientTop-p.reference.height/2-u.offsetHeight/2-r).fn(t)},w=await nt(Ut(x,m.scrollHeight+g+h.clientTop),f),C=await nt(x,{...f,elementContext:"reference"}),O=Y(0,w.top),E=x.y+O,P=(m.scrollHeight>m.clientHeight?F=>F:$e)(Y(0,m.scrollHeight+(v&&y||b?g*2:0)-O-Y(0,w.bottom)));if(m.style.maxHeight=P+"px",m.scrollTop=O,i){const F=m.offsetHeight<u.offsetHeight*me(s,n.current.length)-1||C.top>=-a||C.bottom>=-a;ee.flushSync(()=>i(F))}return o&&(o.current=await nt(Ut({...x,y:E},m.offsetHeight+g+h.clientTop),f)),{y:E}}});function or(e,t){const{open:n,elements:o}=e,{enabled:i=!0,overflowRef:r,scrollRef:l,onChange:s}=t,a=Fn(s),c=d.useRef(!1),f=d.useRef(null),p=d.useRef(null);d.useEffect(()=>{if(!i)return;function u(g){if(g.ctrlKey||!m||r.current==null)return;const v=g.deltaY,b=r.current.top>=-.5,y=r.current.bottom>=-.5,x=m.scrollHeight-m.clientHeight,w=v<0?-1:1,C=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&v>0||!y&&v<0?(g.preventDefault(),ee.flushSync(()=>{a(O=>O+Math[C](v,x*w))})):/firefox/i.test(ti())&&(m.scrollTop+=v))}const m=(l==null?void 0:l.current)||o.floating;if(n&&m)return m.addEventListener("wheel",u),requestAnimationFrame(()=>{f.current=m.scrollTop,r.current!=null&&(p.current={...r.current})}),()=>{f.current=null,p.current=null,m.removeEventListener("wheel",u)}},[i,n,o.floating,r,l,a]);const h=d.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=(l==null?void 0:l.current)||o.floating;if(!(!r.current||!u||!c.current)){if(f.current!==null){const m=u.scrollTop-f.current;(r.current.bottom<-.5&&m<-1||r.current.top<-.5&&m>1)&&ee.flushSync(()=>a(g=>g+m))}requestAnimationFrame(()=>{f.current=u.scrollTop})}}}),[o.floating,a,r,l]);return d.useMemo(()=>i?{floating:h}:{},[i,h])}let De=d.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});De.displayName="FloatingContext";let wt=d.createContext(null);wt.displayName="PlacementContext";function ir(e){return d.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function rr(){return d.useContext(De).setReference}function sr(){let{getFloatingProps:e,slot:t}=d.useContext(De);return d.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function lr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=d.useContext(wt),n=d.useMemo(()=>e,[JSON.stringify(e,(i,r)=>{var l;return(l=r==null?void 0:r.outerHTML)!=null?l:r})]);X(()=>{t==null||t(n??null)},[t,n]);let o=d.useContext(De);return d.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let Kt=4;function ar({children:e,enabled:t=!0}){let[n,o]=d.useState(null),[i,r]=d.useState(0),l=d.useRef(null),[s,a]=d.useState(null);ur(s);let c=t&&n!==null&&s!==null,{to:f="bottom",gap:p=0,offset:h=0,padding:u=0,inner:m}=cr(n,s),[g,v="center"]=f.split(" ");X(()=>{c&&r(0)},[c]);let{refs:b,floatingStyles:y,context:x}=er({open:c,placement:g==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${g}`:`${g}-${v}`,strategy:"absolute",transform:!1,middleware:[Mn({mainAxis:g==="selection"?0:p,crossAxis:h}),_i({padding:u}),g!=="selection"&&Bi({padding:u}),g==="selection"&&m?nr({...m,padding:u,overflowRef:l,offset:i,minItemsVisible:Kt,referenceOverflowThreshold:u,onFallbackChange(F){var z,H;if(!F)return;let S=x.elements.floating;if(!S)return;let A=parseFloat(getComputedStyle(S).scrollPaddingBottom)||0,L=Math.min(Kt,S.childElementCount),N=0,I=0;for(let D of(H=(z=x.elements.floating)==null?void 0:z.childNodes)!=null?H:[])if(D instanceof HTMLElement){let W=D.offsetTop,ae=W+D.clientHeight+A,j=S.scrollTop,T=j+S.clientHeight;if(W>=j&&ae<=T)L--;else{I=Math.max(0,Math.min(ae,T)-Math.max(W,j)),N=D.clientHeight;break}}L>=1&&r(D=>{let W=N*L-I+A;return D>=W?D:W})}}):null,zi({padding:u,apply({availableWidth:F,availableHeight:z,elements:H}){Object.assign(H.floating.style,{overflow:"auto",maxWidth:`${F}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${z}px)`})}})].filter(Boolean),whileElementsMounted:Pi}),[w=g,C=v]=x.placement.split("-");g==="selection"&&(w="selection");let O=d.useMemo(()=>({anchor:[w,C].filter(Boolean).join(" ")}),[w,C]),E=or(x,{overflowRef:l,onChange:r}),{getReferenceProps:M,getFloatingProps:B}=tr([E]),P=$(F=>{a(F),b.setFloating(F)});return d.createElement(wt.Provider,{value:o},d.createElement(De.Provider,{value:{setFloating:P,setReference:b.setReference,styles:y,getReferenceProps:M,getFloatingProps:B,slot:O}},e))}function ur(e){X(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let i=parseInt(n);isNaN(i)||o!==i&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function cr(e,t){var n,o,i;let r=rt((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=rt((o=e==null?void 0:e.offset)!=null?o:"var(--anchor-offset, 0)",t),s=rt((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:r,offset:l,padding:s}}function rt(e,t,n=void 0){let o=Ke(),i=$((a,c)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[n,null];let f=Yt(a,c);return[f,p=>{let h=An(a);{let u=h.map(m=>window.getComputedStyle(c).getPropertyValue(m));o.requestAnimationFrame(function m(){o.nextFrame(m);let g=!1;for(let[b,y]of h.entries()){let x=window.getComputedStyle(c).getPropertyValue(y);if(u[b]!==x){u[b]=x,g=!0;break}}if(!g)return;let v=Yt(a,c);f!==v&&(p(v),f=v)})}return o.dispose}]}return[n,null]}),r=d.useMemo(()=>i(e,t)[0],[e,t]),[l=r,s]=d.useState();return X(()=>{let[a,c]=i(e,t);if(s(a),!!c)return c(s)},[e,t]),l}function An(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[o,...An(i)]:[o]}return[]}function Yt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function fr({children:e,freeze:t}){let n=mt(t,e);return k.createElement(k.Fragment,null,n)}function mt(e,t){let[n,o]=d.useState(t);return!e&&n!==t&&o(t),e?n:t}function dr(e){throw new Error("Unexpected object: "+e)}var V=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(V||{});function Gt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),i=o??-1;switch(e.focus){case 0:{for(let r=0;r<n.length;++r)if(!t.resolveDisabled(n[r],r,n))return r;return o}case 1:{i===-1&&(i=n.length);for(let r=i-1;r>=0;--r)if(!t.resolveDisabled(n[r],r,n))return r;return o}case 2:{for(let r=i+1;r<n.length;++r)if(!t.resolveDisabled(n[r],r,n))return r;return o}case 3:{for(let r=n.length-1;r>=0;--r)if(!t.resolveDisabled(n[r],r,n))return r;return o}case 4:{for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return o}case 5:return null;default:dr(e)}}var Et=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Et||{}),pr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pr||{}),mr=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(mr||{}),hr=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(hr||{}),gr=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(gr||{});function st(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=t(e.options.slice()),i=o.length>0&&o[0].dataRef.current.order!==null?o.sort((l,s)=>l.dataRef.current.order-s.dataRef.current.order):Gn(o,l=>l.dataRef.current.domRef.current),r=n?i.indexOf(n):null;return r===-1&&(r=null),{options:i,activeOptionIndex:r}}let vr={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let o=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(o!==-1)return{...e,activeOptionIndex:o,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,o,i,r;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:f}=e.virtual,p=t.focus===V.Specific?t.idx:Gt(t,{resolveItems:()=>c,resolveActiveIndex:()=>{var u,m;return(m=(u=e.activeOptionIndex)!=null?u:c.findIndex(g=>!f(g)))!=null?m:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),h=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===p&&e.activationTrigger===h?e:{...e,activeOptionIndex:p,activationTrigger:h,isTyping:!1,__demoMode:!1}}let l=st(e);if(l.activeOptionIndex===null){let c=l.options.findIndex(f=>!f.dataRef.current.disabled);c!==-1&&(l.activeOptionIndex=c)}let s=t.focus===V.Specific?t.idx:Gt(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),a=(r=t.trigger)!=null?r:2;return e.activeOptionIndex===s&&e.activationTrigger===a?e:{...e,...l,isTyping:!1,activeOptionIndex:s,activationTrigger:a,__demoMode:!1}},4:(e,t)=>{var n,o,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let r=t.payload,l=st(e,a=>(a.push(r),a));e.activeOptionIndex===null&&(o=e.dataRef.current)!=null&&o.isSelected(t.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(r));let s={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let o=st(e,i=>{let r=i.findIndex(l=>l.id===t.id);return r!==-1&&i.splice(r,1),i});return{...e,...o,activationTrigger:2}},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n,o;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let r=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);r!==-1?i=r:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(o=t.disabled)!=null?o:()=>!1}}},8:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},9:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},10:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},St=d.createContext(null);St.displayName="ComboboxActionsContext";function ke(e){let t=d.useContext(St);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ke),n}return t}let Ln=d.createContext(null);function br(e){let t=Te("VirtualProvider"),{options:n}=t.virtual,[o,i]=d.useMemo(()=>{let c=t.optionsElement;if(!c)return[0,0];let f=window.getComputedStyle(c);return[parseFloat(f.paddingBlockStart||f.paddingTop),parseFloat(f.paddingBlockEnd||f.paddingBottom)]},[t.optionsElement]),r=Ko({enabled:n.length!==0,scrollPaddingStart:o,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){return t.optionsElement},overscan:12}),[l,s]=d.useState(0);X(()=>{s(c=>c+1)},[n]);let a=r.getVirtualItems();return a.length===0?null:k.createElement(Ln.Provider,{value:r},k.createElement("div",{style:{position:"relative",width:"100%",height:`${r.getTotalSize()}px`},ref:c=>{c&&t.activationTrigger!==0&&t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&r.scrollToIndex(t.activeOptionIndex)}},a.map(c=>{var f;return k.createElement(d.Fragment,{key:c.key},k.cloneElement((f=e.children)==null?void 0:f.call(e,{...e.slot,option:n[c.index]}),{key:`${l}-${c.key}`,"data-index":c.index,"aria-setsize":n.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Ie=d.createContext(null);Ie.displayName="ComboboxDataContext";function Te(e){let t=d.useContext(Ie);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Te),n}return t}function xr(e,t){return be(t.type,vr,e,t)}let yr=d.Fragment;function wr(e,t){var n,o;let i=Qt(),{value:r,defaultValue:l,onChange:s,form:a,name:c,by:f,disabled:p=i||!1,onClose:h,__demoMode:u=!1,multiple:m=!1,immediate:g=!1,virtual:v=null,nullable:b,...y}=e,x=Eo(l),[w=m?[]:void 0,C]=wo(r,s,x),[O,E]=d.useReducer(xr,{dataRef:d.createRef(),comboboxState:u?0:1,isTyping:!1,options:[],virtual:v?{options:v.options,disabled:(n=v.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:u}),M=d.useRef(!1),B=d.useRef({static:!1,hold:!1}),P=Go(f),F=$(R=>v?f===null?v.options.indexOf(R):v.options.findIndex(_=>P(_,R)):O.options.findIndex(_=>P(_.dataRef.current.value,R))),z=d.useCallback(R=>be(S.mode,{1:()=>w.some(_=>P(_,R)),0:()=>P(w,R)}),[w]),H=$(R=>O.activeOptionIndex===F(R)),S=d.useMemo(()=>({...O,immediate:g,optionsPropsRef:B,value:w,defaultValue:x,disabled:p,mode:m?1:0,virtual:v?O.virtual:null,get activeOptionIndex(){if(M.current&&O.activeOptionIndex===null&&(v?v.options.length>0:O.options.length>0)){if(v){let _=v.options.findIndex(ie=>{var He,Ct;return!((Ct=(He=v.disabled)==null?void 0:He.call(v,ie))!=null&&Ct)});if(_!==-1)return _}let R=O.options.findIndex(_=>!_.dataRef.current.disabled);if(R!==-1)return R}return O.activeOptionIndex},calculateIndex:F,compare:P,isSelected:z,isActive:H}),[w,x,p,m,u,O,v]);X(()=>{var R;v&&E({type:7,options:v.options,disabled:(R=v.disabled)!=null?R:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),X(()=>{O.dataRef.current=S},[S]);let A=S.comboboxState===0;Nn(A,[S.buttonElement,S.inputElement,S.optionsElement],()=>G.closeCombobox());let L=d.useMemo(()=>{var R,_,ie;return{open:S.comboboxState===0,disabled:p,activeIndex:S.activeOptionIndex,activeOption:S.activeOptionIndex===null?null:S.virtual?S.virtual.options[(R=S.activeOptionIndex)!=null?R:0]:(ie=(_=S.options[S.activeOptionIndex])==null?void 0:_.dataRef.current.value)!=null?ie:null,value:w}},[S,p,w]),N=$(()=>{if(S.activeOptionIndex!==null){if(G.setIsTyping(!1),S.virtual)T(S.virtual.options[S.activeOptionIndex]);else{let{dataRef:R}=S.options[S.activeOptionIndex];T(R.current.value)}G.goToOption(V.Specific,S.activeOptionIndex)}}),I=$(()=>{E({type:0}),M.current=!0}),D=$(()=>{E({type:1}),M.current=!1,h==null||h()}),W=$(R=>{E({type:3,isTyping:R})}),ae=$((R,_,ie)=>(M.current=!1,R===V.Specific?E({type:2,focus:V.Specific,idx:_,trigger:ie}):E({type:2,focus:R,trigger:ie}))),j=$((R,_)=>(E({type:4,payload:{id:R,dataRef:_}}),()=>{S.isActive(_.current.value)&&(M.current=!0),E({type:5,id:R})})),T=$(R=>be(S.mode,{0(){return C==null?void 0:C(R)},1(){let _=S.value.slice(),ie=_.findIndex(He=>P(He,R));return ie===-1?_.push(R):_.splice(ie,1),C==null?void 0:C(_)}})),te=$(R=>{E({type:6,trigger:R})}),K=$(R=>{E({type:8,element:R})}),ne=$(R=>{E({type:9,element:R})}),U=$(R=>{E({type:10,element:R})}),G=d.useMemo(()=>({onChange:T,registerOption:j,goToOption:ae,setIsTyping:W,closeCombobox:D,openCombobox:I,setActivationTrigger:te,selectActiveOption:N,setInputElement:K,setButtonElement:ne,setOptionsElement:U}),[]),[fe,Dn]=Mo(),kn=t===null?{}:{ref:t},Hn=d.useCallback(()=>{if(x!==void 0)return C==null?void 0:C(x)},[C,x]),_n=Ee();return k.createElement(Dn,{value:fe,props:{htmlFor:(o=S.inputElement)==null?void 0:o.id},slot:{open:S.comboboxState===0,disabled:p}},k.createElement(ar,null,k.createElement(St.Provider,{value:G},k.createElement(Ie.Provider,{value:S},k.createElement(Xn,{value:be(S.comboboxState,{0:ze.Open,1:ze.Closed})},c!=null&&k.createElement(To,{disabled:p,data:w!=null?{[c]:w}:{},form:a,onReset:Hn}),_n({ourProps:kn,theirProps:y,slot:L,defaultTag:yr,name:"Combobox"}))))))}let Er="input";function Sr(e,t){var n,o,i,r,l;let s=Te("Combobox.Input"),a=ke("Combobox.Input"),c=d.useId(),f=mn(),{id:p=f||`headlessui-combobox-input-${c}`,onChange:h,displayValue:u,disabled:m=s.disabled||!1,autoFocus:g=!1,type:v="text",...b}=e,y=d.useRef(null),x=Me(y,t,rr(),a.setInputElement),w=Zt(s.inputElement),C=Ke(),O=$(()=>{a.onChange(null),s.optionsElement&&(s.optionsElement.scrollTop=0),a.goToOption(V.Nothing)}),E=d.useMemo(()=>{var T;return typeof u=="function"&&s.value!==void 0?(T=u(s.value))!=null?T:"":typeof s.value=="string"?s.value:""},[s.value,u]);Tt(([T,te],[K,ne])=>{if(s.isTyping)return;let U=y.current;U&&((ne===0&&te===1||T!==K)&&(U.value=T),requestAnimationFrame(()=>{if(s.isTyping||!U||(w==null?void 0:w.activeElement)!==U)return;let{selectionStart:G,selectionEnd:fe}=U;Math.abs((fe??0)-(G??0))===0&&G===0&&U.setSelectionRange(U.value.length,U.value.length)}))},[E,s.comboboxState,w,s.isTyping]),Tt(([T],[te])=>{if(T===0&&te===1){if(s.isTyping)return;let K=y.current;if(!K)return;let ne=K.value,{selectionStart:U,selectionEnd:G,selectionDirection:fe}=K;K.value="",K.value=ne,fe!==null?K.setSelectionRange(U,G,fe):K.setSelectionRange(U,G)}},[s.comboboxState]);let M=d.useRef(!1),B=$(()=>{M.current=!0}),P=$(()=>{C.nextFrame(()=>{M.current=!1})}),F=$(T=>{switch(a.setIsTyping(!0),T.key){case J.Enter:if(s.comboboxState!==0||M.current)return;if(T.preventDefault(),T.stopPropagation(),s.activeOptionIndex===null){a.closeCombobox();return}a.selectActiveOption(),s.mode===0&&a.closeCombobox();break;case J.ArrowDown:return T.preventDefault(),T.stopPropagation(),be(s.comboboxState,{0:()=>a.goToOption(V.Next),1:()=>a.openCombobox()});case J.ArrowUp:return T.preventDefault(),T.stopPropagation(),be(s.comboboxState,{0:()=>a.goToOption(V.Previous),1:()=>{ee.flushSync(()=>a.openCombobox()),s.value||a.goToOption(V.Last)}});case J.Home:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(V.First);case J.PageUp:return T.preventDefault(),T.stopPropagation(),a.goToOption(V.First);case J.End:if(T.shiftKey)break;return T.preventDefault(),T.stopPropagation(),a.goToOption(V.Last);case J.PageDown:return T.preventDefault(),T.stopPropagation(),a.goToOption(V.Last);case J.Escape:return s.comboboxState!==0?void 0:(T.preventDefault(),s.optionsElement&&!s.optionsPropsRef.current.static&&T.stopPropagation(),s.mode===0&&s.value===null&&O(),a.closeCombobox());case J.Tab:if(s.comboboxState!==0)return;s.mode===0&&s.activationTrigger!==1&&a.selectActiveOption(),a.closeCombobox();break}}),z=$(T=>{h==null||h(T),s.mode===0&&T.target.value===""&&O(),a.openCombobox()}),H=$(T=>{var te,K,ne;let U=(te=T.relatedTarget)!=null?te:Ot.find(G=>G!==T.currentTarget);if(!((K=s.optionsElement)!=null&&K.contains(U))&&!((ne=s.buttonElement)!=null&&ne.contains(U))&&s.comboboxState===0)return T.preventDefault(),s.mode===0&&s.value===null&&O(),a.closeCombobox()}),S=$(T=>{var te,K,ne;let U=(te=T.relatedTarget)!=null?te:Ot.find(G=>G!==T.currentTarget);(K=s.buttonElement)!=null&&K.contains(U)||(ne=s.optionsElement)!=null&&ne.contains(U)||s.disabled||s.immediate&&s.comboboxState!==0&&C.microTask(()=>{ee.flushSync(()=>a.openCombobox()),a.setActivationTrigger(1)})}),A=Ge(),L=Wn(),{isFocused:N,focusProps:I}=cn({autoFocus:g}),{isHovered:D,hoverProps:W}=un({isDisabled:m}),ae=d.useMemo(()=>({open:s.comboboxState===0,disabled:m,hover:D,focus:N,autofocus:g}),[s,D,N,g,m]),j=ht({ref:x,id:p,role:"combobox",type:v,"aria-controls":(n=s.optionsElement)==null?void 0:n.id,"aria-expanded":s.comboboxState===0,"aria-activedescendant":s.activeOptionIndex===null?void 0:s.virtual?(o=s.options.find(T=>!T.dataRef.current.disabled&&s.compare(T.dataRef.current.value,s.virtual.options[s.activeOptionIndex])))==null?void 0:o.id:(i=s.options[s.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":A,"aria-describedby":L,"aria-autocomplete":"list",defaultValue:(l=(r=e.defaultValue)!=null?r:s.defaultValue!==void 0?u==null?void 0:u(s.defaultValue):null)!=null?l:s.defaultValue,disabled:m||void 0,autoFocus:g,onCompositionStart:B,onCompositionEnd:P,onKeyDown:F,onChange:z,onFocus:S,onBlur:H},I,W);return Ee()({ourProps:j,theirProps:b,slot:ae,defaultTag:Er,name:"Combobox.Input"})}let Cr="button";function Tr(e,t){var n;let o=Te("Combobox.Button"),i=ke("Combobox.Button"),r=Me(t,i.setButtonElement),l=d.useId(),{id:s=`headlessui-combobox-button-${l}`,disabled:a=o.disabled||!1,autoFocus:c=!1,...f}=e,p=vn(o.inputElement),h=$(E=>{switch(E.key){case J.Space:case J.Enter:E.preventDefault(),E.stopPropagation(),o.comboboxState===1&&ee.flushSync(()=>i.openCombobox()),p();return;case J.ArrowDown:E.preventDefault(),E.stopPropagation(),o.comboboxState===1&&(ee.flushSync(()=>i.openCombobox()),o.value||i.goToOption(V.First)),p();return;case J.ArrowUp:E.preventDefault(),E.stopPropagation(),o.comboboxState===1&&(ee.flushSync(()=>i.openCombobox()),o.value||i.goToOption(V.Last)),p();return;case J.Escape:if(o.comboboxState!==0)return;E.preventDefault(),o.optionsElement&&!o.optionsPropsRef.current.static&&E.stopPropagation(),ee.flushSync(()=>i.closeCombobox()),p();return;default:return}}),u=$(E=>{E.preventDefault(),!$o(E.currentTarget)&&(E.button===Et.Left&&(o.comboboxState===0?i.closeCombobox():i.openCombobox()),p())}),m=Ge([s]),{isFocusVisible:g,focusProps:v}=cn({autoFocus:c}),{isHovered:b,hoverProps:y}=un({isDisabled:a}),{pressed:x,pressProps:w}=yo({disabled:a}),C=d.useMemo(()=>({open:o.comboboxState===0,active:x||o.comboboxState===0,disabled:a,value:o.value,hover:b,focus:g}),[o,b,g,x,a]),O=ht({ref:r,id:s,type:Xo(e,o.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=o.optionsElement)==null?void 0:n.id,"aria-expanded":o.comboboxState===0,"aria-labelledby":m,disabled:a||void 0,autoFocus:c,onMouseDown:u,onKeyDown:h},v,y,w);return Ee()({ourProps:O,theirProps:f,slot:C,defaultTag:Cr,name:"Combobox.Button"})}let Or="div",Rr=Rt.RenderStrategy|Rt.Static;function $r(e,t){var n,o,i;let r=d.useId(),{id:l=`headlessui-combobox-options-${r}`,hold:s=!1,anchor:a,portal:c=!1,modal:f=!0,transition:p=!1,...h}=e,u=Te("Combobox.Options"),m=ke("Combobox.Options"),g=ir(a);g&&(c=!0);let[v,b]=lr(g),[y,x]=d.useState(null),w=sr(),C=Me(t,g?v:null,m.setOptionsElement,x),O=Zt(u.optionsElement),E=Jn(),[M,B]=Qn(p,y,E!==null?(E&ze.Open)===ze.Open:u.comboboxState===0);Vn(M,u.inputElement,m.closeCombobox);let P=u.__demoMode?!1:f&&u.comboboxState===0;jn(P,O);let F=u.__demoMode?!1:f&&u.comboboxState===0;Un(F,{allowed:d.useCallback(()=>[u.inputElement,u.buttonElement,u.optionsElement],[u.inputElement,u.buttonElement,u.optionsElement])}),X(()=>{var j;u.optionsPropsRef.current.static=(j=e.static)!=null?j:!1},[u.optionsPropsRef,e.static]),X(()=>{u.optionsPropsRef.current.hold=s},[u.optionsPropsRef,s]),Qo(u.comboboxState===0,{container:u.optionsElement,accept(j){return j.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:j.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(j){j.setAttribute("role","none")}});let z=Ge([(n=u.buttonElement)==null?void 0:n.id]),H=d.useMemo(()=>({open:u.comboboxState===0,option:void 0}),[u.comboboxState]),S=$(()=>{m.setActivationTrigger(0)}),A=$(j=>{j.preventDefault(),m.setActivationTrigger(0)}),L=ht(g?w():{},{"aria-labelledby":z,role:"listbox","aria-multiselectable":u.mode===1?!0:void 0,id:l,ref:C,style:{...h.style,...b,"--input-width":At(u.inputElement,!0).width,"--button-width":At(u.buttonElement,!0).width},onWheel:u.activationTrigger===0?void 0:S,onMouseDown:A,...Zn(B)}),N=M&&u.comboboxState===1,I=mt(N,(o=u.virtual)==null?void 0:o.options),D=mt(N,u.value),W=$(j=>u.compare(D,j));if(u.virtual){if(I===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(h,{children:k.createElement(Ie.Provider,{value:I!==u.virtual.options?{...u,virtual:{...u.virtual,options:I}}:u},k.createElement(br,{slot:H},h.children))})}let ae=Ee();return k.createElement(Kn,{enabled:c?e.static||M:!1},k.createElement(Ie.Provider,{value:u.mode===1?u:{...u,isSelected:W}},ae({ourProps:L,theirProps:{...h,children:k.createElement(fr,{freeze:N},typeof h.children=="function"?(i=h.children)==null?void 0:i.call(h,H):h.children)},slot:H,defaultTag:Or,features:Rr,visible:M,name:"Combobox.Options"})))}let Ir="div";function Mr(e,t){var n,o,i,r;let l=Te("Combobox.Option"),s=ke("Combobox.Option"),a=d.useId(),{id:c=`headlessui-combobox-option-${a}`,value:f,disabled:p=(i=(o=(n=l.virtual)==null?void 0:n.disabled)==null?void 0:o.call(n,f))!=null?i:!1,order:h=null,...u}=e,m=vn(l.inputElement),g=l.virtual?l.activeOptionIndex===l.calculateIndex(f):l.activeOptionIndex===null?!1:((r=l.options[l.activeOptionIndex])==null?void 0:r.id)===c,v=l.isSelected(f),b=d.useRef(null),y=eo({disabled:p,value:f,domRef:b,order:h}),x=d.useContext(Ln),w=Me(t,b,x?x.measureElement:null),C=$(()=>{s.setIsTyping(!1),s.onChange(f)});X(()=>s.registerOption(c,y),[y,c]);let O=d.useRef(!(l.virtual||l.__demoMode));X(()=>{if(!l.virtual&&!l.__demoMode)return $t().requestAnimationFrame(()=>{O.current=!0})},[l.virtual,l.__demoMode]),X(()=>{if(O.current&&l.comboboxState===0&&g&&l.activationTrigger!==0)return $t().requestAnimationFrame(()=>{var A,L;(L=(A=b.current)==null?void 0:A.scrollIntoView)==null||L.call(A,{block:"nearest"})})},[b,g,l.comboboxState,l.activationTrigger,l.activeOptionIndex]);let E=$(A=>{A.preventDefault(),A.button===Et.Left&&(p||(C(),Yn()||requestAnimationFrame(()=>m()),l.mode===0&&s.closeCombobox()))}),M=$(()=>{if(p)return s.goToOption(V.Nothing);let A=l.calculateIndex(f);s.goToOption(V.Specific,A)}),B=Jo(),P=$(A=>B.update(A)),F=$(A=>{if(!B.wasMoved(A)||p||g)return;let L=l.calculateIndex(f);s.goToOption(V.Specific,L,0)}),z=$(A=>{B.wasMoved(A)&&(p||g&&(l.optionsPropsRef.current.hold||s.goToOption(V.Nothing)))}),H=d.useMemo(()=>({active:g,focus:g,selected:v,disabled:p}),[g,v,p]),S={id:c,ref:w,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:E,onFocus:M,onPointerEnter:P,onMouseEnter:P,onPointerMove:F,onMouseMove:F,onPointerLeave:z,onMouseLeave:z};return Ee()({ourProps:S,theirProps:u,slot:H,defaultTag:Ir,name:"Combobox.Option"})}let Pr=we(wr),Fr=we(Tr),Ar=we(Sr),Lr=Lo,Dr=we($r),kr=we(Mr),zr=Object.assign(Pr,{Input:Ar,Button:Fr,Label:Lr,Options:Dr,Option:kr});export{cn as $,zr as H,un as a,Xo as e,$o as r,yo as w};
