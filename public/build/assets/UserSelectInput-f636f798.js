import{r,y,j as e}from"./app-f39f5256.js";import{o as b,p as j}from"./index.esm-1a465fb0.js";import{u as w,a as N}from"./index.module-3b0b3f9b.js";import{H as o}from"./combobox-761de6bb.js";import{z as C}from"./transition-4036d903.js";function S({resources:u,selected:a,setSelected:c,maxHeight:m="max-h-60",placeholder:d,className:x="border-gray-300 border"}){const[l,n]=r.useState(""),[i,f]=r.useState(u),h=w(l),[p]=N(l,500);r.useEffect(()=>{h!==void 0&&g()},[p]),r.useEffect(()=>{n(a==null?void 0:a.name)},[a]);const g=()=>{y.reload({only:["users"],data:{user:l},onSuccess:({props:t})=>{const{users:s}=t;f(s)}})};return e.jsx(o,{value:a,onChange:c,children:e.jsxs("div",{className:"relative mt-1",children:[e.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left border-gray-300 border focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm ${x}`,children:[e.jsx(o.Input,{className:"w-full py-3 pl-3 pr-10 leading-5 text-gray-800 focus:ring-0 border-none",displayValue:t=>t.email,onChange:t=>n(t.target.value),placeholder:d,type:"search"}),e.jsx(o.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-600 text-lg",children:e.jsx(b,{})})]}),e.jsx(C,{as:r.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx(o.Options,{className:`absolute mt-1 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm ${m} z-10`,children:i.length===0&&l!==""?e.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-700",children:"Nothing found."}):i.map(t=>e.jsx(o.Option,{className:({active:s})=>`relative flex cursor-default select-none py-2 pl-10 pr-4 ${s?"bg-teal-600 text-white":"text-gray-900"}`,value:t,children:({selected:s,active:v})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`block truncate ${s?"font-medium":"font-normal"}`,children:[e.jsx("div",{children:t.email}),e.jsx("div",{className:"text-xs",children:t.name})]}),s?e.jsx("div",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${v?"text-white":"text-teal-600"}`,children:e.jsx(j,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},t.id))})})]})})}export{S as U};
