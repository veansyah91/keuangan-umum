import{j as s,r as l,S as D,L as y}from"./app-aef41eca.js";import{C as w}from"./Container-3f7ebff9.js";import{H as C}from"./Header-254e6151.js";import{a as M,D as $,A as H}from"./AuthenticatedLayout-905ab386.js";import{f as x}from"./formatNumber-b542c689.js";import{i as R,f as u}from"./index.esm-6ad6ab3f.js";import{G as A}from"./iconBase-4cdc82a0.js";import{B as I,a as Y}from"./index.esm-79c8896e.js";import{a as L}from"./index.esm-b1c7bafe.js";import{d as i}from"./dayjs.min-241ae6cd.js";import p from"./CostRevenueChart-7262b579.js";import F from"./CashflowChart-8b810caf.js";import"./ApplicationLogo-af080d56.js";import"./transition-ade245dd.js";/* empty css                      */import"./generateCategoricalChart-36e3ca68.js";const e=({children:t,className:r,bgColor:m="bg-white"})=>s.jsx("div",{className:`w-full border p-3 rounded-lg ${r} ${m}`,children:t}),S=({children:t,className:r})=>s.jsx("div",{className:`w-full text-lg font-bold ${r}`,children:t}),k=({children:t,className:r})=>s.jsx("div",{className:`w-full my-3 ${r}`,children:t}),B=({children:t,className:r})=>s.jsx("div",{className:`w-full text-lg font-bold ${r}`,children:t});e.Header=S;e.Content=k;e.Footer=B;function O(t){return A({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3v18h18"}},{tag:"path",attr:{d:"m19 9-5 5-4-4-3 3"}}]})(t)}const P=({balance:t,startDate:r,endDate:m})=>{const{date:o,setDate:c}=l.useContext(M),[a,h]=l.useState(!1);l.useEffect(()=>{h(!0),setTimeout(()=>{v()},0)},[o]);const[N,n]=l.useState({startDate:r||o,endDate:m||o}),g=d=>{let j=`${i(d.startDate).startOf("month").$y}-${i(d.startDate).startOf("month").$M+1}-${i(d.startDate).startOf("month").$D}`,f=`${i(d.startDate).endOf("month").$y}-${i(d.startDate).endOf("month").$M+1}-${i(d.startDate).endOf("month").$D}`;c({start:j,end:f}),n({startDate:j,endDate:f})},v=()=>{D.reload({only:["balance","startDate","endDate"],data:{startDate:o.start,endDate:o.end},onSuccess:({props:d})=>{h(!1),n({startDate:d.startDate,endDate:d.endDate})},preserveState:!0})};return s.jsxs(s.Fragment,{children:[s.jsx(y,{title:"Dasbor"}),s.jsxs(w,{children:[s.jsxs("div",{className:"sm:hidden p-2 mx-2 bg-white flex justify-between gap-2",children:[s.jsx("div",{className:"font-bold my-auto",children:"Periode"}),s.jsx("div",{children:s.jsx($,{value:N,onChange:g,useRange:!1,asSingle:!0,placeholder:"Filter Bulan",id:"date",displayFormat:"MMMM YYYY"})})]}),s.jsx("div",{className:"flex gap-3 mt-2 mx-2",children:s.jsxs(e,{children:[s.jsxs(e.Header,{className:"flex gap-3 justify-between",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"my-auto",children:s.jsx(R,{})}),s.jsx("div",{children:"Neraca"})]}),s.jsx("div",{className:"text-slate-400",children:i(o.start).format("MMMM YYYY")})]}),s.jsxs(e.Content,{className:"flex gap-5 flex-col sm:flex-row px-2",children:[s.jsxs(e,{className:"bg-lime-300 bg-opacity-20 shadow-md",children:[s.jsxs(e.Header,{className:"flex gap-3 justify-between",children:[s.jsx("div",{children:"Aktiva"}),s.jsxs("div",{className:"text-blue-600",children:["IDR ",a?0:x((t==null?void 0:t.currentAsset)+(t==null?void 0:t.fixedAsset))]})]}),s.jsxs(e.Content,{className:"sm:flex sm:space-y-0 space-y-2 sm:gap-3",children:[s.jsxs(e,{className:"shadow",children:[s.jsx(e.Header,{children:"Harta Lancar"}),s.jsxs(e.Content,{className:"text-end text-lg sm:text-2xl text-rose-700",children:["IDR ",a?0:x(t==null?void 0:t.currentAsset)]})]}),s.jsxs(e,{className:"shadow",children:[s.jsx(e.Header,{children:"Harta Tetap"}),s.jsxs(e.Content,{className:"text-end text-lg sm:text-2xl text-sky-500",children:["IDR ",a?0:x(t==null?void 0:t.fixedAsset)]})]})]})]}),s.jsxs(e,{className:"bg-blue-300 bg-opacity-20 shadow-md",children:[s.jsxs(e.Header,{className:"flex gap-3 justify-between",children:[s.jsx("div",{children:"Pasiva"}),s.jsxs("div",{className:"text-blue-600",children:["IDR ",a?0:x((t==null?void 0:t.currentAsset)+(t==null?void 0:t.fixedAsset))]})]}),s.jsxs(e.Content,{className:"sm:flex sm:space-y-0 space-y-2 sm:gap-3",children:[s.jsxs(e,{className:"shadow",children:[s.jsx(e.Header,{children:"Kewajiban"}),s.jsxs(e.Content,{className:"text-end text-lg sm:text-2xl text-orange-500",children:["IDR ",a?0:x(Math.abs(t==null?void 0:t.liability))]})]}),s.jsxs(e,{className:"shadow",children:[s.jsx(e.Header,{children:"Modal"}),s.jsxs(e.Content,{className:"text-green-500 text-end text-lg sm:text-2xl",children:["IDR ",a?0:x(Math.abs(t==null?void 0:t.equity))]})]})]})]})]})]})}),s.jsx("div",{className:"flex gap-3 mt-2 mx-2",children:s.jsxs(e,{children:[s.jsxs(e.Header,{className:"flex gap-3 justify-between",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"my-auto",children:s.jsx(O,{})}),s.jsx("div",{children:"Laba Rugi"})]}),s.jsx("div",{className:"text-slate-400",children:i(o.start).format("MMMM YYYY")})]}),s.jsxs(e.Content,{className:"flex gap-5 flex-col sm:flex-row px-2",children:[s.jsx(e,{className:"bg-blue-300 bg-opacity-20 max-h-28 flex gap-2 shadow-md",children:s.jsxs(e.Content,{className:"w-full flex gap-2",children:[s.jsx("div",{className:"w-1/4 text-4xl my-auto mx-auto",children:s.jsx("div",{className:"w-full p-2 h-full",children:s.jsx(I,{className:"mx-auto text-blue-600"})})}),s.jsxs("div",{className:"space-y-2 w-3/4",children:[s.jsx("div",{className:"text-xl font-bold",children:"Pendapatan"}),s.jsxs("div",{className:"text-blue-600 text-2xl sm:text-left text-end",children:["IDR ",a?0:x(Math.abs(t==null?void 0:t.revenue))]})]})]})}),s.jsx(e,{className:"bg-blue-300 bg-opacity-20 max-h-28 flex gap-2 shadow-md",children:s.jsxs(e.Content,{className:"w-full flex gap-2",children:[s.jsx("div",{className:"w-1/4 text-4xl my-auto mx-auto",children:s.jsx("div",{className:"w-full p-2 h-full",children:s.jsx(Y,{className:"mx-auto text-red-600"})})}),s.jsxs("div",{className:"space-y-2 w-3/4",children:[s.jsx("div",{className:"text-xl font-bold",children:"Pengeluaran"}),s.jsxs("div",{className:"text-red-600 text-2xl sm:text-left text-end",children:["IDR ",a?0:x(Math.abs(t==null?void 0:t.cost))]})]})]})}),s.jsx(e,{className:"bg-blue-300 bg-opacity-20 max-h-28 flex gap-2 shadow-md",children:s.jsxs(e.Content,{className:"w-full flex gap-2",children:[s.jsx("div",{className:"w-1/4 text-4xl my-auto mx-auto",children:s.jsx("div",{className:"w-full p-2 h-full",children:s.jsx(L,{className:"mx-auto text-green-600"})})}),s.jsxs("div",{className:"space-y-2 w-3/4",children:[s.jsx("div",{className:"text-xl font-bold",children:"Laba Rugi"}),s.jsxs("div",{className:"text-green-600 text-2xl sm:text-left text-end",children:["IDR"," ",Math.abs((t==null?void 0:t.revenue)+(t==null?void 0:t.cost))>0?x(((t==null?void 0:t.revenue)+(t==null?void 0:t.cost))*-1):0]})]})]})})]})]})}),s.jsx(p,{logo:s.jsx(u,{}),dataChart:t==null?void 0:t.revenueDay,title:"Pendapatan",type:"revenue",data:t==null?void 0:t.revenues}),s.jsx(p,{logo:s.jsx(u,{}),dataChart:t==null?void 0:t.costDay,title:"Pengeluaran",type:"cost",data:t==null?void 0:t.costs}),(t==null?void 0:t.cashflowDay)&&s.jsx(F,{data:t==null?void 0:t.cashflowDay})]})]})};P.layout=t=>s.jsx(H,{header:s.jsx(C,{children:t.props.organization.name}),children:t,user:t.props.auth.user,organization:t.props.organization,role:t.props.role,title:t.props.organization.name,showDateFilter:!0,startDate:t.props.startDate,endDate:t.props.endDate});export{P as default};
