import{r as i,W as S,y as k,j as e,Y as I,a as t}from"./app-e3d6b92a.js";import{A as C}from"./AuthenticatedLayout-b01d2708.js";import{H as D}from"./Header-dcc2f752.js";import{I as n,a as o,b as M,c as _}from"./index.esm-3283729c.js";import{T as $,C as T,a as B,P as F,b as E}from"./ContentDesktop-9d09999a.js";import{M as R}from"./Modal-02309b61.js";import{S as A}from"./SecondaryButton-107529d4.js";import{P as x}from"./PrimaryButton-b8251f31.js";import{k as O,Q as h}from"./react-toastify.esm-f155f8f4.js";/* empty css                      */import z from"./ProvinceMobile-43e606d8.js";import{C as H}from"./ContainerDesktop-7dcb516d.js";import K from"./ProvinceDesktop-fc3ee822.js";import{o as L,u as Q}from"./usePrevious-01d133fe.js";import{N as V,a as W}from"./NavgroupRegional-3cb75d40.js";import"./index.esm-14b2098e.js";import"./iconBase-0832dfb8.js";import"./transition-455c010c.js";import"./dayjs.min-bf118911.js";import"./formatNumber-b542c689.js";import"./keyboard-2a990d5c.js";function Y({provinces:a,searchFilter:u}){i.useState(!1);const[p,l]=i.useState(!1),[r,d]=i.useState(u||""),{data:q,setData:j,post:f,progress:c,reset:g,processing:N}=S({province:""}),[v]=L(r,500),b=Q(r);i.useEffect(()=>{b!==void 0&&y()},[v]);const y=()=>{k.reload({only:["provinces"],data:{search:r}})},P=s=>{s.preventDefault(),f(route("admin.data-master.province.post"),{onSuccess:()=>{g(),l(!1),h.success("Provinsi Berhasil Diimport",{position:h.POSITION.TOP_CENTER})}})},w=s=>{s.currentTarget.files&&j("province",s.currentTarget.files[0])};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Data Provinsi"}),e.jsx(O,{}),e.jsx("div",{className:"btm-nav sm:hidden",children:e.jsx(V,{onClick:()=>l(!0)})}),e.jsx($,{zIndex:"z-50",search:r,setSearch:s=>d(s.target.value),pageBefore:a.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})}),pageAfter:a.links[a.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})}),page:e.jsxs(e.Fragment,{children:[a.current_page,"/",a.last_page]}),data:a}),e.jsx(T,{children:a.data.map(s=>e.jsx(z,{province:s},s.id))}),e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx("div",{className:"my-auto w-7/12",children:e.jsx(x,{className:"py-3",onClick:()=>l(!0),children:"Import Provinsi"})}),e.jsxs("div",{className:"w-3/12 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx(M,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Provinsi",className:"w-full border-none focus:outline-none focus:ring-0",value:r||"",onChange:s=>d(s.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(F,{data:a})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:a.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})})}),e.jsxs("div",{className:"my-auto",children:[a.current_page,"/",a.last_page]}),e.jsx("div",{className:"my-auto",children:a.links[a.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})})})]})]}),e.jsxs("div",{className:"sm:flex hidden gap-5",children:[e.jsx("div",{className:"w-11/12",children:e.jsx(E,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Kode"}),e.jsx("th",{className:"bg-gray-200",children:"Nama Provinsi"}),e.jsx("th",{className:"bg-gray-200"})]})}),e.jsx("tbody",{children:a.data.map((s,m)=>e.jsx(K,{province:s,className:`${m%2==0&&"bg-gray-100"}`},m))})]})})}),e.jsx("div",{className:"w-1/12 text-end",children:e.jsx(W,{})})]})]}),e.jsx(R,{show:p,onClose:()=>l(!1),children:e.jsxs("form",{onSubmit:P,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Import Provinsi"}),e.jsx("div",{className:"mt-6 ",children:e.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-1",children:[e.jsx("div",{className:"sm:w-1/4 w-full my-auto",children:"File Provinsi"}),e.jsxs("div",{className:"sm:w-3/4 w-full",children:[e.jsx("input",{type:"file",className:"file-input file-input-bordered file-input-sm w-full",value:void 0,onChange:w}),c&&e.jsxs("progress",{value:c.percentage,max:"100",children:[c.percentage,"%"]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(A,{onClick:()=>l(!1),children:"Batal"}),e.jsx(x,{className:"ms-3",disabled:N,children:"Import"})]})]})})]})}Y.layout=a=>e.jsx(C,{header:e.jsx(D,{children:"Data Provinsi"}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(t,{href:route("admin.data-master"),children:"Data Master"})}),e.jsx("li",{children:"Data Provinsi"})]})}),children:a,user:a.props.auth.user,title:"Data Provinsi",backLink:e.jsx(t,{href:route("admin.data-master"),children:e.jsx(_,{})})});export{Y as default};
