import{m as T,r as $,j as s,L as k,$ as d}from"./app-8a73958f.js";import{A as D}from"./AuthenticatedLayout-a6d205fd.js";import{H as I}from"./Header-4c3a0c52.js";import{c as R}from"./index.esm-72e46d09.js";import{d as l}from"./dayjs.min-f50edeaa.js";import{F as h,e as p}from"./index.esm-058f0f0f.js";import{S as j}from"./SecondaryButton-7a90be04.js";import{f as c}from"./formatNumber-b542c689.js";import{k as N,Q as r}from"./react-toastify.esm-61ed81a8.js";import"./ApplicationLogo-da93ba3b.js";import"./iconBase-0306a48d.js";import"./transition-c189f5cc.js";/* empty css                      */function E({organization:a,ledger:e,user:f,whatsappPlugin:o,balance:i,terbilang:v}){const{data:t,post:u,processing:w}=T({contact_id:i.contact_id,contact_phone:i.contact.phone,contact_name:i.contact.name,contact_ref:i.no_ref,contact_type:i.saving_category.name,contact_value:i.value,date:e.date,no_ref:e.no_ref,value:e.debit>0?e.debit:e.credit,terbilang:v,send_wa:o}),[A]=$.useState("https://web.whatsapp.com/send"),m=()=>{window.print()},x=()=>{if(o){u(route("cashflow.saving.ledger.send-whatsapp",{organization:a.id,ledger:e.id}),{onSuccess:({props:y})=>{const{flash:S}=y;r.success(S.success,{position:r.POSITION.TOP_CENTER})}});return}let n=i.contact.phone;if(!n){r.error(`No Handphone ${i.contact.name} tidak ditemukan`,{position:r.POSITION.TOP_CENTER});return}n[0]!=="6"&&n[1]!=="2"&&(n="62"+n.slice(1));let b=`*BUKTI ${e.debit>0?"PENARIKAN":"SETORAN"} TABUNGAN*%0A-------------------------------------------------------%0A*Jenis Simpanan*: ${t.contact_type}%0A*Nama*: ${t.contact_name}%0A*ID Simpanan*: ${t.contact_ref}%0A*Saldo Akhir*: IDR. ${c(t.contact_value)}%0A-------------------------------------------------------%0A*No Ref Transaksi*: ${e.no_ref}%0A*Tanggal*: ${l(e.date).locale("id").format("DD MMMM YYYY")}%0A*Total*: IDR. ${e.debit>0?c(e.debit):c(e.credit)}%0A%0A%0ATtd,%0A%0A%0A*${a.name}*`,_=`${A}?phone=${n}&text=${b}`;window.open(_,"_blank")};return s.jsxs(s.Fragment,{children:[s.jsx(k,{title:`${e.debit>0?"PENARIKAN":"SETORAN"} UANG TABUNGAN ${t.contact_name} (${i.no_ref})`}),s.jsx(N,{}),s.jsx("div",{className:"sm:pt-0 pb-16 pt-12",children:s.jsxs("div",{className:"bg-white py-2 sm:pt-0 px-5",children:[s.jsxs("div",{className:"flex sm:flex-row justify-between gap-2 print:hidden",children:[s.jsx("div",{className:"px-3 my-auto flex gap-3"}),s.jsxs("div",{className:"text-end px-3 hidden sm:block space-x-5",children:[i.contact.phone&&s.jsx(j,{onClick:x,disabled:w,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(h,{})}),s.jsx("div",{className:"my-auto",children:"Kirim WA"})]})}),s.jsx(j,{onClick:m,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"my-auto",children:s.jsx(p,{})}),s.jsx("div",{className:"my-auto",children:"Print"})]})})]}),s.jsxs("div",{className:"fixed sm:hidden bottom-2 right-2 space-x-1",children:[s.jsx("button",{onClick:x,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(h,{})})})}),s.jsx("button",{onClick:m,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"my-auto mx-auto",children:s.jsx(p,{})})})})]})]}),s.jsxs("div",{className:"uppercase pt-9 pb-3 border-b hidden print:flex print:justify-between",children:[s.jsx("div",{className:"w-1/2 text-xl my-auto",children:`${e.debit>0?"PENARIKAN":"SETORAN"} UANG TABUNGAN`}),s.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[s.jsx("div",{children:a.name}),s.jsx("div",{className:"text-xs",children:a.address}),s.jsxs("div",{className:"text-xs",children:[a.village,", ",a.district,", ",a.regency,","," ",a.province]})]})]}),s.jsx("div",{className:"my-2 space-y-3 mx-3 print:font-['Open_Sans'] overflow-auto",children:s.jsxs("div",{className:"sm:w-3/4 w-[550px] print:w-full",children:[s.jsxs("div",{className:"w-full space-y-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Jenis Simpanan"}),s.jsxs("div",{className:"w-3/4",children:[": ",t.contact_type]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"ID Simpanan"}),s.jsxs("div",{className:"w-3/4",children:[": ",i.no_ref??"-"]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Nama"}),s.jsxs("div",{className:"w-3/4",children:[": ",i.contact.name," (",i.contact.contact_categories[0].name,")"]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Saldo Akhir"}),s.jsxs("div",{className:"w-3/4",children:[": IDR. ",c(t.contact_value)]})]})]}),s.jsxs("div",{className:"w-full space-y-2 mt-2 pt-3 border-t border-slate-900",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"No Ref Transaksi"}),s.jsxs("div",{className:"w-3/4",children:[": ",e.no_ref]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Tanggal"}),s.jsxs("div",{className:"w-3/4",children:[": ",l(e.date).locale("id").format("DD MMMM YYYY")]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-1/4",children:"Total"}),s.jsxs("div",{className:"w-3/4",children:[s.jsxs("div",{children:[": ",s.jsxs("span",{className:`font-bold ${e.debit>0?"text-red-600":"text-green-600"}`,children:["IDR. ",c(e.debit>0?e.debit:e.credit)," (",e.debit>0?"D":"C",")"]})]}),s.jsxs("div",{children:["(",s.jsxs("span",{className:"italic uppercase",children:[t.terbilang," rupiah"]}),")"]})]})]})]}),s.jsx("div",{className:"mt-20 w-full hidden justify-end print:flex",children:s.jsxs("div",{className:"",children:[s.jsxs("div",{children:[a.address,", ",l().locale("id").format("DD MMMM YYYY")," "]}),s.jsx("div",{className:"uppercase font-bold mt-20",children:f.name})]})})]})})]})}),s.jsx(N,{})]})}E.layout=a=>s.jsx(D,{header:s.jsxs(I,{children:["Detail ",a.props.ledger.debit>0?"Penarikan":"Setoran"," Simpanan"]}),children:a,user:a.props.auth.user,organization:a.props.organization,title:"Detail Simpanan",backLink:s.jsx(d,{href:route("cashflow.saving.ledger",{organization:a.props.organization.id}),children:s.jsx(R,{})}),breadcrumbs:s.jsx("div",{className:"text-sm breadcrumbs",children:s.jsxs("ul",{children:[s.jsx("li",{className:"font-bold",children:s.jsx(d,{href:route("cashflow",a.props.organization.id),children:"Arus Kas"})}),s.jsx("li",{className:"font-bold",children:s.jsx(d,{href:route("cashflow.saving",a.props.organization.id),children:"Simpanan"})}),s.jsx("li",{className:"font-bold",children:s.jsx(d,{href:route("cashflow.saving.ledger",a.props.organization.id),children:"Tambah/Tarik Simpanan"})}),s.jsx("li",{children:"Detail/Print Simpanan"})]})}),role:a.props.role});export{E as default};
