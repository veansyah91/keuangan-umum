import{r as t,j as e,L as _,S as z,$ as m}from"./app-aef41eca.js";import{D as M,A as H}from"./AuthenticatedLayout-905ab386.js";import{H as O}from"./Header-254e6151.js";import{c as K}from"./index.esm-8e56d419.js";import{d as n}from"./dayjs.min-241ae6cd.js";import{P as q}from"./PrimaryButton-2671d8c0.js";import{e as Y}from"./index.esm-6ad6ab3f.js";import{S as F}from"./SecondaryButton-669ef098.js";import{f as i}from"./formatNumber-b542c689.js";import"./ApplicationLogo-af080d56.js";import"./iconBase-4cdc82a0.js";import"./transition-ade245dd.js";/* empty css                      */function G({startDateFilter:a,endDateFilter:c,ledgers:w,organization:l,startedValue:u,balance:g,balanceCategory:y,contact:S}){console.log(u);const[k,V]=t.useState([]),[o,B]=t.useState(a||""),[x,C]=t.useState(c||""),[T,j]=t.useState(!1),[r,L]=t.useState({startValue:0,endValue:0}),[p,R]=t.useState({startDate:a||"",endDate:a||""}),[b,A]=t.useState({startDate:c||"",endDate:c||""});t.useEffect(()=>{a&&c&&u&&N(w,u)},[]);const N=(s,h)=>{let d=h,v=[];s.map((f,$)=>{d+=f.debit-f.credit,v[$]={...f,total:d}}),V(v),L({startValue:h,endValue:d})},I=s=>{R(s),B(n(s.endDate).format("YYYY-MM-DD"))},P=s=>{A(s),C(n(s.endDate).format("YYYY-MM-DD"))},E=()=>{z.reload({only:["ledgers","startedValue"],data:{startDate:o,endDate:x},onBefore:s=>{s.completed?j(!1):j(!0)},onSuccess:({props:s})=>{N(s.ledgers,s.startedValue)},onFinish:()=>{j(!1)}})},D=()=>{window.print()};return e.jsxs(e.Fragment,{children:[e.jsx(_,{title:`Buku Tabungan Periode : ${n(o).format("MMMM DD, YYYY")} - ${n(x).format("MMMM DD, YYYY")}`}),e.jsx("div",{className:"md:pt-0 pb-16 pt-12",children:e.jsxs("div",{className:"bg-white py-2 md:pt-0 px-5 space-y-2",children:[e.jsxs("div",{className:"flex md:flex-row justify-between gap-2 print:hidden",children:[e.jsxs("div",{className:"px-3 my-auto flex flex-col md:flex-row gap-3 w-full md:w-2/3",children:[e.jsx("div",{className:"my-auto w-full",children:e.jsx(M,{value:p,onChange:I,useRange:!1,asSingle:!0,placeholder:"Tanggal Awal",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto w-full",children:e.jsx(M,{value:b,onChange:P,useRange:!1,asSingle:!0,placeholder:"Tanggal Akhir",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto hidden md:block",children:e.jsx(q,{disabled:!o||!x||o>x||T,onClick:E,children:"Filter"})})]}),e.jsx("div",{className:"text-end px-3 hidden md:block print:flex print:justify-between",children:e.jsx(F,{onClick:D,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"my-auto",children:e.jsx(Y,{})}),e.jsx("div",{className:"my-auto",children:"Print"})]})})}),e.jsx("div",{className:"fixed md:hidden bottom-2 right-2",children:e.jsx("button",{onClick:D,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"my-auto mx-auto",children:e.jsx(Y,{})})})})})]}),e.jsxs("div",{className:"uppercase pb-3 border-b hidden print:flex print:justify-between",children:[e.jsx("div",{className:"w-1/2 text-2xl my-auto",children:"Buku Tabungan"}),e.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[e.jsx("div",{children:l.name}),e.jsx("div",{className:"text-xs",children:l.address}),e.jsxs("div",{className:"text-xs",children:[l.village,", ",l.district,", ",l.regency,","," ",l.province]})]})]}),e.jsxs("div",{className:"w-full mt-3 hidden print:flex print:justify-between",children:[e.jsxs("div",{className:"text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{children:g.no_ref??"-"}),e.jsxs("div",{children:["an. ",S.name]})]}),e.jsx("div",{className:"font-bold",children:y.name})]}),e.jsxs("div",{className:"text-end italic text-xs",children:["Periode : ",n(p.startDate).locale("id").format("MMMM DD, YYYY")," -"," ",n(b.startDate).locale("id").format("MMMM DD, YYYY")]})]}),e.jsx("div",{className:"my-2 -mx-5 space-y-3 print:font-['Open_Sans'] overflow-auto",children:e.jsx("div",{className:"md:w-full w-[550px] print:w-full",children:e.jsxs("table",{className:"table uppercase table-zebra table-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-slate-900 font-bold border-b-2 border-slate-900",children:[e.jsx("th",{className:"w-1/12",children:"tanggal"}),e.jsx("th",{children:"ref"}),e.jsx("th",{children:"Dekripsi"}),e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"}),e.jsx("th",{className:"text-end",children:"total"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{colSpan:5,children:"Nilai Awal"}),e.jsxs("td",{className:"text-end",children:["IDR. ",i(Math.abs(r.startValue))," ",Math.abs(r.startValue)!==0&&(r.startValue>0?"(D)":"(C)")]})]}),k.map((s,h)=>{var d;return e.jsxs("tr",{children:[e.jsx("td",{children:s.date}),e.jsx("td",{children:s.no_ref}),e.jsx("td",{children:s.description??((d=s.journal)==null?void 0:d.description)}),e.jsxs("td",{className:"text-end",children:["IDR. ",i(s.debit)]}),e.jsxs("td",{className:"text-end",children:["IDR. ",i(s.credit)]}),e.jsxs("td",{className:"text-end",children:["IDR. ",i(Math.abs(s.total))," (",s.total>0?"D":"C",")"]})]},h)}),e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{colSpan:5,children:"Nilai Akhir"}),e.jsxs("td",{className:"text-end",children:["IDR. ",i(Math.abs(r.endValue))," (",r.endValue>0?"D":"C",")"]}),e.jsx("td",{})]})]})]})})})]})})]})}G.layout=a=>e.jsx(H,{header:e.jsx(O,{children:"Buku Tabungan"}),children:a,user:a.props.auth.user,organization:a.props.organization,title:"Buku Tabungan",backLink:e.jsx(m,{href:route("cashflow.saving.balance",a.props.organization.id),children:e.jsx(K,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(m,{href:route("cashflow",a.props.organization.id),children:"Arus Kas"})}),e.jsx("li",{className:"font-bold",children:e.jsx(m,{href:route("cashflow.saving",a.props.organization.id),children:"Simpanan"})}),e.jsx("li",{className:"font-bold",children:e.jsx(m,{href:route("cashflow.saving.balance",a.props.organization.id),children:"Buku Tabungan"})}),e.jsx("li",{children:"Buku Tabungan"})]})}),role:a.props.role});export{G as default};
