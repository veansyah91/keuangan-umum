import{r as i,m as w,S as k,j as e,L as I,$ as t}from"./app-e310aa01.js";import{A as C}from"./AuthenticatedLayout-69c8267d.js";import{H as D}from"./Header-e91d9d17.js";import{I as n,a as o,b as $,c as M}from"./index.esm-d43a1de0.js";import{T as _,a as T,P as B,C as F}from"./ContentDesktop-dc3a4124.js";import{M as E}from"./Modal-e0243bed.js";import{S as R}from"./SecondaryButton-94e34b2f.js";import{P as x}from"./PrimaryButton-5a931109.js";import{k as A,Q as h}from"./react-toastify.esm-1fbb98bc.js";/* empty css                      */import{C as O}from"./ContentMobile-bc5712af.js";import L from"./ProvinceMobile-e369b515.js";import{C as z}from"./ContainerDesktop-25dc8bb8.js";import H from"./ProvinceDesktop-a43ce465.js";import{a as K,u as Q}from"./index.module-6d257d70.js";import{N as V,a as q}from"./NavgroupRegional-5114e554.js";import"./ApplicationLogo-874ab5e7.js";import"./iconBase-076ca044.js";import"./transition-dbb0fec3.js";import"./dayjs.min-0b1597b0.js";import"./formatNumber-b542c689.js";import"./portal-abeed8eb.js";import"./close-provider-a657bad9.js";function G({provinces:s,searchFilter:u}){i.useState(!1);const[p,l]=i.useState(!1),[r,d]=i.useState(u||""),{data:J,setData:j,post:f,progress:c,reset:g,processing:N}=w({province:""}),[v]=K(r,500),b=Q(r);i.useEffect(()=>{b!==void 0&&y()},[v]);const y=()=>{k.reload({only:["provinces"],data:{search:r}})},P=a=>{a.preventDefault(),f(route("admin.data-master.province.post"),{onSuccess:()=>{g(),l(!1),h.success("Provinsi Berhasil Diimport",{position:h.POSITION.TOP_CENTER})}})},S=a=>{a.currentTarget.files&&j("province",a.currentTarget.files[0])};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Data Provinsi"}),e.jsx(A,{}),e.jsx("div",{className:"btm-nav sm:hidden",children:e.jsx(V,{onClick:()=>l(!0)})}),e.jsx(_,{zIndex:"z-50",search:r,setSearch:a=>d(a.target.value),pageBefore:s.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${s.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})}),pageAfter:s.links[s.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${s.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})}),page:e.jsxs(e.Fragment,{children:[s.current_page,"/",s.last_page]}),data:s}),e.jsx(O,{children:s.data.map(a=>e.jsx(L,{province:a},a.id))}),e.jsxs(z,{children:[e.jsxs(T,{children:[e.jsx("div",{className:"my-auto w-7/12",children:e.jsx(x,{className:"py-3",onClick:()=>l(!0),children:"Import Provinsi"})}),e.jsxs("div",{className:"w-3/12 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx($,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Provinsi",className:"w-full border-none focus:outline-none focus:ring-0",value:r||"",onChange:a=>d(a.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(B,{data:s})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:s.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${s.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})})}),e.jsxs("div",{className:"my-auto",children:[s.current_page,"/",s.last_page]}),e.jsx("div",{className:"my-auto",children:s.links[s.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${s.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})})})]})]}),e.jsxs("div",{className:"sm:flex hidden gap-5",children:[e.jsx("div",{className:"w-11/12",children:e.jsx(F,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Kode"}),e.jsx("th",{className:"bg-gray-200",children:"Nama Provinsi"}),e.jsx("th",{className:"bg-gray-200"})]})}),e.jsx("tbody",{children:s.data.map((a,m)=>e.jsx(H,{province:a,className:`${m%2==0&&"bg-gray-100"}`},m))})]})})}),e.jsx("div",{className:"w-1/12 text-end",children:e.jsx(q,{})})]})]}),e.jsx(E,{show:p,onClose:()=>l(!1),children:e.jsxs("form",{onSubmit:P,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Import Provinsi"}),e.jsx("div",{className:"mt-6 ",children:e.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-1",children:[e.jsx("div",{className:"sm:w-1/4 w-full my-auto",children:"File Provinsi"}),e.jsxs("div",{className:"sm:w-3/4 w-full",children:[e.jsx("input",{type:"file",className:"file-input file-input-bordered file-input-sm w-full",value:void 0,onChange:S}),c&&e.jsxs("progress",{value:c.percentage,max:"100",children:[c.percentage,"%"]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(R,{onClick:()=>l(!1),children:"Batal"}),e.jsx(x,{className:"ms-3",disabled:N,children:"Import"})]})]})})]})}G.layout=s=>e.jsx(C,{header:e.jsx(D,{children:"Data Provinsi"}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(t,{href:route("admin.data-master"),children:"Data Master"})}),e.jsx("li",{children:"Data Provinsi"})]})}),children:s,user:s.props.auth.user,title:"Data Provinsi",backLink:e.jsx(t,{href:route("admin.data-master"),children:e.jsx(M,{})})});export{G as default};
