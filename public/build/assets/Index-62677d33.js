import{r as l,y as b,j as e,Y as v,a as n}from"./app-0995e1a7.js";import{D,A as N}from"./AuthenticatedLayout-d1084fca.js";import{H as k}from"./Header-f6560b17.js";import{T as $,C as S,a as _,P as C,b as w}from"./ContentDesktop-e28724b2.js";import{I as c,a as d,b as A}from"./index.esm-58f8b0e7.js";import{o as x,u as I}from"./usePrevious-e384c439.js";import L from"./LogMobile-f3cd2809.js";import{C as P}from"./ContainerDesktop-d3e27d99.js";import V from"./LogDesktop-eb42c785.js";import"./ApplicationLogo-ac070349.js";import"./iconBase-665a6cc9.js";import"./transition-d3bca5b5.js";/* empty css                      */import"./dayjs.min-e22cc78f.js";import"./formatNumber-b542c689.js";function F({logs:a,organization:i,searchFilter:p,startDate:T,endDate:E}){l.useState(!1),l.useState(!1);const[s,o]=l.useState(p||""),[m]=x(s,500),[r,u]=l.useState({startDate:"",endDate:""}),[j]=x(r,500),g=I(s);l.useEffect(()=>{g!==void 0&&y()},[m,j]);const f=t=>{u(t)},y=()=>{b.reload({only:["logs"],data:{search:s,start_date:r.startDate,end_date:r.endDate}})};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:"Data Log Aktifitas"}),e.jsx($,{zIndex:"z-50",search:s,setSearch:t=>o(t.target.value),pageBefore:a.links[0].url?e.jsx(n,{href:`/logs/${i.id}?page=${a.current_page-1}&search=${s}`,preserveState:!0,only:["logs"],children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})}),pageAfter:a.links[a.links.length-1].url?e.jsx(n,{href:`/logs/${i.id}?page=${a.current_page+1}&search=${s}`,only:["logs"],preserveState:!0,children:e.jsx(d,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(d,{})}),page:e.jsxs(e.Fragment,{children:[a.current_page,"/",a.last_page]}),data:a}),e.jsx(S,{children:a.data.map(t=>e.jsx(L,{logItem:t},t.id))}),e.jsxs(P,{children:[e.jsxs(_,{children:[e.jsx("div",{className:"w-1/4 my-auto ",children:e.jsx(D,{value:r,onChange:f,showShortcuts:!0,classNames:"border-2",separator:" sampai ",id:"date-picker-desktop"})}),e.jsxs("div",{className:"w-1/4 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx(A,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Log Aktifitas",className:"w-full border-none focus:outline-none focus:ring-0",value:s||"",onChange:t=>o(t.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(C,{data:a})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:a.links[0].url?e.jsx(n,{href:`/logs/${i.id}?page=${a.current_page-1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,preserveState:!0,children:e.jsx(c,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(c,{})})}),e.jsxs("div",{className:"my-auto",children:[a.current_page,"/",a.last_page]}),e.jsx("div",{className:"my-auto",children:a.links[a.links.length-1].url?e.jsx(n,{href:`/logs/${i.id}?page=${a.current_page+1}&search=${s}&start_date=${r.startDate}&end_date=${r.endDate}`,only:["logs"],preserveState:!0,children:e.jsx(d,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(d,{})})})]})]}),e.jsx(w,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Deskripsi"}),e.jsx("th",{className:"bg-gray-200",children:"Dibuat Tanggal"})]})}),e.jsx("tbody",{children:a.data.map((t,h)=>e.jsx(V,{logItem:t,className:`${h%2==0&&"bg-gray-100"}`},h))})]})})]})]})}F.layout=a=>e.jsx(N,{header:e.jsx(k,{children:"Log Aktifitas"}),children:a,user:a.props.auth.user,role:a.props.role,organization:a.props.organization,title:"Log Aktifitas"});export{F as default};
