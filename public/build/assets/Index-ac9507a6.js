import{r as i,W as S,y as k,j as e,Y as I,a as t}from"./app-5a32895a.js";import{A as C}from"./AuthenticatedLayout-aaefbd4c.js";import{H as D}from"./Header-e7fc7cfb.js";import{I as n,a as o,b as M,c as _}from"./index.esm-bd4bd7ee.js";import{T as $,a as T,P as B,C as F}from"./ContentDesktop-81769251.js";import{M as E}from"./Modal-8f2a47cc.js";import{S as R}from"./SecondaryButton-1ef4fc88.js";import{P as x}from"./PrimaryButton-a204c97e.js";import{k as A,Q as h}from"./react-toastify.esm-40084ac1.js";/* empty css                      */import{C as O}from"./ContentMobile-8d7b7c25.js";import z from"./ProvinceMobile-eca44c9b.js";import{C as H}from"./ContainerDesktop-b31995c5.js";import K from"./ProvinceDesktop-6b15735d.js";import{o as L,u as Q}from"./index.module-6d904af2.js";import{N as V,a as W}from"./NavgroupRegional-1f4bec49.js";import"./ApplicationLogo-129360f1.js";import"./iconBase-6b1d4fe3.js";import"./transition-7d2eb4c9.js";import"./dayjs.min-75afdc15.js";import"./formatNumber-b542c689.js";import"./portal-519ccc5e.js";import"./close-provider-4c5c72d3.js";function Y({provinces:a,searchFilter:u}){i.useState(!1);const[p,l]=i.useState(!1),[r,d]=i.useState(u||""),{data:q,setData:j,post:f,progress:c,reset:g,processing:N}=S({province:""}),[v]=L(r,500),y=Q(r);i.useEffect(()=>{y!==void 0&&b()},[v]);const b=()=>{k.reload({only:["provinces"],data:{search:r}})},P=s=>{s.preventDefault(),f(route("admin.data-master.province.post"),{onSuccess:()=>{g(),l(!1),h.success("Provinsi Berhasil Diimport",{position:h.POSITION.TOP_CENTER})}})},w=s=>{s.currentTarget.files&&j("province",s.currentTarget.files[0])};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"Data Provinsi"}),e.jsx(A,{}),e.jsx("div",{className:"btm-nav sm:hidden",children:e.jsx(V,{onClick:()=>l(!0)})}),e.jsx($,{zIndex:"z-50",search:r,setSearch:s=>d(s.target.value),pageBefore:a.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})}),pageAfter:a.links[a.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})}),page:e.jsxs(e.Fragment,{children:[a.current_page,"/",a.last_page]}),data:a}),e.jsx(O,{children:a.data.map(s=>e.jsx(z,{province:s},s.id))}),e.jsxs(H,{children:[e.jsxs(T,{children:[e.jsx("div",{className:"my-auto w-7/12",children:e.jsx(x,{className:"py-3",onClick:()=>l(!0),children:"Import Provinsi"})}),e.jsxs("div",{className:"w-3/12 border flex rounded-lg",children:[e.jsx("label",{htmlFor:"search-input",className:"my-auto ml-2",children:e.jsx(M,{})}),e.jsx("input",{id:"search-input",name:"search-input",type:"search",placeholder:"Cari Provinsi",className:"w-full border-none focus:outline-none focus:ring-0",value:r||"",onChange:s=>d(s.target.value)})]}),e.jsx("div",{className:"italic text-xs my-auto w-1/12 text-center",children:e.jsx(B,{data:a})}),e.jsxs("div",{className:"my-auto flex space-x-2 w-1/12",children:[e.jsx("div",{className:"my-auto",children:a.links[0].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page-1}&search=${r}`,preserveState:!0,children:e.jsx(n,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(n,{})})}),e.jsxs("div",{className:"my-auto",children:[a.current_page,"/",a.last_page]}),e.jsx("div",{className:"my-auto",children:a.links[a.links.length-1].url?e.jsx(t,{href:`/admin/data-master/provinces?page=${a.current_page+1}&search=${r}`,only:["provinces"],preserveState:!0,children:e.jsx(o,{})}):e.jsx("div",{className:"text-gray-300",children:e.jsx(o,{})})})]})]}),e.jsxs("div",{className:"sm:flex hidden gap-5",children:[e.jsx("div",{className:"w-11/12",children:e.jsx(F,{children:e.jsxs("table",{className:"table table-pin-rows table-pin-cols text-base",children:[e.jsx("thead",{className:"text-base text-gray-900",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"bg-gray-200",children:"Kode"}),e.jsx("th",{className:"bg-gray-200",children:"Nama Provinsi"}),e.jsx("th",{className:"bg-gray-200"})]})}),e.jsx("tbody",{children:a.data.map((s,m)=>e.jsx(K,{province:s,className:`${m%2==0&&"bg-gray-100"}`},m))})]})})}),e.jsx("div",{className:"w-1/12 text-end",children:e.jsx(W,{})})]})]}),e.jsx(E,{show:p,onClose:()=>l(!1),children:e.jsxs("form",{onSubmit:P,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Import Provinsi"}),e.jsx("div",{className:"mt-6 ",children:e.jsxs("div",{className:"flex flex-col sm:flex-row w-full gap-1",children:[e.jsx("div",{className:"sm:w-1/4 w-full my-auto",children:"File Provinsi"}),e.jsxs("div",{className:"sm:w-3/4 w-full",children:[e.jsx("input",{type:"file",className:"file-input file-input-bordered file-input-sm w-full",value:void 0,onChange:w}),c&&e.jsxs("progress",{value:c.percentage,max:"100",children:[c.percentage,"%"]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(R,{onClick:()=>l(!1),children:"Batal"}),e.jsx(x,{className:"ms-3",disabled:N,children:"Import"})]})]})})]})}Y.layout=a=>e.jsx(C,{header:e.jsx(D,{children:"Data Provinsi"}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(t,{href:route("admin.data-master"),children:"Data Master"})}),e.jsx("li",{children:"Data Provinsi"})]})}),children:a,user:a.props.auth.user,title:"Data Provinsi",backLink:e.jsx(t,{href:route("admin.data-master"),children:e.jsx(_,{})})});export{Y as default};
