import{W as D,r as c,j as e,Y as S,a as r}from"./app-494cfc61.js";import{D as o,A as _}from"./AuthenticatedLayout-11623ec7.js";import{H as k}from"./Header-f0cecfae.js";import{c as C}from"./index.esm-15ebc599.js";import{S as P}from"./SecondaryButton-f564c527.js";import{P as T}from"./PrimaryButton-1101559c.js";import{F}from"./FormInput-34e73001.js";import{k as I,Q as u}from"./react-toastify.esm-84bbabca.js";import{I as i}from"./InputLabel-d153d7a7.js";import{T as n}from"./TextInput-cd5e0c42.js";import{N as B}from"./react-number-format.es-0cca0452.js";import"./ApplicationLogo-baa2e923.js";import"./iconBase-24f1c908.js";import"./transition-c5d5c5d7.js";/* empty css                      */import"./dayjs.min-a7f5d384.js";function E({organization:t,code:x}){const{data:d,setData:l,processing:h,post:p,errors:a,setError:V}=D({name:"",code:x,description:"",start_date:"",end_date:"",status:"",estimated_value:0}),[j,f]=c.useState({startDate:"",endDate:""}),[v,N]=c.useState({startDate:"",endDate:""}),w=s=>{s.preventDefault(),p(route("data-master.project.post",t.id),{onSuccess:({props:m})=>{u.success("Proyek Berhasil Ditambahkan",{position:u.POSITION.TOP_CENTER}),l({name:"",code:m.code,description:"",start_date:"",end_date:"",status:"",estimated_value:0})},preserveScroll:!0})},g=s=>{f(s),l("start_date",s.startDate)},y=s=>{N(s),l("end_date",s.startDate)},b=s=>{const{value:m}=s;l("estimated_value",m)};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Tambah Proyek"}),e.jsx(I,{}),e.jsx(F,{onSubmit:w,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0 space-y-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Nama Proyek",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(n,{id:"name",name:"name",className:`w-full ${(a==null?void 0:a.name)&&"border-red-500"}`,isFocused:!0,placeholder:"Nama",value:d.name,onChange:s=>l("name",s.target.value.toUpperCase())}),(a==null?void 0:a.name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Kode",htmlFor:"code",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(n,{id:"code",name:"code",className:`w-full ${(a==null?void 0:a.code)&&"border-red-500"}`,placeholder:"Kode",value:d.code,onChange:s=>l("code",s.target.value.toUpperCase())}),(a==null?void 0:a.code)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.code})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Deskripsi",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(n,{id:"description",name:"description",className:`w-full ${(a==null?void 0:a.description)&&"border-red-500"}`,placeholder:"Deskripsi",value:d.description,onChange:s=>l("description",s.target.value.toUpperCase())}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Estimasi Kebutuhan Biaya",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(B,{value:d.estimated_value,customInput:n,onValueChange:s=>b(s),thousandSeparator:!0,className:"text-end w-full",prefix:"IDR ",id:"estimated-value"}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tanggal Mulai",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(o,{value:j,onChange:g,inputClassName:(a==null?void 0:a.start_datedate)&&"border-red-500 rounded-lg",useRange:!1,asSingle:!0,placeholder:"Tanggal Mulai",id:"start_date"}),(a==null?void 0:a.start_date)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.start_date})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Tanggal Akhir",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(o,{value:v,onChange:y,inputClassName:(a==null?void 0:a.end_datedate)&&"border-red-500 rounded-lg",useRange:!1,asSingle:!0,placeholder:"Tanggal Akhir",id:"end_date"}),(a==null?void 0:a.end_date)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.end_date})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(i,{value:"Status",htmlFor:"status",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsxs("select",{className:"select select-bordered w-full",id:"status",value:d.status,onChange:s=>l("status",s.target.value),children:[e.jsx("option",{disabled:!0,value:"",children:"--Pilih Status--"}),e.jsx("option",{value:"not started",children:"Belum Dimulai"}),e.jsx("option",{value:"pending",children:"Menunggu"}),e.jsx("option",{value:"in progress",children:"Dalam Pengerjaan"}),e.jsx("option",{value:"finished",children:"Selesai"})]}),(a==null?void 0:a.status)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.status})]})]}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(r,{href:route("data-master.project",t.id),children:e.jsx(P,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Batal"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(T,{className:"w-full",disabled:h,children:e.jsx("div",{className:"text-center w-full",children:"Simpan"})})})]})]})})})]})}E.layout=t=>e.jsx(_,{header:e.jsx(k,{children:"Tambah Proyek"}),children:t,user:t.props.auth.user,organization:t.props.organization,title:"Tambah Proyek",backLink:e.jsx(r,{href:route("data-master.project",t.props.organization.id),children:e.jsx(C,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(r,{href:route("data-master",t.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(r,{href:route("data-master.project",t.props.organization.id),children:"Proyek"})}),e.jsx("li",{children:"Tambah Proyek"})]})}),role:t.props.role});export{E as default};
