import{W as v,r as x,j as e,Y as b,a as r}from"./app-fceea874.js";import{A as y}from"./AuthenticatedLayout-2fc4923d.js";import{H as g}from"./Header-bc47d342.js";import{k,Q as h}from"./react-toastify.esm-336384b8.js";/* empty css                      */import{c as C}from"./index.esm-270bc969.js";import{F as T}from"./FormInput-9df1deb9.js";import{I as o}from"./InputLabel-4b6aa82e.js";import{T as c}from"./TextInput-48efa2df.js";import{S as F}from"./SecondaryButton-108da301.js";import{P as S}from"./PrimaryButton-2d7b644a.js";import"./index.esm-9e19dc65.js";import"./iconBase-546c15a2.js";import"./transition-ba32288f.js";import"./dayjs.min-48cfbf38.js";function D({organization:l,categories:u}){const{data:i,setData:m,processing:p,post:f,errors:a,setError:I,reset:j}=v({name:"",phone:"",address:"",description:"",category:[]}),[t,d]=x.useState([]);x.useEffect(()=>{m("category",t)},[t]);const N=s=>{t.includes(s)?d(t.filter(n=>n!==s)):d([...t,s]),m("category",t)},w=s=>{s.preventDefault(),f(route("data-master.contact.store",l.id),{onSuccess:()=>{h.success("Kontak Berhasil Ditambahkan",{position:h.POSITION.TOP_CENTER}),j(),d([])},preserveScroll:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Tambah Data Kontak"}),e.jsx(k,{}),e.jsx(T,{onSubmit:w,children:e.jsx("div",{className:"w-full sm:mt-2 sm:py-5",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(o,{value:"Nama",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(c,{id:"name",name:"name",className:`w-full ${(a==null?void 0:a.name)&&"border-red-500"}`,isFocused:!0,placeholder:"Nama",value:i.name,onChange:s=>m("name",s.target.value.toUpperCase())}),(a==null?void 0:a.name)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.name})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(o,{value:"No. Handphone (opsional)",htmlFor:"phone",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(c,{id:"phone",name:"phone",className:`w-full ${(a==null?void 0:a.phone)&&"border-red-500"}`,placeholder:"No. Handphone",value:i.phone,onChange:s=>m("phone",s.target.value.toUpperCase())}),(a==null?void 0:a.phone)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.phone})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(o,{value:"Alamat (opsional)",htmlFor:"address",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(c,{id:"address",name:"address",className:`w-full ${(a==null?void 0:a.address)&&"border-red-500"}`,placeholder:"Alamat",value:i.address,onChange:s=>m("address",s.target.value.toUpperCase())}),(a==null?void 0:a.address)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.address})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(o,{value:"Informasi Tambahan (opsional)",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx(c,{id:"description",name:"description",className:`w-full ${(a==null?void 0:a.description)&&"border-red-500"}`,placeholder:"Informasi Tambahan",value:i.description,onChange:s=>m("description",s.target.value.toUpperCase())}),(a==null?void 0:a.description)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.description})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(o,{value:"Kategori",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("div",{className:`flex flex-wrap gap-3 ${(a==null?void 0:a.category)&&"border-red-500 border rounded-md"} `,children:u.map((s,n)=>e.jsx("div",{className:"form-control ",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:`checkbox-${n}`,children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:`checkbox-${n}`,value:s.id,onChange:()=>N(s.id),checked:t.includes(s.id)}),e.jsx("span",{className:"label-text",children:s.name})]})},n))}),(a==null?void 0:a.category)&&e.jsx("span",{className:"text-red-500 text-xs",children:a.category})]})]}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(r,{href:route("data-master.contact",l.id),children:e.jsx(F,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Batal"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(S,{className:"w-full",disabled:p,children:e.jsx("div",{className:"text-center w-full",children:"Simpan"})})})]})]})})})]})}D.layout=l=>e.jsx(y,{header:e.jsx(g,{children:"Tambah Data Kontak"}),children:l,user:l.props.auth.user,organization:l.props.organization,title:"Tambah Data Kontak",backLink:e.jsx(r,{href:route("data-master.contact",l.props.organization.id),children:e.jsx(C,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(r,{href:route("data-master",l.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(r,{href:route("data-master.contact",l.props.organization.id),children:"Data Kontak"})}),e.jsx("li",{children:"Tambah Data Kontak"})]})}),role:l.props.role});export{D as default};
