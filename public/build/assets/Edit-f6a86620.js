import{W as v,r as x,j as e,Y as b,a as c}from"./app-f3916a1a.js";import{A as y}from"./AuthenticatedLayout-ee6e7afa.js";import{H as g}from"./Header-026ae316.js";import{k,Q as h}from"./react-toastify.esm-6d8260b2.js";/* empty css                      */import{c as C}from"./index.esm-e9d04fa1.js";import{F}from"./FormInput-165733a1.js";import{I as m}from"./InputLabel-665801cc.js";import{T as n}from"./TextInput-525ea12b.js";import{S as D}from"./SecondaryButton-7ab0cfb6.js";import{P as S}from"./PrimaryButton-5f80bdf0.js";import"./index.esm-55229e1f.js";import"./iconBase-dd13dc9c.js";import"./transition-a6db7282.js";import"./dayjs.min-0f1cdf93.js";function U({organization:s,categories:p,contact:r,contactCategory:d}){const{data:i,setData:t,processing:f,patch:j,errors:E,setError:I,reset:K}=v({name:r.name||"",phone:r.phone||"",address:r.address||"",description:r.description||"",category:d}),[l,u]=x.useState(d);x.useEffect(()=>{t("category",l)},[l]);const w=a=>{a.preventDefault(),j(route("data-master.contact.update",{organization:s.id,contact:r.id}),{onSuccess:()=>{h.success("Kontak Berhasil Ditambahkan",{position:h.POSITION.TOP_CENTER})},preserveScroll:!0})},N=a=>{l.includes(a)?u(l.filter(o=>o!==a)):u([...l,a]),t("category",l)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Ubah Data Kontak"}),e.jsx(k,{}),e.jsx(F,{onSubmit:w,id:"formEdit",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"sm:w-1/2 sm:mx-auto px-3 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(m,{value:"Nama",htmlFor:"name",className:" mx-auto my-auto"})}),e.jsx("div",{className:"w-full sm:w-2/3",children:e.jsx(n,{id:"name",name:"name",className:"w-full",isFocused:!0,placeholder:"Nama",value:i.name,onChange:a=>t("name",a.target.value.toUpperCase())})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(m,{value:"No. Handphone (opsional)",htmlFor:"phone",className:" mx-auto my-auto"})}),e.jsx("div",{className:"w-full sm:w-2/3",children:e.jsx(n,{id:"phone",name:"phone",className:"w-full",placeholder:"No. Handphone",value:i.phone,onChange:a=>t("phone",a.target.value.toUpperCase())})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(m,{value:"Alamat (opsional)",htmlFor:"address",className:" mx-auto my-auto"})}),e.jsx("div",{className:"w-full sm:w-2/3",children:e.jsx(n,{id:"address",name:"address",className:"w-full",placeholder:"Alamat",value:i.address,onChange:a=>t("address",a.target.value.toUpperCase())})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(m,{value:"Informasi Tambahan (opsional)",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsx("div",{className:"w-full sm:w-2/3",children:e.jsx(n,{id:"description",name:"description",className:"w-full",placeholder:"Informasi Tambahan",value:i.description,onChange:a=>t("description",a.target.value.toUpperCase())})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-1 mt-5 sm:mt-2",children:[e.jsx("div",{className:"w-full sm:w-1/3 my-auto",children:e.jsx(m,{value:"Kategori",htmlFor:"description",className:" mx-auto my-auto"})}),e.jsx("div",{className:"w-full sm:w-2/3",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map((a,o)=>e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer gap-2",htmlFor:`checkbox-${o}`,children:[e.jsx("input",{type:"checkbox",className:"checkbox",id:`checkbox-${o}`,value:a.id,onChange:()=>N(a.id),checked:l.includes(a.id)}),e.jsx("span",{className:"label-text",children:a.name})]})},o))})})]}),e.jsxs("div",{className:"flex justify-end flex-col-reverse sm:flex-row gap-2 mt-5",children:[e.jsx("div",{className:"w-full sm:w-1/6 my-auto text-center",children:e.jsx(c,{href:route("data-master.contact",s.id),children:e.jsx(D,{className:"w-full",children:e.jsx("div",{className:"text-center w-full",children:"Batal"})})})}),e.jsx("div",{className:"w-full sm:w-1/6 text-center",children:e.jsx(S,{className:"w-full",disabled:f,children:e.jsx("div",{className:"text-center w-full",children:"Ubah"})})})]})]})})})]})}U.layout=s=>e.jsx(y,{header:e.jsx(g,{children:"Ubah Data Kontak"}),children:s,user:s.props.auth.user,organization:s.props.organization,title:"Ubah Data Kontak",backLink:e.jsx(c,{href:route("data-master.contact",s.props.organization.id),children:e.jsx(C,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(c,{href:route("data-master",s.props.organization.id),children:"Data Master"})}),e.jsx("li",{className:"font-bold",children:e.jsx(c,{href:route("data-master.contact",s.props.organization.id),children:"Data Kontak"})}),e.jsx("li",{children:"Ubah Data Kontak"})]})}),role:s.props.role});export{U as default};
