import{r as a,j as e,Y as H,y as I,a as f}from"./app-9bc0302d.js";import{D as N,A as O}from"./AuthenticatedLayout-4323ddd0.js";import{H as K}from"./Header-69508720.js";import{c as _}from"./index.esm-91a5c297.js";import{S as q}from"./SecondaryButton-d442af83.js";import{F as b}from"./index.esm-1fbcf810.js";import{P as z}from"./PrimaryButton-b12cbd6c.js";import{d as m}from"./dayjs.min-96472887.js";import u from"./TrialBalanceContent-2cc6329a.js";import"./index.esm-c050181c.js";import"./iconBase-7a0c9288.js";import"./transition-28678dcf.js";/* empty css                      */import"./formatNumber-b542c689.js";function G({organization:t,balances:v,lostProfits:S,total:p,startDateFilter:x,endDateFilter:h,departments:J,projects:Q,programs:U,department:r,project:l,program:d}){const[D,y]=a.useState(v||[]),[Y,M]=a.useState(S||[]),[W,g]=a.useState(p||[]),[n,w]=a.useState(x||""),[i,L]=a.useState(h||""),[k,P]=a.useState({startDate:x||"",endDate:x||""}),[B,A]=a.useState({startDate:h||"",endDate:h||""}),[C,o]=a.useState(!1),[T,X]=a.useState({id:l?l.id:null,name:l?l.name:"",code:l?l.code:""});a.useState("");const[E,Z]=a.useState({id:d?d.id:null,name:d?d.name:"",code:d?d.code:""});a.useState("");const[R,ee]=a.useState({id:r?r.id:null,name:r?r.name:"",code:r?r.code:""});a.useState("");const V=s=>{P(s),w(s.startDate)},F=s=>{A(s),L(s.endDate)},$=()=>{I.reload({only:["balances","lostProfits","total"],data:{startDate:n,endDate:i,program:E.id,project:T.id,department:R.id},onBefore:s=>{s.completed?o(!1):o(!0)},onSuccess:s=>{y(s.props.balances),M(s.props.lostProfits),g(s.props.total)},onError:s=>{console.log(s)},onFinish:s=>{s.completed?o(!1):o(!0)},preserveState:!0})},j=()=>{window.print()};return e.jsxs(e.Fragment,{children:[e.jsx(H,{title:`Laporan Neraca Lajur : ${m(n).format("MMMM DD, YYYY")} - ${m(i).format("MMMM DD, YYYY")}`}),e.jsx("div",{className:"sm:pt-0 pb-16 pt-12",children:e.jsxs("div",{className:"bg-white py-2 sm:pt-0 px-5",children:[e.jsxs("div",{className:"flex sm:flex-row justify-between gap-2 print:hidden",children:[e.jsxs("div",{className:"px-3 my-auto flex gap-3",children:[e.jsx("div",{className:"my-auto",children:e.jsx(N,{value:k,onChange:V,useRange:!1,asSingle:!0,placeholder:"Tanggal Awal",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto",children:e.jsx(N,{value:B,onChange:F,useRange:!1,asSingle:!0,placeholder:"Tanggal Akhir",id:"date",displayFormat:"MMMM DD, YYYY"})}),e.jsx("div",{className:"my-auto",children:e.jsx(z,{disabled:!n||!i||n>i||C,onClick:$,children:"Filter"})})]}),e.jsx("div",{className:"text-end px-3 hidden sm:block",children:e.jsx(q,{onClick:j,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"my-auto",children:e.jsx(b,{})}),e.jsx("div",{className:"my-auto",children:"Print"})]})})}),e.jsx("div",{className:"fixed sm:hidden bottom-2 right-2",children:e.jsx("button",{onClick:j,className:"bg-white border-2 border-slate-900 p-2 rounded-full h-14 w-14",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"my-auto mx-auto",children:e.jsx(b,{})})})})})]}),e.jsxs("div",{className:"uppercase pt-9 pb-3 border-b hidden print:flex print:justify-between",children:[e.jsx("div",{className:"w-1/2 text-2xl my-auto",children:"Laporan Neraca Lajur"}),e.jsxs("div",{className:"w-1/2 text-end mt-auto",children:[e.jsx("div",{children:t.name}),e.jsx("div",{className:"text-xs",children:t.address}),e.jsxs("div",{className:"text-xs",children:[t.village,", ",t.district,", ",t.regency,","," ",t.province]})]})]}),e.jsxs("div",{className:"w-full mt-3 hidden print:flex print:justify-between",children:[e.jsx("div",{className:"uppercase"}),e.jsxs("div",{className:"text-end italic",children:["Periode : ",m(n).format("MMMM DD, YYYY")," -"," ",m(i).format("MMMM DD, YYYY")]})]}),e.jsx("div",{className:"my-2 -mx-5 space-y-3 print:font-['Open_Sans'] overflow-auto",children:e.jsx("div",{className:"sm:w-full w-[550px] print:w-full",children:e.jsxs("table",{className:"table uppercase table-zebra table-xs",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"text-slate-900 font-bold",children:[e.jsx("th",{rowSpan:2,children:"Kode Akun"}),e.jsx("th",{rowSpan:2,children:"Nama Akun"}),e.jsx("th",{className:"text-end",colSpan:2,children:"saldo awal"}),e.jsx("th",{className:"text-end",colSpan:2,children:"mutasi"}),e.jsx("th",{className:"text-end",colSpan:2,children:"saldo akhir"})]}),e.jsxs("tr",{className:"text-slate-900 font-bold border-b-2 border-slate-900",children:[e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"}),e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"}),e.jsx("th",{className:"text-end",children:"debit"}),e.jsx("th",{className:"text-end",children:"kredit"})]})]}),e.jsxs("tbody",{children:[D.sort((s,c)=>s.code-c.code).map((s,c)=>e.jsx(u,{ledger:s},c)),Y.map((s,c)=>e.jsx(u,{ledger:s},c))]}),e.jsx("tfoot",{children:e.jsx(u,{ledger:p,isTotal:!0})})]})})})]})})]})}G.layout=t=>e.jsx(O,{header:e.jsx(K,{children:"Laporan Neraca Lajur"}),children:t,user:t.props.auth.user,organization:t.props.organization,title:"Laporan Neraca Lajur",backLink:e.jsx(f,{href:route("report",t.props.organization.id),children:e.jsx(_,{})}),breadcrumbs:e.jsx("div",{className:"text-sm breadcrumbs",children:e.jsxs("ul",{children:[e.jsx("li",{className:"font-bold",children:e.jsx(f,{href:route("report",t.props.organization.id),children:"Laporan"})}),e.jsx("li",{children:"Laporan Neraca Lajur"})]})}),role:t.props.role});export{G as default};
